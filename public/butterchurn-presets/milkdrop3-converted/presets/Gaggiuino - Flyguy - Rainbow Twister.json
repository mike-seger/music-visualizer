{"version":2,"baseVals":{"rating":5,"gammaadj":1.46,"decay":0.935,"echo_zoom":1.007,"echo_alpha":0.5,"echo_orient":2,"wave_mode":7,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"brighten":1,"darken":1,"wave_a":0.001,"wave_scale":1.042,"wave_smoothing":0.63,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpanimspeed":1.459,"warpscale":2.007,"fshader":1,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"ob_size":0.105,"ib_r":0.7,"ib_g":0,"ib_b":1,"mv_x":64,"mv_y":48,"mv_l":0,"mv_g":1.1,"mv_b":0.97,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":3,"additive":1,"thickoutline":1,"textured":1,"num_inst":311,"rad":0.0334,"tex_ang":0.62832,"g":1,"b":1,"r2":1,"g2":0,"b2":1,"border_g":0,"border_b":0,"border_a":0},"init_eqs_str":"(function(){a['ma'] = 0; a['mx'] = 0; a['my'] = 0; a['pi23'] = 0; a['t1'] = 0; }())","frame_eqs_str":"(function(){a['ma']=(a['ma']+(((above(a['bass'], 1)*3.1415)*0.01)*a['bass'])); a['ma']=(a['ma']-(((above(a['treb'], 1)*3.1415)*0.01)*a['treb'])); a['mx']=(a['mx']+(0.0002*Math.cos((a['ma']-a['ang'])))); a['my']=(a['my']+(0.0002*Math.tan(a['ma']))); a['mx']=((Math.abs(above(a['mx'], 0.9))>0.00001)?((0.9-a['mx'])):(a['mx'])); a['my']=((Math.abs(above(a['my'], 0.961))>0.00001)?((0.961-a['my'])):(a['my'])); a['mx']=((Math.abs(below(a['mx'], 0.2))>0.00001)?((0.9+a['mx'])):(a['mx'])); a['my']=((Math.abs(below(a['my'], 0.3))>0.00001)?((0.9+a['my'])):(a['my'])); a['x']=(1-a['mx']); a['y']=(1-a['my']); a['ang']=((Math.sin((a['time']*0.35))+1)*3); a['a']=above(((a['bass']+a['mid'])+a['treb']), 0.8); a['pi23']=((4*Math.asin(1))*1.333333333); a['t1']=((a['bass']+a['mid'])+a['treb']); a['r']=((Math.sin((((a['time']*a['ang'])+a['t1'])-(0*a['pi23'])))+1)*0.5); a['g']=((Math.sin((((a['time']*0.3)+a['t1'])-(1*a['pi23'])))+1)*0.5); a['b']=((Math.cos((((a['time']*0.3)+a['t1'])-(2*a['pi23'])))+1)*0.5); a['r2']=((Math.sin((((a['time']*0.3)+a['t1'])-(0*a['pi23'])))+1)*0.5); a['g2']=((Math.tan((((a['time']*0.3)+a['t1'])-(1*a['pi23'])))+1)*0.5); a['b2']=((Math.sin((((a['time']*0.3)+a['t1'])-(2*a['pi23'])))+1)*0.5);}())","init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\nma=ma-(above(treb,1)*3.1415*.01*treb);\n\nmx=mx+(.0002*cos(ma-ang));\nmy=my+(.0002*tan(ma));\n\nmx=if(above(mx,.9),(.9-mx),mx);\nmy=if(above(my,0.961),(0.961-my),my);\nmx=if(below(mx,.2),(.9+mx),mx);\nmy=if(below(my,.3),(.9+my),my);\n\nx=1-mx;\ny=1-my;\n\nang=(sin(time*.35)+1)*3;\na=(above(bass+mid+treb,.8));\npi23=4*asin(1)*1.333333333;\nt1=bass+mid+treb;\nr=(sin(time*ang+t1-0*pi23)+1)*.5;\ng=(sin(time*.3+t1-1*pi23)+1)*.5;\nb=(cos(time*.3+t1-2*pi23)+1)*.5;\nr2=(sin(time*.3+t1-0*pi23)+1)*.5;\ng2=(tan(time*.3+t1-1*pi23)+1)*.5;\nb2=(sin(time*.3+t1-2*pi23)+1)*.5;"},{"baseVals":{"enabled":1,"sides":3,"thickoutline":1,"num_inst":281,"rad":0.01,"g":1,"b":1,"r2":1,"g2":0,"b2":1,"border_g":0,"border_b":0,"border_a":0},"init_eqs_str":"(function(){a['ma'] = 0; a['mx'] = 0; a['my'] = 0; a['pi23'] = 0; a['t2'] = 0; }())","frame_eqs_str":"(function(){a['ma']=(a['ma']+(((above(a['bass'], 1)*3.1415)*0.05)*a['bass'])); a['ma']=(a['ma']-(((above(a['mid'], 1)*3.1415)*0.05)*a['mid'])); a['mx']=(a['mx']+(0.0001*Math.tan(a['ma']))); a['my']=(a['my']+(0.0001*Math.sin(a['ma']))); a['mx']=((Math.abs(above(a['mx'], 1.05))>0.00001)?((1.05-a['mx'])):(a['mx'])); a['my']=((Math.abs(above(a['my'], 0.9))>0.00001)?((0.9-a['my'])):(a['my'])); a['mx']=((Math.abs(below(a['mx'], 0.12))>0.00001)?((0.77+a['mx'])):(a['mx'])); a['my']=((Math.abs(below(a['my'], 0.1))>0.00001)?((0.9+a['my'])):(a['my'])); a['x']=(1-a['mx']); a['y']=(1-a['my']); a['ang']=((Math.sin((a['time']*0.30))+1)*3.3); a['a']=above(((a['bass']+a['mid'])+a['treb']), 0.8); a['pi23']=((4*Math.asin(1))*0.333333333); a['t2']=0; a['r']=((Math.sin((((a['time']*0.3)+a['t2'])-(0*a['pi23'])))+1)*0.5); a['g']=((Math.sin((((a['time']*0.3)+a['t2'])-(1*a['pi23'])))+1)*0.5); a['b']=((Math.sin((((a['time']*0.3)+a['t2'])-(2*a['pi23'])))+1)*0.5); a['r2']=((Math.sin((((a['time']*0.28)+a['t2'])-(0*a['pi23'])))+1)*0.5); a['g2']=((Math.sin((((a['time']*0.27)+a['t2'])-(1*a['pi23'])))+1)*0.5); a['b2']=((Math.sin((((a['time']*0.3)+a['t2'])-(2*a['pi23'])))+1)*0.5);}())","init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\nma=ma-(above(mid,1)*3.1415*.05*mid);\n\nmx=mx+(.0001*tan(ma));\nmy=my+(.0001*sin(ma));\n\nmx=if(above(mx,1.05),(1.05-mx),mx);\nmy=if(above(my,.9),(.9-my),my);\nmx=if(below(mx,0.12),(0.77+mx),mx);\nmy=if(below(my,.1),(.9+my),my);\n\nx=1-mx;\ny=1-my;\n\nang=(sin(time*.30)+1)*3.3;\na=(above(bass+mid+treb,.8));\npi23=4*asin(1)*.333333333;\nt2=0;//bass+mid+treb;\nr=(sin(time*.3+t2-0*pi23)+1)*.5;\ng=(sin(time*.3+t2-1*pi23)+1)*.5;\nb=(sin(time*.3+t2-2*pi23)+1)*.5;\nr2=(sin(time*0.28+t2-0*pi23)+1)*.5;\ng2=(sin(time*0.27+t2-1*pi23)+1)*0.5;\nb2=(sin(time*.3+t2-2*pi23)+1)*.5;"},{"baseVals":{"enabled":1,"sides":3,"additive":1,"thickoutline":1,"textured":1,"num_inst":311,"rad":0.0334,"tex_ang":0.62832,"g":1,"b":1,"r2":1,"g2":0,"b2":1,"border_g":0,"border_b":0,"border_a":0},"init_eqs_str":"(function(){a['ma'] = 0; a['mx'] = 0; a['my'] = 0; a['pi23'] = 0; a['t1'] = 0; }())","frame_eqs_str":"(function(){a['ma']=(a['ma']+(((above(a['bass'], 1)*3.1415)*0.01)*a['bass'])); a['ma']=(a['ma']-(((above(a['treb'], 1)*3.1415)*0.01)*a['treb'])); a['mx']=(a['mx']+(0.0003*Math.cos(a['ma']))); a['my']=(a['my']+(0.0003*Math.sin(a['ma']))); a['mx']=((Math.abs(above(a['mx'], 0.9))>0.00001)?((0.9-a['mx'])):(a['mx'])); a['my']=((Math.abs(above(a['my'], 0.961))>0.00001)?((0.961-a['my'])):(a['my'])); a['mx']=((Math.abs(below(a['mx'], 0.2))>0.00001)?((0.9+a['mx'])):(a['mx'])); a['my']=((Math.abs(below(a['my'], 0.3))>0.00001)?((0.9+a['my'])):(a['my'])); a['x']=(1-a['mx']); a['y']=((1-a['my'])-a['ang']); a['ang']=((Math.sin((a['time']*1.35))+1)*3); a['a']=above(((a['bass']+a['mid'])+a['treb']), 0.8); a['pi23']=((4*Math.asin(1))*2.333333333); a['t1']=((a['bass']+a['mid'])+a['treb']); a['r']=((Math.sin((((a['time']*a['ang'])+a['t1'])-(0*a['pi23'])))+1)*0.5); a['g']=((Math.sin((((a['time']*0.3)+a['t1'])-(1*a['pi23'])))+1)*0.5); a['b']=((Math.cos((((a['time']*0.3)+a['t1'])-(2*a['pi23'])))+1)*0.5); a['r2']=((Math.sin((((a['time']*0.3)+a['t1'])-(0*a['pi23'])))+1)*0.5); a['g2']=((Math.tan((((a['time']*0.3)+a['t1'])-(1*a['pi23'])))+1)*0.5); a['b2']=((Math.sin((((a['time']*0.3)+a['t1'])-(2*a['pi23'])))+1)*0.5);}())","init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\nma=ma-(above(treb,1)*3.1415*.01*treb);\n\nmx=mx+(.0003*cos(ma));\nmy=my+(.0003*sin(ma));\n\nmx=if(above(mx,.9),(.9-mx),mx);\nmy=if(above(my,0.961),(0.961-my),my);\nmx=if(below(mx,.2),(.9+mx),mx);\nmy=if(below(my,.3),(.9+my),my);\n\nx=1-mx;\ny=1-my-ang;\n\nang=(sin(time*1.35)+1)*3;\na=(above(bass+mid+treb,.8));\npi23=4*asin(1)*2.333333333;\nt1=bass+mid+treb;\nr=(sin(time*ang+t1-0*pi23)+1)*.5;\ng=(sin(time*.3+t1-1*pi23)+1)*.5;\nb=(cos(time*.3+t1-2*pi23)+1)*.5;\nr2=(sin(time*.3+t1-0*pi23)+1)*.5;\ng2=(tan(time*.3+t1-1*pi23)+1)*.5;\nb2=(sin(time*.3+t1-2*pi23)+1)*.5;"},{"baseVals":{"enabled":1,"sides":3,"additive":1,"thickoutline":1,"textured":1,"num_inst":311,"rad":0.0334,"tex_ang":0.62832,"g":1,"b":1,"r2":1,"g2":0,"b2":1,"border_g":0,"border_b":0,"border_a":0},"init_eqs_str":"(function(){a['ma'] = 0; a['mx'] = 0; a['my'] = 0; a['pi23'] = 0; a['t1'] = 0; }())","frame_eqs_str":"(function(){a['ma']=(a['ma']+(((above(a['bass'], 1)*3.1415)*0.01)*a['bass'])); a['ma']=(a['ma']-(((above(a['treb'], 1)*3.1415)*0.01)*a['treb'])); a['mx']=(a['mx']+(0.0002*Math.cos((a['ma']-a['rad'])))); a['my']=(a['my']+(0.0002*Math.sin(a['ma']))); a['mx']=((Math.abs(above(a['mx'], 0.9))>0.00001)?((0.9-a['mx'])):(a['mx'])); a['my']=((Math.abs(above(a['my'], 0.961))>0.00001)?((0.961-a['my'])):(a['my'])); a['mx']=((Math.abs(below(a['mx'], 0.2))>0.00001)?((0.9+a['mx'])):(a['mx'])); a['my']=((Math.abs(below(a['my'], 0.3))>0.00001)?((0.9+a['my'])):(a['my'])); a['x']=(1-a['mx']); a['y']=(1-a['my']); a['ang']=((Math.sin((a['time']*0.35))+1)*3); a['a']=above(((a['bass']+a['mid'])+a['treb']), 0.8); a['pi23']=((4*Math.asin(1))*1.333333333); a['t1']=((a['bass']+a['mid'])+a['treb']); a['r']=((Math.sin((((a['time']*a['ang'])+a['t1'])-(0*a['pi23'])))+1)*0.15); a['g']=((Math.sin((((a['time']*0.3)+a['t1'])-(1*a['pi23'])))+1)*0.5); a['b']=((Math.cos((((a['time']*0.3)+a['t1'])-(2*a['pi23'])))+1)*0.5); a['r2']=((Math.sin((((a['time']*0.3)+a['t1'])-(0*a['pi23'])))+1)*0.5); a['g2']=((Math.tan((((a['time']*0.3)+a['t1'])-(1*a['pi23'])))+1)*0.5); a['b2']=((Math.sin((((a['time']*0.3)+a['t1'])-(2*a['pi23'])))+1)*0.5);}())","init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\nma=ma-(above(treb,1)*3.1415*.01*treb);\n\nmx=mx+(.0002*cos(ma-rad));\nmy=my+(.0002*sin(ma));\n\nmx=if(above(mx,.9),(.9-mx),mx);\nmy=if(above(my,0.961),(0.961-my),my);\nmx=if(below(mx,.2),(.9+mx),mx);\nmy=if(below(my,.3),(.9+my),my);\n\nx=1-mx;\ny=1-my;\n\nang=(sin(time*.35)+1)*3;\na=(above(bass+mid+treb,.8));\npi23=4*asin(1)*1.333333333;\nt1=bass+mid+treb;\nr=(sin(time*ang+t1-0*pi23)+1)*.15;\ng=(sin(time*.3+t1-1*pi23)+1)*.5;\nb=(cos(time*.3+t1-2*pi23)+1)*.5;\nr2=(sin(time*.3+t1-0*pi23)+1)*.5;\ng2=(tan(time*.3+t1-1*pi23)+1)*.5;\nb2=(sin(time*.3+t1-2*pi23)+1)*.5;"}],"waves":[{"baseVals":{"enabled":1,"thick":1},"init_eqs_str":"(function(){a['ma'] = 0; a['mx'] = 0; a['my'] = 0; }())","frame_eqs_str":"","point_eqs_str":"(function(){a['ma']=(a['ma']+(((above(a['mid'], 1)*3.1415)*0.01)*a['mid'])); a['ma']=(a['ma']-(((above(a['treb'], 1)*3.1415)*0.01)*a['treb'])); a['mx']=(a['mx']+(0.0004*Math.sin(Math.tan(a['ma'])))); a['my']=(a['my']+(0.0004*Math.sin((a['ma']*a['bass'])))); a['mx']=((Math.abs(above(a['mx'], 0.9))>0.00001)?((0.9-a['mx'])):(a['mx'])); a['my']=((Math.abs(above(a['my'], 0.9))>0.00001)?((0.9-a['my'])):(a['my'])); a['mx']=((Math.abs(below(a['mx'], 0.3))>0.00001)?((0.9+a['mx'])):(a['mx'])); a['my']=((Math.abs(below(a['my'], 0.3))>0.00001)?((0.9+a['my'])):(a['my'])); a['x']=a['mx']; a['y']=a['my']; a['a']=above(((a['bass']+a['mid'])+a['treb']), 0.3);}())","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\nma=ma-(above(treb,1)*3.1415*.01*treb);\n\nmx=mx+(.0004*sin(tan(ma)));\nmy=my+(.0004*sin(ma*bass));\n\nmx=if(above(mx,.9),(.9-mx),mx);\nmy=if(above(my,.9),(.9-my),my);\nmx=if(below(mx,.3),(.9+mx),mx);\nmy=if(below(my,.3),(.9+my),my);\n\nx=mx;\ny=my;\n\na=(above(bass+mid+treb,.3));"},{"baseVals":{"enabled":1,"thick":1,"b":1.16},"init_eqs_str":"(function(){a['ma'] = 0; a['mx'] = 0; a['my'] = 0; a['ang'] = 0; }())","frame_eqs_str":"","point_eqs_str":"(function(){a['ma']=(a['ma']+(((above(a['bass'], 0.5)*3.1415)*0.02)*a['bass'])); a['ma']=(a['ma']-(((above(a['treb'], 0.5)*3.1415)*0.02)*a['treb'])); a['mx']=(a['mx']+(0.0008*Math.cos(a['ma']))); a['my']=(a['my']+(0.0008*Math.sin((a['ma']*a['ang'])))); a['mx']=((Math.abs(above(a['mx'], 0.9))>0.00001)?((0.9-a['mx'])):(a['mx'])); a['my']=((Math.abs(above(a['my'], 0.9))>0.00001)?((0.9-a['my'])):(a['my'])); a['mx']=((Math.abs(below(a['mx'], 0.1))>0.00001)?((0.9+a['mx'])):(a['mx'])); a['my']=((Math.abs(below(a['my'], 0.1))>0.00001)?((0.9+a['my'])):(a['my'])); a['x']=div(a['mx'],a['time']); a['y']=a['my']; a['a']=above(((a['bass']+a['mid'])+a['treb']), 0.22);}())","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,.5)*3.1415*.02*bass);\nma=ma-(above(treb,.5)*3.1415*.02*treb);\n\nmx=mx+(.0008*cos(ma));\nmy=my+(.0008*sin(ma*ang));\n\nmx=if(above(mx,.9),(.9-mx),mx);\nmy=if(above(my,.9),(.9-my),my);\nmx=if(below(mx,.1),(.9+mx),mx);\nmy=if(below(my,.1),(.9+my),my);\n\nx=mx/time;\ny=my;\n\na=(above(bass+mid+treb,0.22));"},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_str":"(function(){a['maxpts'] = 0; a['n'] = 0; a['z'] = 0; a['tvol'] = 0; a['newpts'] = 0; a['sfree'] = 0; a['pbase1'] = 0; a['s'] = 0; a['q12'] = 0; a['t1'] = 0; a['age'] = 0; a['tht'] = 0; a['dz0'] = 0; a['scale'] = 0; a['q15'] = 0; a['dt'] = 0; a['smooth'] = 0; a['p'] = 0; a['q1'] = 0; a['r1'] = 0; a['j'] = 0; a['q9'] = 0; a['r02'] = 0; a['pbase2'] = 0; a['k1'] = 0; a['q11'] = 0; a['ibase'] = 0; a['pi'] = 0; a['pbase'] = 0; a['q10'] = 0; a['dist0'] = 0; a['bal'] = 0; a['dx0'] = 0; a['q4'] = 0; a['start'] = 0; a['r01'] = 0; a['delpts'] = 0; a['ivol'] = 0; a['gf'] = 0; a['sz'] = 0; a['pfree'] = 0; a['i'] = 0; a['vol'] = 0; a['p1'] = 0; a['prog'] = 0; a['len'] = 0; a['dy0'] = 0; a['q3'] = 0; a['vol_'] = 0; a['dec'] = 0; a['maxstrings'] = 0; a['q32'] = 0; a['maxssize'] = 0; a['phi'] = 0; a['pvol'] = 0; a['recsize'] = 0; a['q8'] = 0; a['n']=0; for(var mdparser_idx55=0;mdparser_idx55<100000;mdparser_idx55++){a['megabuf'][Math.floor(a['n'])]=0; a['gmegabuf'][Math.floor(a['n'])]=0; a['n']+=1;} a['n']=90000; a['t']=0; for(var mdparser_idx56=0;mdparser_idx56<5000;mdparser_idx56++){a['t']+=div((2+Math.cos(div(a['n'],21))),5); a['megabuf'][Math.floor(a['n'])]=(Math.sin(a['t'])*0.5); a['n']+=1;} a['fov']=1; a['reg05']=a['fov']; a['maxstrings']=150; a['maxssize']=37; a['maxpts']=1600; a['maxshapes']=300; a['pfree']=a['maxpts']; a['sfree']=a['maxstrings']; a['recsize']=8; a['reg01']=a['recsize']; a['dist0']=0.8; a['reg02']=a['dist0']; a['pi']=3.1416; a['sptr']=0; a['r01']=rand(12); a['r02']=rand(12);}())","frame_eqs_str":"(function(){a['dt']=div(1,a['fps']); a['vol']=div(sqrt(((a['bass_att']+a['mid_att'])+a['treb_att'])),3); a['vol_']=((a['vol_']*0.9)+(0.1*a['vol'])); a['gf']=div((0.35*a['vol']),a['maxssize']); a['prog']+=((a['vol']*30)*a['dt']); a['s']=0; a['sfree']=a['maxstrings']; a['pfree']=a['maxpts']; for(var mdparser_idx57=0;mdparser_idx57<a['maxstrings'];mdparser_idx57++){a['ibase']=(a['s']*a['recsize']); ((Math.abs(((a['megabuf'][Math.floor((a['ibase']+3))]>0)?1:0))>0.00001)?((function(){a['sfree']-=1; return a['pfree']-=a['megabuf'][Math.floor((a['ibase']+2))];})()):(0)); a['s']+=1;} a['s']=0; for(var mdparser_idx58=0;mdparser_idx58<a['maxstrings'];mdparser_idx58++){a['ibase']=(a['s']*a['recsize']); ((Math.abs(((((((Math.abs((a['megabuf'][Math.floor((a['ibase']+3))])-(0))<0.00001)?1:0)&&((a['vol']>(a['vol_']*1))?1:0))?1:0)&&((rand(100)<20)?1:0))?1:0))>0.00001)?((function(){a['sfree']-=1; a['tht']=(rand(1)*(2.9+((a['vol']>(a['vol_']*1.7))?1:0))); a['phi']=(((rand(1)-0.5)*4)+div(a['pi'],2)); a['pbase']=(5000+((a['s']*a['maxssize'])*a['recsize'])); a['megabuf'][Math.floor(a['ibase'])]=0; a['megabuf'][Math.floor((a['ibase']+1))]=0; a['megabuf'][Math.floor((a['ibase']+2))]=0; a['megabuf'][Math.floor((a['ibase']+3))]=1; a['megabuf'][Math.floor((a['ibase']+4))]=(Math.sin(a['tht'])*Math.cos(a['phi'])); a['megabuf'][Math.floor((a['ibase']+5))]=(Math.sin(a['tht'])*Math.sin(a['phi'])); return a['megabuf'][Math.floor((a['ibase']+6))]=-Math.abs(Math.cos(a['tht']));})()):(0)); a['s']+=1;} a['s']=0; for(var mdparser_idx59=0;mdparser_idx59<a['maxstrings'];mdparser_idx59++){a['ibase']=(a['s']*a['recsize']); ((Math.abs(((a['megabuf'][Math.floor((a['ibase']+3))]>0)?1:0))>0.00001)?((function(){a['megabuf'][Math.floor(a['ibase'])]+=(a['dt']*rand(2)); a['age']=a['megabuf'][Math.floor(a['ibase'])]; a['start']=a['megabuf'][Math.floor((a['ibase']+1))]; a['len']=a['megabuf'][Math.floor((a['ibase']+2))]; a['newpts']=Math.floor((div(((5*a['vol'])*a['maxssize']),40)*((a['age']<0.7)?1:0))); a['newpts']=Math.max(0, Math.min(a['newpts'], Math.min(a['pfree'], ((a['maxssize']-a['start'])-a['len'])))); a['dx0']=a['megabuf'][Math.floor((a['ibase']+4))]; a['dy0']=a['megabuf'][Math.floor((a['ibase']+5))]; a['dz0']=a['megabuf'][Math.floor((a['ibase']+6))]; a['p']=(a['start']+a['len']); for(var mdparser_idx60=0;mdparser_idx60<a['newpts'];mdparser_idx60++){a['pbase']=(5000+((a['p']+(a['s']*a['maxssize']))*a['recsize'])); a['k1']=((((Math.abs(((Math.abs((mod(a['s'],3))-(0))<0.00001)?1:0))>0.00001)?(a['p']):((((a['p']-a['start'])-a['len'])*16)))+3)+div(a['s'],16)); ((Math.abs(((Math.abs((mod(a['frame'],5))-(0))<0.00001)?1:0))>0.00001)?(a['k1']=(20*a['vol'])):(0)); a['megabuf'][Math.floor(a['pbase'])]=((a['k1']*a['dx0'])*a['gf']); a['megabuf'][Math.floor((a['pbase']+1))]=((a['k1']*a['dy0'])*a['gf']); a['megabuf'][Math.floor((a['pbase']+2))]=((a['k1']*a['dz0'])*a['gf']); a['p']+=1;} a['megabuf'][Math.floor((a['ibase']+2))]+=a['newpts']; a['len']=a['megabuf'][Math.floor((a['ibase']+2))]; a['pfree']-=a['newpts']; a['ivol']=((Math.abs(((a['vol']<0.35)?1:0))>0.00001)?(3):(((Math.abs(((a['vol']<0.5)?1:0))>0.00001)?(2):(1)))); a['delpts']=(Math.min(((a['megabuf'][Math.floor(a['ibase'])]>0.7)?1:0), a['len'])*((Math.abs((mod(a['frame'],a['ivol']))-(0))<0.00001)?1:0)); a['megabuf'][Math.floor((a['ibase']+1))]=(a['megabuf'][Math.floor((a['ibase']+1))]+a['delpts']); a['megabuf'][Math.floor((a['ibase']+2))]-=a['delpts']; a['pfree']+=a['delpts']; return ((Math.abs(((a['megabuf'][Math.floor((a['ibase']+2))]<=0)?1:0))>0.00001)?(a['megabuf'][Math.floor((a['ibase']+3))]=0):(0));})()):(0)); a['s']+=1;} a['s']=0; for(var mdparser_idx61=0;mdparser_idx61<a['maxstrings'];mdparser_idx61++){a['ibase']=(a['s']*a['recsize']); a['start']=a['megabuf'][Math.floor((a['ibase']+1))]; a['len']=a['megabuf'][Math.floor((a['ibase']+2))]; ((Math.abs(((a['len']>0)?1:0))>0.00001)?((function(){a['p']=a['start']; a['i']=0; for(var mdparser_idx62=0;mdparser_idx62<a['len'];mdparser_idx62++){a['pbase']=(5000+((mod(a['p'],a['maxssize'])+(a['s']*a['maxssize']))*a['recsize'])); a['scale']=(pow(div(a['i'],a['len']), 2)*0.005); a['r1']=((pow(a['megabuf'][Math.floor(a['pbase'])], 2)+pow(a['megabuf'][Math.floor((a['pbase']+1))], 2))+pow(a['megabuf'][Math.floor((a['pbase']+2))], 2)); a['scale']*=Math.min((sqrt(a['r1'])*10), 1); a['p1']=(5000-Math.floor(((3*a['p'])+a['prog']))); a['megabuf'][Math.floor(a['pbase'])]+=(a['megabuf'][Math.floor((90000+mod((a['p1']+(a['s']*57)),5000)))]*a['scale']); a['megabuf'][Math.floor((a['pbase']+1))]+=(a['megabuf'][Math.floor((90000+mod((a['p1']+(a['s']*91)),5000)))]*a['scale']); a['megabuf'][Math.floor((a['pbase']+2))]+=(a['megabuf'][Math.floor((90000+mod((a['p1']+(a['s']*113)),5000)))]*a['scale']); a['p']+=1; a['i']+=1;} a['p']=(a['start']+1); a['smooth']=8; a['sz']=div(1,(1.93+a['smooth'])); return for(var mdparser_idx63=0;mdparser_idx63<(a['len']-2);mdparser_idx63++){a['pbase']=(5000+((a['p']+(a['s']*a['maxssize']))*a['recsize'])); a['pbase1']=(5000+(((a['p']-1)+(a['s']*a['maxssize']))*a['recsize'])); a['pbase2']=(5000+(((a['p']+1)+(a['s']*a['maxssize']))*a['recsize'])); a['megabuf'][Math.floor(a['pbase'])]=((((a['smooth']*a['megabuf'][Math.floor(a['pbase'])])+a['megabuf'][Math.floor(a['pbase1'])])+a['megabuf'][Math.floor(a['pbase2'])])*a['sz']); a['megabuf'][Math.floor((a['pbase']+1))]=((((a['smooth']*a['megabuf'][Math.floor((a['pbase']+1))])+a['megabuf'][Math.floor((a['pbase1']+1))])+a['megabuf'][Math.floor((a['pbase2']+1))])*a['sz']); a['megabuf'][Math.floor((a['pbase']+2))]=((((a['smooth']*a['megabuf'][Math.floor((a['pbase']+2))])+a['megabuf'][Math.floor((a['pbase1']+2))])+a['megabuf'][Math.floor((a['pbase2']+2))])*a['sz']); a['p']+=1;}})()):(0)); a['s']+=1;} a['n']=0; for(var mdparser_idx64=0;mdparser_idx64<a['maxpts'];mdparser_idx64++){a['gmegabuf'][Math.floor((a['n']+6))]=0; a['n']+=a['recsize'];} a['s']=0; a['i']=0; for(var mdparser_idx65=0;mdparser_idx65<a['maxstrings'];mdparser_idx65++){a['ibase']=(a['s']*a['recsize']); a['start']=a['megabuf'][Math.floor((a['ibase']+1))]; a['len']=a['megabuf'][Math.floor((a['ibase']+2))]; a['p']=a['start']; a['j']=0; for(var mdparser_idx66=0;mdparser_idx66<(a['len']+1);mdparser_idx66++){a['pbase']=(5000+((mod(a['p'],a['maxssize'])+(a['s']*a['maxssize']))*a['recsize'])); a['z']=(a['megabuf'][Math.floor((a['pbase']+2))]+a['dist0']); a['gmegabuf'][Math.floor((a['i']*a['recsize']))]=a['megabuf'][Math.floor(a['pbase'])]; a['gmegabuf'][Math.floor(((a['i']*a['recsize'])+1))]=a['megabuf'][Math.floor((a['pbase']+1))]; a['gmegabuf'][Math.floor(((a['i']*a['recsize'])+2))]=a['z']; a['gmegabuf'][Math.floor(((a['i']*a['recsize'])+3))]=((Math.abs(((a['z']>0)?1:0))>0.00001)?(div(0.027,a['z'])):(0)); a['gmegabuf'][Math.floor(((a['i']*a['recsize'])+5))]=1; a['gmegabuf'][Math.floor(((a['i']*a['recsize'])+6))]=((((a['z']>0.3)?1:0)*((a['j']>1)?1:0))*((a['j']<(a['len']-1))?1:0)); ((Math.abs(((a['j']>1)?1:0))>0.00001)?(a['p']+=1):(0)); a['i']+=1; a['j']+=1;} a['s']+=1;} a['tvol']=((a['tvol']*0.8)+(0.2*(a['vol']-a['vol_']))); a['n']=50030; for(var mdparser_idx67=0;mdparser_idx67<30;mdparser_idx67++){a['gmegabuf'][Math.floor(a['n'])]=a['gmegabuf'][Math.floor((a['n']-1))]; a['n']-=1;} a['gmegabuf'][Math.floor(50000)]=a['tvol']; a['dec']=((Math.abs(((a['vol']>a['pvol'])?1:0))>0.00001)?(0.5):((1-((a['dt']*40)*0.05)))); a['pvol']=((a['pvol']*a['dec'])+(a['vol']*(1-a['dec']))); a['q1']=a['pvol']; a['q10']=0.5; a['q11']=0.5; a['q32']=a['aspecty']; a['q3']=(a['gmegabuf'][Math.floor(50000)]+1); a['q4']=(a['gmegabuf'][Math.floor(50005)]+1); a['t1']=(div(a['time'],12)+a['r01']); a['q15']=(0.5-(0.35*Math.tan(a['t1']))); a['q8']=((1.7+Math.sin(((a['time']*0.02)+a['r02'])))*0.16); a['q9']=((1.7+Math.sin(((a['time']*0.0157)-a['r02'])))*0.16); a['bal']=Math.min(0.85, Math.max(0.15, (a['bal']+((a['dt']*0.1)*Math.atan(((a['treb']-a['bass'])-((a['bal']-0.5)*0.1))))))); a['q12']=a['bal']; a['monitor']=a['q12'];}())","pixel_eqs_str":"","init_eqs_eel":"n = 0;\nloop (100000,megabuf(n)=0;gmegabuf(n)=0;n += 1;);\n\n//rand chain\nn = 90000; t=0; loop (5000, t+= (2+cos(n/21))/5; megabuf(n)= sin(t)*0.5; n+= 1);\n\n\nfov = 1; reg05 = fov;\nmaxstrings = 150;\nmaxssize   = 37; //Pkte pro String\nmaxpts     = 1600;\nmaxshapes  = 300;\npfree = maxpts; //freie Pkte\nsfree = maxstrings;  //freie Strings\n\nrecsize = 8; reg01 = recsize; //pro Punkt\ndist0 =  0.8; reg02 = dist0;\npi=3.1416;\n\n\n//bei 0 starten die String-Inforecords\n//0 : Age\n//1 : start index\n//2 : Len\n//3: Alive\n//4,5,6: dx0,dy0,dz0\n\n//bei 5000 starten die Punkt-records\n//es folgen die ppstring Punkte; pro punkt\n  //0..2: Pos. x,y,z\n// ende pro punkt\n\n//2D-Records in gmegabuf\n  //0..2: Pos. x,y,z\n  //3: rad\n  //5: a\n  //6: mask\n\n//Shape-Records in gmegabuf, optional\n  //0..2: r0, theta, phi\n  //3: speed\n  //4,5,6: x,y,z\n  //\nsPtr = 0;\nr01 = rand(12);\nr02 = rand(12);","frame_eqs_eel":"dt = 1/fps;\nvol = sqrt (bass_att+mid_att+treb_att)/3; vol_ = vol_*0.9 + 0.1*vol; gf = 0.35*vol/maxssize;\nprog += vol*30*dt; \n\n// Count sfree and pfree; pfree = len=0\ns = 0; sfree = maxstrings; pfree = maxpts;\nloop (maxstrings, ibase = s*recsize; if (megabuf(ibase+3) > 0, sfree -=1; pfree -=megabuf(ibase+2), 0); s+= 1);\n\ns = 0; loop (maxstrings, //NEW STRING ?\n  ibase = s*recsize;\n  if ((megabuf(ibase+3)==0) && (vol > vol_*1) && (rand(100) < 20),\n    sfree -= 1;\n    tht = rand(1)*(2.9 + (vol>vol_*1.7)); phi = (rand(1)-0.5)*4+pi/2;;\n    pbase = 5000 + (s*maxssize)*recsize; //erster Punkt startet bei 0\n    megabuf (ibase  ) = 0;//Age\n    megabuf (ibase+1) = 0;//start ind\n    megabuf (ibase+2) = 0;//len  \n    megabuf (ibase+3) = 1;// am Leben\n    megabuf (ibase+4) = sin(tht)*cos(phi);\n    megabuf (ibase+5) = sin(tht)*sin(phi);\n    megabuf (ibase+6) = -abs(cos(tht)); \n  ,0); //END NEW STRING\ns+=1;);\n\ns = 0; loop (maxstrings, //GROW and SHRINK\n  ibase = s*recsize;\n  if (megabuf(ibase+3) > 0, //am Leben ?\n    megabuf(ibase  ) += dt*rand(2) ; //Age\n//EXPAND\n    age   = megabuf (ibase);\n    start = megabuf (ibase+1);\n    len   = megabuf (ibase+2);\n    newpts = int (5*vol*maxssize/40*(age < 0.7)) ; \n    newpts = max (0, min (newpts, min (pfree,maxssize-start-len))); \n    dx0 = megabuf (ibase+4);\n    dy0 = megabuf (ibase+5);\n    dz0 = megabuf (ibase+6);\n    p = start+len;\n    loop (newpts,\n      pbase  = 5000 + (p+s*maxssize)*recsize;\nk1 = if (s%3==0, p, (p-start-len)*16)+3+s/16;\nif (frame%5==0,k1 = 20*vol,0);\n//k1 = max(k1,p);\n      megabuf (pbase) = k1*dx0*gf; megabuf (pbase+1) = k1*dy0*gf; megabuf (pbase+2) = k1*dz0*gf;      \n      p+=1; ); \n    megabuf(ibase +2) += newpts;  len   = megabuf (ibase+2);  pfree -= newpts;\n//SHRINK\n    ivol = if (vol<0.35,3, if (vol<0.5,2,1));\n    delpts = min ((megabuf(ibase)>.7),len) * (frame%ivol==0);\n    megabuf(ibase+1) = (megabuf(ibase+1)+delpts); \n    megabuf(ibase+2) -= delpts;  pfree += delpts;\n    if (megabuf(ibase+2) <= 0, megabuf(ibase+3)=0, 0);\n  ,0);\ns+=1);\n\n//MOVE\ns = 0; loop (maxstrings,\n  ibase = s*recsize;  start = megabuf (ibase+1); len = megabuf (ibase+2);\n  if (len > 0, \n    p=start; i=0;\n    loop (len,\n      pbase  = 5000 + (p%maxssize+s*maxssize)*recsize;\n      scale = pow(i/len,2)*0.005 ;\n      r1 = pow(megabuf(pbase),2)+pow(megabuf(pbase+1),2)+pow(megabuf(pbase+2),2);\n      scale *= min(sqrt(r1)*10,1) ; //##mit vol skalieren\n      p1 = 5000-int(3*p+prog);\n      megabuf (pbase)   += megabuf(90000+(p1+s*57)%5000)*scale;      \n      megabuf (pbase+1) += megabuf(90000+(p1+s*91)%5000)*scale;      \n      megabuf (pbase+2) += megabuf(90000+(p1+s*113)%5000)*scale;       \n      p+=1; i+=1;   ); \n\n//STRAIGHTEN\n    p=start+1; smooth = 8;\n    sz = 1/(1.93+smooth);\n    loop (len-2,\n      pbase  =  5000 + (p    +s*maxssize)*recsize;\n      pbase1  = 5000 + ((p-1)+s*maxssize)*recsize;\n      pbase2  = 5000 + ((p+1)+s*maxssize)*recsize;\n      megabuf (pbase  ) = (smooth*megabuf(pbase  ) +megabuf(pbase1  )+megabuf(pbase2 ))*sz;      \n      megabuf (pbase+1) = (smooth*megabuf(pbase+1) +megabuf(pbase1+1)+megabuf(pbase2+1))*sz;      \n      megabuf (pbase+2) = (smooth*megabuf(pbase+2) +megabuf(pbase1+2)+megabuf(pbase2+2))*sz;      \n     p+=1; ); \n\n  ,0);\ns+=1);\n\n//Projektion waves\nn=0; loop (maxpts, gmegabuf(n+6)=0; n+=recsize); \ns = 0; i = 0;\nloop (maxstrings,\n  ibase = s*recsize;\n  start = megabuf (ibase+1);\n  len   = megabuf (ibase+2);\n  p = start;  j=0;\n//  if (len==0, len=-1, 0);\n  loop (len+1, //ersten Pkt verdoppeln wegen waves\n    pbase = 5000 + (p%maxssize + s*maxssize)*recsize;\n    z    = megabuf (pbase+2)+dist0;\n    gmegabuf (i*recsize)   = megabuf(pbase  );    \n    gmegabuf (i*recsize+1) = megabuf(pbase+1);    \n    gmegabuf (i*recsize+2) = z;    \n    gmegabuf (i*recsize+3) = if (z>0, 0.027/z, 0) ;    //rad\n    gmegabuf (i*recsize+5) = 1; //a\n    gmegabuf (i*recsize+6) = (z>0.3)*(j>1) * (j<len-1); //mask\n    if (j>1, p += 1,0);  i += 1; j+=1;\n  );  \n  s+=1;\n);\n\n//Vol delay chain \ntvol = tvol*0.8 + 0.2*(vol-vol_);\nn = 50030; loop (30, gmegabuf (n) = gmegabuf (n-1); n -= 1; ); gmegabuf (50000) = tvol;\n\n\ndec = if (vol>pvol,0.5, 1-dt*40*0.05);\npvol = pvol*dec + vol*(1-dec);\nq1 = pvol;\n\n//Zentrum\nq10 = 0.5; \nq11 = 0.5;\nq32 = aspecty;\n\nq3 = gmegabuf(50000)+1; \nq4 = gmegabuf(50005)+1; \n\n//planet pos\nt1 = time/12 +r01;\nq15 = 0.5-0.35*tan(t1);\n//q16 = 0.5- (0.05+0.24*cos(t1) * (0.7+0.3*sin(t1/7))); \n\nq8 = (1.7+sin(time*.02+r02))*.16;\nq9 = (1.7+sin(time*.0157-r02))*.16;\n\nbal = min(0.85,max(0.15,bal+ dt*0.1 * atan(treb -bass - (bal-0.5)*0.1)));\nq12 = bal;\n\nmonitor = q12;","pixel_eqs_eel":"","warp":"shader_body\n{\n    // Get screen coordinates (MilkDrop uses uv coordinates 0-1)\n    uv = uv.xy; // or use ((texture(sampler_blur1, ).xyz * scale1) + bias1) etc depending on context\n    vec2 res = texsize.xy; // resolution\n    \n    // Convert to pixel coordinates and center\n    vec2 o = uv * res;\n    o -= res * 0.5;\n    \n    // Convert to polar coordinates\n    float len = length(o) / res.y - 0.3;\n    float angle = atan(o.y, o.x)+time/3;\n    o = vec2(len, angle);\n    \n    // Time-based animation\n    float t = time;\n    \n    // Calculate color components\n    vec4 s = 0.13 * cos(1.5 * vec4(0, 1, 2, 3) + angle + q1 * 2 + sin(angle) * sin(t/4) * 2.0);\n    vec4 c = s.yzwx; // swizzle\n    \n    // Calculate field\n    vec4 f = min(o.x - s, c - o.x);\n    \n    // Final color calculation\n    c = dot(20.0 * (s - c), clamp(f * res.y, 0.0, 1.0)) * (s - 0.1) - f/100;\n    \n    ret = c;\n}","comp":"shader_body\n{\n//MilkDrop3 Flip Mode:\nuv = 1-uv;\n\n ret = texture(sampler_main, uv).xyz;\n}","warp_hlsl":"shader_body\n{\n    // Get screen coordinates (MilkDrop uses uv coordinates 0-1)\n    uv = uv.xy; // or use GetBlur1() etc depending on context\n    float2 res = texsize.xy; // resolution\n    \n    // Convert to pixel coordinates and center\n    float2 o = uv * res;\n    o -= res * 0.5;\n    \n    // Convert to polar coordinates\n    float len = length(o) / res.y - 0.3;\n    float angle = atan2(o.y, o.x)+time/3;\n    o = float2(len, angle);\n    \n    // Time-based animation\n    float t = time;\n    \n    // Calculate color components\n    float4 s = 0.13 * cos(1.5 * float4(0, 1, 2, 3) + angle + q1 * 2 + sin(angle) * sin(t/4) * 2.0);\n    float4 c = s.yzwx; // swizzle\n    \n    // Calculate field\n    float4 f = min(o.x - s, c - o.x);\n    \n    // Final color calculation\n    c = dot(20.0 * (s - c), clamp(f * res.y, 0.0, 1.0)) * (s - 0.1) - f/100;\n    \n    ret = c;\n}","comp_hlsl":"shader_body\n{\n//MilkDrop3 Flip Mode:\nuv = 1-uv;\n\n ret = GetPixel(uv);\n}"}