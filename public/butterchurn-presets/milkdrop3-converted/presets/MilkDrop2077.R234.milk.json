{"version":2,"baseVals":{"rating":4,"gammaadj":1.98,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wave_mode":5,"wave_brighten":0,"wrap":0,"darken":1,"wave_a":0.032,"wave_scale":4.778,"wave_smoothing":0,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpanimspeed":9.861,"warpscale":16.217,"zoomexp":1.50374,"zoom":1.0201,"warp":0.81954,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0.005,"ob_a":0.2,"ib_size":0.005,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":0.06,"mv_a":0,"b1x":0.7,"b1ed":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"samples":16,"thick":1,"additive":1},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_str":"(function(){a['xpos'] = 0; a['yamptarg'] = 0; a['treb_effect'] = 0; a['ydir'] = 0; a['zoom_exp'] = 0; a['ok_to_change'] = 0; a['yaccel'] = 0; a['xamptarg'] = 0; a['xamp'] = 0; a['xspeed'] = 0; a['bass_effect'] = 0; a['ypos'] = 0; a['xaccel'] = 0; a['att'] = 0; a['effect'] = 0; a['beat_time'] = 0; a['vol'] = 0; a['yamp'] = 0; a['xdir'] = 0; a['mid_effect'] = 0; a['extreme'] = 0; a['yspeed'] = 0;}());","frame_eqs_str":"(function(){a['vol']=div(((a['bass']+a['mid'])+a['att']),6); a['xamptarg']=((Math.abs(equal(mod(a['frame'],15), 0))>0.00001)?(Math.min(((0.5*a['vol'])*a['bass_att']), 0.5)):(a['xamptarg'])); a['xamp']=(a['xamp']+(0.5*(a['xamptarg']-a['xamp']))); a['xdir']=((Math.abs(above(Math.abs(a['xpos']), a['xamp']))>0.00001)?(-sign(a['xpos'])):(((Math.abs(below(Math.abs(a['xspeed']), 0.1))>0.00001)?(((2*above(a['xpos'], 0))-1)):(a['xdir'])))); a['xaccel']=(((a['xdir']*a['xamp'])-a['xpos'])-((a['xspeed']*0.055)*below(Math.abs(a['xpos']), a['xamp']))); a['xspeed']=(((a['xspeed']+(a['xdir']*a['xamp']))-a['xpos'])-((a['xspeed']*0.055)*below(Math.abs(a['xpos']), a['xamp']))); a['xpos']=(a['xpos']+(0.001*a['xspeed'])); a['wave_x']=(a['xpos']+0.5); a['yamptarg']=((Math.abs(equal(mod(a['frame'],15), 0))>0.00001)?(Math.min(((0.3*a['vol'])*a['treb_att']), 0.5)):(a['yamptarg'])); a['yamp']=(a['yamp']+(0.5*(a['yamptarg']-a['yamp']))); a['ydir']=((Math.abs(above(Math.abs(a['ypos']), a['yamp']))>0.00001)?(-sign(a['ypos'])):(((Math.abs(below(Math.abs(a['yspeed']), 0.1))>0.00001)?(((2*above(a['ypos'], 0))-1)):(a['ydir'])))); a['yaccel']=(((a['ydir']*a['yamp'])-a['ypos'])-((a['yspeed']*0.055)*below(Math.abs(a['ypos']), a['yamp']))); a['yspeed']=(((a['yspeed']+(a['ydir']*a['yamp']))-a['ypos'])-((a['yspeed']*0.055)*below(Math.abs(a['ypos']), a['yamp']))); a['ypos']=(a['ypos']+(0.001*a['yspeed'])); a['wave_y']=(a['ypos']+0.5); a['wave_r']=(a['wave_r']+(0.350*((0.60*Math.sin((0.980*a['time'])))+(0.40*Math.sin((1.047*a['time'])))))); a['wave_g']=(a['wave_g']+(0.350*((0.60*Math.sin((0.835*a['time'])))+(0.40*Math.sin((1.081*a['time'])))))); a['wave_b']=(a['wave_b']+(0.350*((0.60*Math.sin((0.814*a['time'])))+(0.40*Math.sin((1.011*a['time'])))))); a['rot']=((a['rot']+(0.01*(1-a['treb_att'])))+(0.03*((0.60*Math.sin((0.381*a['time'])))+(0.40*Math.sin((0.479*a['time'])))))); a['cx']=(a['cx']+(0.410*((0.60*Math.sin((0.374*a['time'])))+(0.40*Math.sin((0.294*a['time'])))))); a['cy']=(a['cy']+(0.410*((0.60*Math.sin((0.393*a['time'])))+(0.40*Math.sin((0.223*a['time'])))))); a['warp']=(a['warp']*a['vol']); a['zoom']=(a['zoom']-((0.02*a['zoom'])*a['bass_att'])); a['zoom_exp']=(1.5*((0.60*Math.sin((0.381*a['time'])))+(0.40*Math.sin((0.479*a['time']))))); a['ob_a']=(1-(2*a['vol'])); a['bass_effect']=Math.max((Math.max(a['bass'], a['bass_att'])-1.3), 0); a['treb_effect']=Math.max((Math.max(a['treb'], a['treb_att'])-1.3), 0); a['mid_effect']=Math.max((Math.max(a['mid'], a['mid_att'])-1.3), 0); a['extreme']=((Math.abs(above(a['bass'], 2))>0.00001)?(((Math.abs(above(a['treb'], 2))>0.00001)?(((Math.abs(above(a['mid'], 2))>0.00001)?(((Math.abs(above(a['bass_att'], 2))>0.00001)?(((Math.abs(above(a['mid_att'], 2))>0.00001)?(((Math.abs(above(a['treb_att'], 2))>0.00001)?(1.1):(1))):(1))):(1))):(1))):(1))):(1)); a['decay']=a['extreme']; a['ok_to_change']=((Math.abs(above(a['time'], (a['beat_time']+6)))>0.00001)?(1):(0)); a['beat_time']=((Math.abs(above(a['bass_effect'], 0.4))>0.00001)?(((Math.abs(a['ok_to_change'])>0.00001)?(a['time']):(a['beat_time']))):(a['beat_time'])); a['effect']=((Math.abs(equal(a['time'], a['beat_time']))>0.00001)?(Math.abs((a['effect']-1))):(a['effect'])); a['mv_x']=((Math.abs(above(a['effect'], 0))>0.00001)?(1.25):(64)); a['mv_y']=((Math.abs(above(a['effect'], 0))>0.00001)?(64):(2.25)); a['mv_r']=(1-a['bass_effect']); a['mv_g']=(1-a['treb_effect']); a['mv_b']=(1-a['mid_effect']);}());","pixel_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"vol = (bass+mid+att)/6;\nxamptarg = if(equal(frame%15,0),min(0.5*vol*bass_att,0.5),xamptarg);\nxamp = xamp + 0.5*(xamptarg-xamp);\nxdir = if(above(abs(xpos),xamp),-sign(xpos),if(below(abs(xspeed),0.1),2*above(xpos,0)-1,xdir));\nxaccel = xdir*xamp - xpos - xspeed*0.055*below(abs(xpos),xamp);\nxspeed = xspeed + xdir*xamp - xpos - xspeed*0.055*below(abs(xpos),xamp);\nxpos = xpos + 0.001*xspeed;\nwave_x = xpos + 0.5;\nyamptarg = if(equal(frame%15,0),min(0.3*vol*treb_att,0.5),yamptarg);\nyamp = yamp + 0.5*(yamptarg-yamp);\nydir = if(above(abs(ypos),yamp),-sign(ypos),if(below(abs(yspeed),0.1),2*above(ypos,0)-1,ydir));\nyaccel = ydir*yamp - ypos - yspeed*0.055*below(abs(ypos),yamp);\nyspeed = yspeed + ydir*yamp - ypos - yspeed*0.055*below(abs(ypos),yamp);\nypos = ypos + 0.001*yspeed;\nwave_y = ypos + 0.5;\nwave_r = wave_r + 0.350*( 0.60*sin(0.980*time) + 0.40*sin(1.047*time) );\nwave_g = wave_g + 0.350*( 0.60*sin(0.835*time) + 0.40*sin(1.081*time) );\nwave_b = wave_b + 0.350*( 0.60*sin(0.814*time) + 0.40*sin(1.011*time) );\nrot = rot + 0.01*(1-treb_att)+ 0.03*( 0.60*sin(0.381*time) + 0.40*sin(0.479*time) );\ncx = cx + 0.410*( 0.60*sin(0.374*time) + 0.40*sin(0.294*time) );\ncy = cy + 0.410*( 0.60*sin(0.393*time) + 0.40*sin(0.223*time) );\nwarp = warp*vol;\nzoom = zoom - 0.02*zoom*bass_att;\nzoom_exp = 1.5*( 0.60*sin(0.381*time) + 0.40*sin(0.479*time) );\nob_a = 1 - 2*vol;\nbass_effect = max(max(bass,bass_att)-1.3,0);\ntreb_effect = max(max(treb,treb_att)-1.3,0);\nmid_effect = max(max(mid,mid_att)-1.3,0);\nextreme = if(above(bass,2), if(above(treb,2), if(above(mid,2),if(above(bass_att,2),if(above(mid_att,2),if(above(treb_att,2),1.1,1),1),1),1),1),1);\nDecay = extreme;\nok_to_change = if(above(time,beat_time+6),1,0);\nbeat_time = if(above(bass_effect,0.4), if(ok_to_change,time,beat_time),beat_time);\neffect = if(equal(time,beat_time),abs(effect-1),effect);\nmv_x = if(above(effect,0),1.25,64);\nmv_y = if(above(effect,0),64,2.25);\nmv_r =1-bass_effect;\nmv_g=1-treb_effect;\nmv_b=1-mid_effect;","pixel_eqs_eel":"","warp":"shader_body\n{ret=texture(sampler_main, uv).xyz;\nvec2 mo=uv-uv_orig;\nret=texture(sampler_main, uv_orig+mo*lum(ret)).xyz;\nret=ret*0.99-0.002;\n}","comp":"float _pow(float b,float e){return pow(b,e);}\nvec2  _pow(vec2  b,float e){return pow(b,vec2(e));}\nvec3  _pow(vec3  b,float e){return pow(b,vec3(e));}\nvec4  _pow(vec4  b,float e){return pow(b,vec4(e));}\nshader_body\n{\n    vec2 d = texsize.zw;\n    vec3 dx = ( texture(sampler_main, uv+vec2(1,0)*d).xyz-texture(sampler_main, uv-vec2(1,0)*d).xyz );\n    vec3 dy = ( texture(sampler_main, uv+vec2(0,1)*d).xyz-texture(sampler_main, uv-vec2(0,1)*d).xyz );\nvec2 dz = vec2(dx.y,dy.y)*3;\n\nd = texsize.zw*2;\ndx = ( 2*((texture(sampler_blur1, uv+vec2(1,0)*d).xyz * scale1) + bias1)-2*((texture(sampler_blur1, uv-vec2(1,0)*d).xyz * scale1) + bias1) )*0.5;\ndy = ( 2*((texture(sampler_blur1, uv+vec2(0,1)*d).xyz * scale1) + bias1)-2*((texture(sampler_blur1, uv-vec2(0,1)*d).xyz * scale1) + bias1) )*0.5;\n\ndz +=vec2(dx.y,dy.y);\n\nvec3 bg = _pow(length(dz)*0.8+0,0.7) + ((texture(sampler_blur2, uv).xyz * scale2) + bias2).y*0.4-0.1;\n\nret =bg*vec3(3.3,.5,.7);\nret =mix(ret,vec3(0.2,0.1,0),texture(sampler_main, uv + vec2(dx.x,dy.x)*texsize.zw*18).xyz.x*6);\nret =mix(ret,1,texture(sampler_main, uv).xyz.z);\n\n//ret =texture(sampler_main, uv).xyz;\n}","warp_hlsl":"shader_body\n{ret=GetPixel(uv);\nfloat2 mo=uv-uv_orig;\nret=GetPixel(uv_orig+mo*lum(ret));\nret=ret*0.99-0.002;\n}","comp_hlsl":"shader_body\n{\n    float2 d = texsize.zw;\n    float3 dx = ( GetPixel(uv+float2(1,0)*d)-GetPixel(uv-float2(1,0)*d) );\n    float3 dy = ( GetPixel(uv+float2(0,1)*d)-GetPixel(uv-float2(0,1)*d) );\nfloat2 dz = float2(dx.y,dy.y)*3;\n\nd = texsize.zw*2;\ndx = ( 2*GetBlur1(uv+float2(1,0)*d)-2*GetBlur1(uv-float2(1,0)*d) )*0.5;\ndy = ( 2*GetBlur1(uv+float2(0,1)*d)-2*GetBlur1(uv-float2(0,1)*d) )*0.5;\n\ndz +=float2(dx.y,dy.y);\n\nfloat3 bg = pow(length(dz)*0.8+0,0.7) + GetBlur2(uv).y*0.4-0.1;\n\nret = bg*float3(3.3,.5,.7);\nret = lerp(ret,float3(0.2,0.1,0),GetPixel(uv + float2(dx.x,dy.x)*texsize.zw*18).x*6);\nret = lerp(ret,1,GetPixel(uv).z);\n\n//ret = GetPixel(uv);\n}"}