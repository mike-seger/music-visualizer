{"version":2,"baseVals":{"rating":3,"gammaadj":1.88,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wave_mode":6,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"darken":1,"wave_a":0.004,"wave_scale":1.401,"wave_smoothing":0,"modwavealphastart":0.4,"modwavealphaend":1.8,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.00909,"sx":0.9999,"wave_r":0,"wave_g":0,"wave_b":0,"wave_y":0.8,"ob_size":0.05,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"mv_x":64,"mv_y":48,"mv_l":5,"mv_b":0.9,"mv_a":0,"b1x":0.8,"b2x":0.7,"b1ed":0},"shapes":[{"baseVals":{"sides":34,"thickoutline":1,"x":0.6,"rad":0.05997,"tex_ang":0.62832,"tex_zoom":0.77829,"g":1,"b":1,"a":0,"r2":1,"b2":1,"border_r":0.59,"border_a":0.5,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":1,"sides":24,"x":0.7,"rad":0.03448,"tex_zoom":1.69133,"g":1,"b":1,"g2":0,"border_b":0.99,"border_a":0},"init_eqs_str":"(function(){a['len'] = 0; a['q10'] = 0; a['q11'] = 0; a['rx'] = 0; a['ry'] = 0; a['x1'] = 0; a['y1'] = 0; }());","frame_eqs_str":"(function(){a['x']=(0.15+(a['gmegabuf'][Math.floor(15)]*0.2)); a['y']=(0.5-a['gmegabuf'][Math.floor(0)]); a['len']=Math.max(0.01, sqrt(((a['q10']*a['q10'])+(a['q11']*a['q11'])))); a['rx']=div(a['q10'],a['len']); a['ry']=div(-a['q11'],a['len']); a['x1']=((a['rx']*(a['x']-0.5))-(a['ry']*(a['y']-0.5))); a['y1']=((a['ry']*(a['x']-0.5))+(a['rx']*(a['y']-0.5))); a['x']=(a['x1']+0.5); a['y']=(a['y1']+0.5); a['r']=0.2; a['g']=1; a['b']=1; a['rad']=0.11; a['a']=1; a['a2']=0;}());","init_eqs_eel":"","frame_eqs_eel":"x = 0.15+gmegabuf(15)*0.2;\ny = 0.5-gmegabuf(0);\n\nlen = max(.01,sqrt(q10*q10+q11*q11));\nrx = q10 /len;\nry = -q11 /len;\n\nx1 = rx*(x-0.5) - ry*(y-0.5);\ny1 = ry*(x-0.5) + rx*(y-0.5);\n\nx = x1+0.5;\ny = y1+0.5;\n\nr = 0.2;\ng = 1;\nb = 1;\n\nrad = 0.11;\na = 1; a2 = 0;"},{"baseVals":{"enabled":1,"additive":1,"num_inst":8,"x":0.2,"y":0.7,"rad":0.07419,"tex_zoom":0.90528,"g":1,"b":1,"a":0.5,"r2":1,"b2":1,"border_a":0},"init_eqs_str":"(function(){a['q15'] = 0; a['q14'] = 0; }());","frame_eqs_str":"(function(){a['x']=(0.5+(a['gmegabuf'][Math.floor((8+div(a['instance'],2)))]*2)); a['y']=(0.5+(a['gmegabuf'][Math.floor((16+div(a['instance'],2)))]*2)); a['x']=(0.1*Math.floor((a['x']*10))); a['y']=(0.1*Math.floor((a['y']*10))); a['a']=Math.max(0, Math.min(1, (div(a['q15'],(2+a['instance']))-0.5))); a['a']=((a['q15']>(1.5*(1+a['instance'])))?1:0); a['rad']=(0.1*a['q14']);}());","init_eqs_eel":"","frame_eqs_eel":"x = 0.5 + gmegabuf(8+instance/2)*2;\ny = 0.5 + gmegabuf(16+instance/2)*2;;\n\nx = 0.1*int(x*10);\ny = 0.1*int(y*10);\n\na = max(0,min(1,q15/(2+instance)-0.5));\na = (q15>1.5*(1+instance));\nrad = 0.1 * q14;"},{"baseVals":{"textured":1,"x":0.86,"y":0.2,"rad":0.80814,"tex_zoom":0.45112,"g":1,"b":1,"r2":1,"b2":0.9,"a2":1,"border_a":0,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"samples":45,"sep":32,"spectrum":1,"scaling":1.34536,"smoothing":0,"r":0,"g":0.6,"a":0},"init_eqs_str":"(function(){a['val'] = 0; a['dec'] = 0; a['t1'] = 0; }());","frame_eqs_str":"(function(){a['t1']=0;}());","point_eqs_str":"(function(){a['val']=(a['value1']+a['value1']); a['dec']=((Math.abs(((a['val']>a['gmegabuf'][Math.floor(a['t1'])])?1:0))>0.00001)?(0.5):(0.8)); a['t1']+=1;}());","init_eqs_eel":"","frame_eqs_eel":"t1 = 0;","point_eqs_eel":"val = value1 + value1;\ndec = if (val > gmegabuf(t1), 0.5, 0.8);\n//gmegabuf(t1) = gmegabuf(t1)*dec + (1-dec)* (value1+value2); \n\n\nt1 += 1;"},{"baseVals":{"enabled":1,"samples":28,"usedots":1,"thick":1,"additive":1,"scaling":0.42,"smoothing":0.2,"r":0.5,"g":0.5,"b":0.5,"a":0.7},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"(function(){a['x']=rand(1); a['y']=rand(1);}());","init_eqs_eel":"","frame_eqs_eel":"//t1 = 0;","point_eqs_eel":"x = rand(1); y = rand(1);\n"},{"baseVals":{"samples":42,"usedots":1,"thick":1,"additive":1,"a":0.36,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"samples":192,"usedots":1,"additive":1,"a":0.32,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_str":"(function(){a['n'] = 0; a['tvol'] = 0; a['bindex'] = 0; a['q25'] = 0; a['fcounty'] = 0; a['q12'] = 0; a['v3'] = 0; a['q18'] = 0; a['q22'] = 0; a['q21'] = 0; a['q13'] = 0; a['tr'] = 0; a['bx'] = 0; a['q15'] = 0; a['dt'] = 0; a['q1'] = 0; a['dec_f'] = 0; a['bindex2'] = 0; a['dec_s'] = 0; a['ax'] = 0; a['base'] = 0; a['my'] = 0; a['is_beat'] = 0; a['ang1'] = 0; a['q23'] = 0; a['k1'] = 0; a['q24'] = 0; a['q11'] = 0; a['q10'] = 0; a['col'] = 0; a['dec_m'] = 0; a['q4'] = 0; a['start'] = 0; a['c2'] = 0; a['s3'] = 0; a['q16'] = 0; a['q26'] = 0; a['fcountx'] = 0; a['ay'] = 0; a['t'] = 0; a['row'] = 0; a['c3'] = 0; a['trig'] = 0; a['mx'] = 0; a['q19'] = 0; a['q17'] = 0; a['vol'] = 0; a['peak'] = 0; a['q2'] = 0; a['q27'] = 0; a['q14'] = 0; a['v1'] = 0; a['q3'] = 0; a['s1'] = 0; a['t0'] = 0; a['vol_'] = 0; a['s2'] = 0; a['q32'] = 0; a['q28'] = 0; a['c1'] = 0; a['v2'] = 0; a['q20'] = 0; a['a1']=0; a['a2']=0; a['n']=0; for(var mdparser_idx249=0;mdparser_idx249<50000;mdparser_idx249++){a['megabuf'][Math.floor(a['n'])]=0; a['gmegabuf'][Math.floor(a['n'])]=0; a['n']+=1;} a['bx']=0; a['by']=0; a['start']=0;}());","frame_eqs_str":"(function(){a['dt']=div(1,a['fps']); a['dec_f']=0.8; a['dec_m']=(1-(4*a['dt'])); a['dec_s']=(1-a['dt']); a['vol']=((a['vol']*0.8)+div((0.2*((a['bass']+a['mid'])+a['treb'])),3)); a['vol_']=((a['vol_']*a['dec_m'])+(a['vol']*(1-a['dec_m']))); a['is_beat']=(above(a['vol'], a['peak'])*above(a['time'], (a['t0']+0.25))); ((Math.abs(a['is_beat'])>0.00001)?((function(){a['t0']=a['time']; return a['peak']=(a['vol']*1.5);})()):(a['peak']*=a['dec_s'])); a['bindex']=mod((a['bindex']+a['is_beat']),4); a['bindex2']+=(a['is_beat']*bnot(a['bindex'])); a['n']=150; a['tvol']=((a['tvol']*0.8)+(0.2*(a['vol']-a['vol_']))); for(var mdparser_idx250=0;mdparser_idx250<150;mdparser_idx250++){a['gmegabuf'][Math.floor(a['n'])]=a['gmegabuf'][Math.floor((a['n']-1))]; a['n']-=1;} a['gmegabuf'][Math.floor(0)]=a['tvol']; a['q15']=div(a['tvol'],2); a['n']=0; a['base']=5000; for(var mdparser_idx251=0;mdparser_idx251<1024;mdparser_idx251++){a['col']=Math.floor(div(a['n'],32)); a['row']=mod(a['n'],32); a['gmegabuf'][Math.floor(((a['base']+(a['col']*32))+a['row']))]=Math.min(1, div(0.001,pow((a['gmegabuf'][Math.floor(a['col'])]-div(a['row'],32)), 2))); a['n']+=1;} a['t']=0; a['q1']=Math.sin(a['t']); a['q2']=Math.cos(a['t']); a['q3']=-a['q2']; a['q4']=a['q1']; a['k1']=0.03; a['v1']=(a['bass']*a['k1']); a['v2']=(a['mid']*a['k1']); a['v3']=(a['treb']*a['k1']); a['c1']=Math.cos(a['v1']); a['c2']=Math.cos(a['v2']); a['c3']=Math.cos(a['v3']); a['s1']=Math.sin(a['v1']); a['s2']=Math.sin(a['v2']); a['s3']=Math.sin(a['v3']); a['q20']=(a['c2']*a['c1']); a['q21']=(a['c2']*a['s1']); a['q22']=-a['s2']; a['q23']=(((a['s3']*a['s2'])*a['c1'])-(a['c3']*a['s1'])); a['q24']=(((a['s3']*a['s2'])*a['s1'])+(a['c3']*a['c1'])); a['q25']=(a['s3']*a['c2']); a['q26']=(((a['c3']*a['s2'])*a['c1'])+(a['s3']*a['s1'])); a['q27']=(((a['c3']*a['s2'])*a['s1'])-(a['s3']*a['c1'])); a['q28']=(a['c3']*a['c2']); a['trig']=((((a['is_beat']&&((Math.abs((mod(a['bindex2'],2))-(0))<0.00001)?1:0))?1:0)&&((Math.abs((a['bindex'])-(0))<0.00001)?1:0))?1:0); a['ang1']=((Math.abs(a['trig'])>0.00001)?(div((Math.floor(rand(4))*3.1416),2)):(a['ang1'])); a['tr']=((a['tr']*0.8)+(0.2*a['ang1'])); a['bx']=((a['bx']*0.8)+((0.2*((a['vol_']>0.15)?1:0))*((a['start']>1)?1:0))); a['start']+=a['dt']; a['q10']=(Math.cos(a['tr'])*a['bx']); a['q11']=(Math.sin(a['tr'])*a['bx']); a['fcountx']+=a['q10']; a['fcounty']+=a['q11']; a['q12']=-a['fcountx']; a['q13']=-a['fcounty']; ((Math.abs(a['trig'])>0.00001)?((function(){a['ax']=(rand(1)-0.5); return a['ay']=(rand(1)-0.5);})()):(0)); a['mx']+=((Math.min(0.05, Math.max(-0.05, (a['ax']-a['mx'])))*a['dt'])*8); a['my']+=((Math.min(0.05, Math.max(-0.05, (a['ax']-a['my'])))*a['dt'])*8); a['q16']=(0.5+div(a['mx'],3)); a['q17']=(0.5+div(a['my'],3)); a['q14']=div(sqrt(((a['bass']+a['mid'])+a['treb'])),2); a['q15']=a['peak']; a['q19']=a['is_beat']; a['q18']=0.1; a['q32']=a['aspecty']; a['monitor']=a['ang1'];}());","pixel_eqs_str":"","init_eqs_eel":"a1 = 0; a2 = 0;\nn = 0;\nloop (50000,\n  megabuf(n)=0;\n  gmegabuf(n)=0;\n  n += 1;\n);\n\nbx = 0; by = 0;\nstart = 0;","frame_eqs_eel":"dt = 1/fps;\n\ndec_f = 0.8; dec_m = 1 - 4*dt; dec_s = 1 - dt;\nvol = vol*0.8 + 0.2*(bass+mid+treb)/3; \nvol_ = vol_*dec_m+vol*(1-dec_m);\n\nis_beat = above(vol, peak) * above (time, t0+.25);\nif (is_beat,t0=time; peak=vol*1.5,Peak*=dec_s);\nbindex = (bindex + is_beat) %4;\nbindex2 += is_beat*!bindex;\n\n\nn = 150;\ntvol = tvol*0.8 + 0.2*(vol-vol_);\nloop (150, gmegabuf(n)=gmegabuf(n-1); n-=1);\ngmegabuf(0) = tvol;\nq15 = tvol/2;\n\nn = 0; base = 5000;\nloop (1024,\n  col = int(n/32);\n  row = n%32; \n  gmegabuf(base+col*32+row) = min(1,0.001/pow(gmegabuf(col)-row/32 ,2));\nn+= 1;\n);\n\nt= 0 ;\nq1 = sin(t); q2 = cos(t); q3 = -q2; q4 = q1;\n\nk1 = 0.03;\nv1 = bass*k1; v2 = mid*k1; v3 = treb*k1;\nc1 = cos(v1); c2 = cos(v2); c3 = cos(v3); \ns1 = sin(v1); s2 = sin(v2); s3 = sin(v3);\nq20 = c2*c1; q21 = c2*s1; q22 = -s2;\nq23 = s3*s2*c1 - c3*s1; q24 = s3*s2*s1 + c3*c1; q25 = s3*c2;\nq26 = c3*s2*c1 + s3*s1; q27 = c3*s2*s1 - s3*c1; q28 = c3*c2;\n\ntrig = is_beat && (bindex2%2==0) && (bindex==0);\nang1 =if (trig, int(rand(4))*3.1416/2, ang1);;\ntr = tr*0.8+0.2*ang1;\n\nbx = bx*0.8 + 0.2* (vol_>0.15)* (start>1);\nstart += dt;\nq10 = cos(tr)*bx;\nq11 = sin(tr)*bx;\nfcountx += q10; fcounty += q11;\nq12 = -fcountx; q13 = -fcounty;\n\nif (trig, ax = rand(1)-0.5; ay = rand(1)-0.5;, 0);\nmx += min(0.05,max(-0.05,ax-mx))*dt*8;\nmy += min(0.05,max(-0.05,ax-my))*dt*8;\nq16 = 0.5+mx/3;\nq17 = 0.5+my/3;\nq14 = sqrt(bass+mid+treb)/2;\nq15 = peak;\nq19 = is_beat;\nq18 = 0.1 ;\nq32 = aspecty;\nmonitor = ang1;","pixel_eqs_eel":"","warp":"const mat3 rotmat = mat3 (q20,q21,q22,q23,q24,q25,q26,q27,q28);\nconst float reso = 0.07;\nshader_body {\nfloat corr = texsize.xy*texsize_noise_lq.zw;\nuv = uv_orig;\nvec2 uv1 = vec2(uv.x-0.5,uv.y-0.5);//*aspect.xy;\n\nfloat noise =  texture(sampler_noise_lq, uv+rand_frame).x>0.5;\n\nvec2 zz = (uv1 *texsize.xy + 10*vec2(q12,q13)) * reso;\nzz =(mat2(_qa) * zz);\n\nvec2 h1 = clamp(tan(zz),-20,20);\n\nuv.xy += h1*texsize.zw * 0.1/reso;\n\nvec3 crisp = texture(sampler_main,uv+texsize.zw*10*vec2(-q10,-q11)).xyz;\n\nret = 1*(rotmat * crisp)- .006* (frame%2) *noise;\n}","comp":"#define sat saturate\nfloat z, z0, radi;\nvec2 uv1, uv2, uva, dz;\nconst int anz = 27;\nconst vec2 moonpos = 0.4;\nconst vec2 hor = texsize.zw*vec2(1,0);\nconst vec2 ver = texsize.zw*vec2(1,0).yx;\nvec3 Get1 (vec2 uvi, float par)\n{return mix(((texture(sampler_blur1, uvi).xyz * scale1) + bias1), texture(sampler_main, uvi).xyz, clamp(par/2, 0.0, 1.0))*par;}\n\nshader_body {\nuva = (uv-0.5)*aspect.xy+0.5;\nfloat moon = (.01 / length (uva-moonpos));\n\ndz.x = lum(texture(sampler_main, uv-hor).xyz) - lum(texture(sampler_main, uv+hor).xyz);\ndz.y = lum(texture(sampler_main, uv-ver).xyz) - lum(texture(sampler_main, uv+ver).xyz);\n\nvec3 shine = texture(sampler_main, uv).xyz; \nuv2 = (uv-moonpos)*1.4 + moonpos;\n//shine += (pow(texture(sampler_main, uv2).xyz,2))/2;\n\nradi = 1;\nfor (int n=1; n <= anz; n++)\n{ \n  uv2 = (normalize(uv-moonpos)*radi+moonpos);\n  shine += 2.0/anz*Get1((uv-moonpos)*radi+moonpos,radi);\n  radi -= 0.75/anz;;\n}\nret = max(shine,0*texture(sampler_main, uv).xyz);\n//ret = shine+texture(sampler_main, uv).xyz;\n\n}\nwritten by martin\nEND","warp_hlsl":"static const float3x3 rotmat = float3x3 (q20,q21,q22,q23,q24,q25,q26,q27,q28);\nstatic const float reso = 0.07;\nshader_body {\nfloat corr = texsize.xy*texsize_noise_lq.zw;\nuv = uv_orig;\nfloat2 uv1 = float2(uv.x-0.5,uv.y-0.5);//*aspect.xy;\n\nfloat noise =  tex2D(sampler_noise_lq, uv+rand_frame).x>0.5;\n\nfloat2 zz = (uv1 *texsize.xy + 10*float2(q12,q13)) * reso;\nzz =mul(zz,float2x2(_qa));\n\nfloat2 h1 = clamp(tan(zz),-20,20);\n\nuv.xy += h1*texsize.zw * 0.1/reso;\n\nfloat3 crisp = tex2D(sampler_main,uv+texsize.zw*10*float2(-q10,-q11));\n\nret = 1*mul(crisp,rotmat)- .006* (frame%2) *noise;\n}","comp_hlsl":"#define sat saturate\nfloat z, z0, radi;\nfloat2 uv1, uv2, uva, dz;\nstatic const int anz = 27;\nstatic const float2 moonpos = 0.4;\nstatic const float2 hor = texsize.zw*float2(1,0);\nstatic const float2 ver = texsize.zw*float2(1,0).yx;\nfloat3 Get1 (float2 uvi, float par)\n{return lerp(GetBlur1(uvi), GetPixel(uvi), saturate(par/2))*par;}\n\nshader_body {\nuva = (uv-0.5)*aspect.xy+0.5;\nfloat moon = (.01 / length (uva-moonpos));\n\ndz.x = lum(GetPixel(uv-hor)) - lum(GetPixel(uv+hor));\ndz.y = lum(GetPixel(uv-ver)) - lum(GetPixel(uv+ver));\n\nfloat3 shine = GetPixel(uv); \nuv2 = (uv-moonpos)*1.4 + moonpos;\n//shine += (pow(GetPixel(uv2),2))/2;\n\nradi = 1;\nfor (int n=1; n <= anz; n++)\n{ \n  uv2 = (normalize(uv-moonpos)*radi+moonpos);\n  shine += 2.0/anz*Get1((uv-moonpos)*radi+moonpos,radi);\n  radi -= 0.75/anz;;\n}\nret = max(shine,0*GetPixel(uv));\n//ret = shine+GetPixel(uv);\n\n}\nwritten by martin\nEND"}