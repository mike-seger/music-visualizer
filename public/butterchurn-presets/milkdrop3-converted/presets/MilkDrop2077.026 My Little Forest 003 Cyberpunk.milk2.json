{"version":2,"baseVals":{"rating":4,"gammaadj":1.9,"echo_zoom":1.169,"wave_mode":15,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_a":0.001,"wave_scale":0.133,"wave_smoothing":0,"wave_mystery":-1,"modwavealphastart":1,"modwavealphaend":1.3,"warpscale":1.331,"zoom":13.29089,"dx":-0.28,"dy":-0.32,"warp":0.01,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"ob_size":0,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":40,"thickoutline":1,"rad":0.06623,"tex_zoom":1.79845,"r":0,"a":0.1,"g2":0,"border_b":0,"border_a":0},"init_eqs_str":"(function(){a['vol'] = 0; a['bob'] = 0; a['border_1'] = 0; a['ro'] = 0; a['sp'] = 0; a['red'] = 0; a['spi'] = 0; a['tm'] = 0; a['bob']=1.5; a['ro']=0; a['red']=Math.floor(rand(20));}());","frame_eqs_str":"(function(){a['vol']=(1+(0.2*div(((a['bass_att']+a['treb_att'])+a['mid_att']),3))); a['bob']=(((a['bob']*above(a['bob'], 0.01))-0.01)+(1*(1-above(a['bob'], 0.01)))); a['bob']=(0.4+(0.4*Math.sin((a['time']*0.8)))); a['bob']=(a['bob']*a['vol']); a['border_1']=0.4; a['sides']=30; a['ro']=(a['ro']+0.02); a['ang']=a['ro']; a['sp']=(a['red']*0.025); a['spi']=(0.5-a['sp']); a['tm']=(a['time']*0.1); a['border_r']=((0.5+(a['sp']*Math.sin((a['tm']*0.6))))+(a['spi']*Math.cos((a['tm']*1.46)))); a['border_g']=((0.5+(a['sp']*Math.sin((a['tm']*1.294))))+(a['spi']*Math.cos((a['tm']*0.87)))); a['border_b']=((0.5+(a['sp']*Math.sin((a['tm']*1.418))))+(a['spi']*Math.cos((a['tm']*0.76))));}());","init_eqs_eel":"bob = 1.5;\nro = 0;\nred = int(rand(20));","frame_eqs_eel":"vol = 1 + 0.2*((bass_att+treb_att+mid_att)/3);\nbob = bob*above(bob,0.01) - 0.01 + 1*(1 - above(bob,0.01));\nbob = 0.4 + 0.4*sin(time*0.8);\nbob = bob*vol;\n//rad = bob;\nborder_1 = 0.4;\nsides = 30;\nro = ro + 0.02;\nang = ro;\n//rad = 0.6;\n\nsp = red*0.025;\nspi = 0.5 - sp;\ntm = time*0.1;\nborder_r = 0.5 + sp*sin(tm*0.6) + spi*cos(tm*1.46);\nborder_g = 0.5 + sp*sin(tm*1.294) + spi*cos(tm*0.87);\nborder_b = 0.5 + sp*sin(tm*1.418) + spi*cos(tm*0.76);\n"},{"baseVals":{"enabled":1,"sides":40,"additive":1,"num_inst":4,"g":1,"b":1,"g2":0,"border_a":0},"init_eqs_str":" ","frame_eqs_str":"(function(){a['x']=(0.5+(0.225*Math.sin((div(a['time'],a['instance'])*0.7)))); a['y']=(0.5+(0.3*Math.cos((div(a['time'],a['instance'])*0.7)))); a['x']=(a['x']-((0.4*a['x'])*Math.sin(a['time']))); a['y']=(a['y']-((0.4*a['y'])*Math.cos(a['time']))); a['rad']=(a['rad']*a['mid_att']); a['r']=(0.5+(0.5*Math.sin((a['frame']*0.5)))); a['b']=(0.5+(0.5*Math.sin(((a['frame']*0.5)+2.094)))); a['g']=(0.5+(0.5*Math.sin(((a['frame']*0.5)+4.188))));}());","init_eqs_eel":"","frame_eqs_eel":"x = 0.5 + 0.225*sin(time /instance*0.7);\ny = 0.5 + 0.3*cos(time /instance*0.7);\nx = x- 0.4*x*sin(time);\ny = y- 0.4*y*cos(time);\n\n\n\nrad = rad*mid_att;\nr = 0.5 + 0.5*sin(frame*0.5);\nb = 0.5 + 0.5*sin(frame*0.5 + 2.094);\ng = 0.5 + 0.5*sin(frame*0.5 + 4.188);\n"},{"baseVals":{"enabled":1,"sides":40,"additive":1,"g":1,"b":1,"g2":0,"border_a":0},"init_eqs_str":" ","frame_eqs_str":"(function(){a['x']=(0.5+(0.5*((Math.sin((a['time']*1.1))*0.3)+(0.7*Math.sin((a['time']*0.5)))))); a['x']=(0.5+(0.225*Math.sin((a['time']+2.09)))); a['y']=(0.5+(0.3*Math.cos((a['time']+2.09)))); a['rad']=(a['rad']*a['bass_att']); a['r']=(0.5+(0.5*Math.sin((a['frame']*0.5)))); a['b']=(0.5+(0.5*Math.sin(((a['frame']*0.5)+2.094)))); a['g']=(0.5+(0.5*Math.sin(((a['frame']*0.5)+4.188))));}());","init_eqs_eel":"","frame_eqs_eel":"x = 0.5 + 0.5*(sin(time*1.1)*0.3 + 0.7*sin(time*0.5));\nx = 0.5 + 0.225*sin(time + 2.09);\ny = 0.5 + 0.3*cos(time + 2.09);\n\nrad = rad*bass_att;\nr = 0.5 + 0.5*sin(frame*0.5);\nb = 0.5 + 0.5*sin(frame*0.5 + 2.094);\ng = 0.5 + 0.5*sin(frame*0.5 + 4.188);\n"},{"baseVals":{"enabled":1,"sides":40,"additive":1,"num_inst":5,"rad":0.07419,"g":1,"b":1,"g2":0,"border_a":0},"init_eqs_str":" ","frame_eqs_str":"(function(){a['x']=(0.5+(0.225*Math.sin(div(a['time'],a['instance'])))); a['y']=(0.5+(0.3*Math.cos(div(a['time'],a['instance'])))); a['x']=(a['x']+((0.4*a['x'])*Math.sin(a['time']))); a['y']=(a['y']+((0.4*a['y'])*Math.cos(a['time']))); a['rad']=(a['rad']*a['treb_att']); a['r']=(0.5+(0.5*Math.sin((a['frame']*0.5)))); a['b']=(0.5+(0.5*Math.sin(((a['frame']*0.5)+2.094)))); a['g']=(0.5+(0.5*Math.sin(((a['frame']*0.5)+4.188))));}());","init_eqs_eel":"","frame_eqs_eel":"//x = 0.5 + 0.5*(sin(time*1.1)*0.3 + 0.7*sin(time*0.5));\nx = 0.5 + 0.225*sin(time /instance);\ny = 0.5 + 0.3*cos(time /instance);\nx = x+ 0.4*x*sin(time);\ny = y+ 0.4*y*cos(time);\n\n\n//x = x+(0.1*q3)*sin((instance*2.4));\n//y = y+(0.1*q4)*cos((instance*2.4));\n\n\nrad = rad*treb_att;\nr = 0.5 + 0.5*sin(frame*0.5);\nb = 0.5 + 0.5*sin(frame*0.5 + 2.094);\ng = 0.5 + 0.5*sin(frame*0.5 + 4.188);\n"}],"waves":[{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_str":"(function(){a['bt'] = 0; a['q5'] = 0; a['tt'] = 0; a['musictime'] = 0; a['bass_avg'] = 0; a['q4'] = 0; a['mt'] = 0; a['vol'] = 0; a['q3'] = 0; a['q8'] = 0; a['zoom']=1; a['xpos']=0; a['ypos']=0;}());","frame_eqs_str":"(function(){a['decay']=1; a['vol']=(((a['bass']+a['mid'])+a['treb'])*0.55); a['vol']=a['vol']; a['mv_r']=(0.5+(0.4*Math.sin((a['time']*1.324)))); a['mv_g']=(0.5+(0.4*Math.cos((a['time']*1.371)))); a['zoom']=1; a['musictime']=(a['musictime']+a['vol']); a['dx']=(Math.sin((a['musictime']*0.1))*0.01); a['dy']=(Math.cos((a['musictime']*0.069))*0.01); a['q8']=a['musictime']; a['q4']=(Math.sin(((a['musictime']*0.03)*0.5))*0.1); a['q5']=(Math.cos(((a['musictime']*0.03)*2))*0.1); a['monitor']=a['rot']; a['q3']=a['bass_avg']; a['q4']=((a['tt']+a['mt'])*0.61); a['q5']=a['bt'];}());","pixel_eqs_str":"","init_eqs_eel":"zoom=1;\nxpos=0;\nypos=0;","frame_eqs_eel":"decay=1;\n\nvol= (bass+mid+treb)*0.55;\nvol=vol;\n\n\nmv_r = 0.5 + 0.4*sin(time*1.324);\nmv_g = 0.5 + 0.4*cos(time*1.371);\n\n\n\n\nzoom=1;\n\nmusictime=musictime+vol;\n\n//=sin(musictime*0.02)*0.3;\n//q5=sin(musictime*0.01)*0.3;\n\ndx=sin(musictime*0.1)*0.01;\ndy=cos(musictime*0.069)*0.01;\n\nq8=musictime;\n\n\nq4=sin(musictime*0.03*0.5)*0.1;\nq5=cos(musictime*0.03*2)*0.1;\n\nmonitor=rot;\nq3 = bass_avg;\n\nq4 = (tt + mt)*0.61;\nq5 = bt;","pixel_eqs_eel":"//zoom = 1 + pow(sin(ang*5 - q5),1)*0.038*bass;\n//rot = .02*sin(rad*6.2832*2 - q4*4)*(mid + treb)*.5;\n//cy=0.5-q5;\n\n//zm=pow(rd,sin(q8*0.06)+2.5)*3;\n//zm=max(zm,0.5);\n//sx=zm;\n//sy=zm","warp":"#define tex sampler_Pattern_030\nsampler tex;\n\nshader_body\n{\n\nvec2 xy1=0;\nvec2 xymod=uv-.5;\n\nxy1.x=sin(time/5)*xymod.x-cos(time/5)*xymod.y;\nxy1.y=cos(time/5)*xymod.x+sin(time/5)*xymod.y;\n\nuv=xy1*5+aspect.xy;\n\n\n    float t = clamp((0.9)*3, 0.0, 1.0);\n    uv = mix(uv_orig, uv, t*0.3);\n\n    vec2 v1 = normalize(uv_orig-0.5);\n    vec2 v2 = v1.yx * vec2(1,-1);\n    \n    float z = length(texsize.zw)*450;\n\n    uv.xy += v1*texsize.zw * cos(rad*170 )/22;\n    uv.xy += v2*texsize.zw * cos(ang*170 )/22;\n\n    // sample previous frame\n    ret = texture( sampler_main, uv ).xyz;\n\n    \n    \n    // darken (decay) over time\n    ret = (ret - 0.004)*2.83;\n    // sample previous frame\n    ret = texture( sampler_pw_main, uv ).xyz;\n\n    // darken over time\n    ret -= 0.004;//*= 0.95; //or try: ret -= 0.004;\n\n\n\nret = texture(tex, uv ).xyz;\n\n\n}","comp":"#define sat saturate\nuniform sampler2D sampler_pw_noise_lq;\nfloat mask1, gmask, bsize, rad1, slot, grid, anz, bcentre;\nfloat glow, tmp, lamp, dist, bdist, b2dist, dist_c, smask, z;\nvec2 rs, rs0, uv0, uv1, uv2, uv3,uv4, rsk, bubble, dz;\nvec3 noise, bubbles;\n\nconst vec2 pix = texsize.zw, center = vec2 (q1,q2);\nconst vec3 CamPos = vec3(q4,q5,q6);\nconst float myzoom = q7;\nconst mat3 RotMat = mat3(q20,q21,q22,q23,q24,q25,q26,q27,q28);\nconst vec3 col_struc =  vec3(1,.4,.1)/4;\n\nvec3 GetBlurX (vec2 uvi, float x) {return mix (texture(sampler_main, uvi).xyz, ((texture(sampler_blur1, uvi).xyz * scale1) + bias1), x);}\nfloat GetDist(vec2 uvi)   {return 1-texture(sampler_main, uvi).xyz.b;}\nfloat GetDistB(vec2 uvi)  {return 1-((texture(sampler_blur1, uvi).xyz * scale1) + bias1).b;}\nfloat GetDistB2(vec2 uvi) {return 1-((texture(sampler_blur2, uvi).xyz * scale2) + bias2).b;}\n\nfloat MinDistB (vec2 uvi) {float tmp; vec4 nb; //##nicht ideal\n  tmp = GetDist(uvi);\n  return min(tmp,GetDistB(uvi)) ;}\n\nfloat shadow (vec2 uvi) {int n; float dark; vec2 uvc, dx;\n  dark = 0; n = 1;\n  while ( (n <= 2)) \n     {dx = .04*n * (center-.5); \n      uvc = (uvi+dx); \n      dark = dark + sat(4*(((texture(sampler_blur1, uvi).xyz * scale1) + bias1).b-((texture(sampler_blur1, uvc).xyz * scale1) + bias1).b) -dx*4); \n      n++;}\n  return (dark/2);}\n\nshader_body {\nuv = (uv-.5)*.9 + .5;\nuv0 = uv;\n\ndist = MinDistB(uv);\nbdist = mix(dist,GetDistB(uv),.2);\nfloat focus = sat(abs(GetDistB(uv)-dist_c)*3);\n\nvec2 noise = texture (sampler_noise_mq,vec2(uv.x,uv.y/4-.1*time)).xy;\nuv += .004*bdist*noise ;\nvec2 uv5 = (uv-.5)*aspect.xy  - vec2(q11,q12);\nbubbles = 0; gmask = 0; anz = 3; bcentre = 0;\nfor (int m= 1; m<= anz; m++)\n{\n  z = 1-fract(1.0/anz*m+q9); \n  uv1 = uv5/3;\n//  uv1 = (mat2(.7,.7,-.7,.7) * uv1);\n  \n  grid = 16.0*m/512;\n  \n  slot = texture(sampler_pw_noise_lq,uv1.x*grid).xyz+.5;\n  uv1.y += slot*time*.06;\n  bsize = texture(sampler_pw_noise_lq,uv1*grid).xyz;\n  rsk = fract(8*m*uv1)-.5 ;\n  dz = normalize(rsk);\n  rad1 = 3*length (rsk) *(2+m);\n  uv4 =  (rad1*rad1)*dz;\n  mask1 = clamp(20-8*rad1, 0.0, 1.0) * (bsize > .15) ;\n  gmask = gmask || mask1;\n  bubbles += vec3 (uv4,.1/(rad1)) * (0.7-z) * mask1;\n}\ngmask *= sat (bdist*16-8*z);\n//uv +=  .1*bubbles*gmask;\n\ndist = MinDistB(uv);\nbdist = mix(dist,GetDistB(uv),.2);\ndist_c = clamp(GetDistB2 (center),.1,.4); //center distance\n\nfloat struc = GetBlurX(uv,focus).r;\n\nret = struc* col_struc *vec3(1-bdist,1,1)+ pow(sat(struc),4) * vec3 (0,1,.2);\nvec4 noise9 = texture(sampler_noisevol_hq, \n                      ((uv.xyy*q28\n                       )*texsize.xyy*texsize_noisevol_hq.zww\n                      ).xyz*\n                      vec3(1,1,0)*0.05 + \n                      time*vec3(0,0,1)*q31\n                     ).xyz;\nif(ret.x> q26*q13         && ret.x<= q23*q11        )ret.z -= (noise9).x*.5; \nif(ret.y> q25*q11         && ret.y<= q22*q12        )ret.x -= (noise9).y*.5; \nif(ret.z> q24*q12         && ret.z<= q21*q13        )ret.y -= (noise9).z*.5; \n\n\n//distant light\nret += gmask*bubbles.z * (1+slow_roam_cos);\n\nret = mix(ret, vec3(0,.05,.1)*4*q19, sat(pow(bdist,1.5)));\n\nfloat moon = (.85/length(sin(3*(uv5))));\nret += sat(MinDistB(uv)*6-5)*moon*vec3(0,.1,.1);\n\n//Lamp\nuv3 = uv-center; \nfloat ddd = texture(sampler_main, uv).xyz.r - texture(sampler_main, (uv-.5)*(1.01)+.5).xyz.r;\nlamp = clamp(1-2*length(uv3), 0.0, 1.0) * (.1+struc+ddd);\nret += lamp*(clamp(1-bdist/2, 0.0, 1.0))*(1-0*shadow(uv)) * vec3(0,.2,.3);\n\nret = 1-exp((-6)*ret);\n//ret += shadow(uv);\n//ret = texture(sampler_main, uv0).xyz.r;\nret /= vec3(0.5,2.7,0.8);\nret /= vec3(2.8,0.9,0.9);\nret /= vec3(0.6,2.0,1.5);\n}","warp_hlsl":"#define tex sampler_Pattern_030\nsampler tex;\n\nshader_body\n{\n\nfloat2 xy1=0;\nfloat2 xymod=uv-.5;\n\nxy1.x=sin(time/5)*xymod.x-cos(time/5)*xymod.y;\nxy1.y=cos(time/5)*xymod.x+sin(time/5)*xymod.y;\n\nuv=xy1*5+aspect.xy;\n\n\n    float t = saturate((0.9)*3);\n    uv = lerp(uv_orig, uv, t*0.3);\n\n    float2 v1 = normalize(uv_orig-0.5);\n    float2 v2 = v1.yx * float2(1,-1);\n    \n    float z = length(texsize.zw)*450;\n\n    uv.xy += v1*texsize.zw * cos(rad*170 )/22;\n    uv.xy += v2*texsize.zw * cos(ang*170 )/22;\n\n    // sample previous frame\n    ret = tex2D( sampler_main, uv ).xyz;\n\n    \n    \n    // darken (decay) over time\n    ret = (ret - 0.004)*2.83;\n    // sample previous frame\n    ret = tex2D( sampler_pw_main, uv ).xyz;\n\n    // darken over time\n    ret -= 0.004;//*= 0.95; //or try: ret -= 0.004;\n\n\n\nret = tex2D(tex, uv ).xyz;\n\n\n}","comp_hlsl":"#define sat saturate\nsampler sampler_pw_noise_lq;\nfloat mask1, gmask, bsize, rad1, slot, grid, anz, bcentre;\nfloat glow, tmp, lamp, dist, bdist, b2dist, dist_c, smask, z;\nfloat2 rs, rs0, uv0, uv1, uv2, uv3,uv4, rsk, bubble, dz;\nfloat3 noise, bubbles;\n\nstatic const float2 pix = texsize.zw, center = float2 (q1,q2);\nstatic const float3 CamPos = float3(q4,q5,q6);\nstatic const float myzoom = q7;\nstatic const float3x3 RotMat = float3x3(q20,q21,q22,q23,q24,q25,q26,q27,q28);\nstatic const float3 col_struc =  float3(1,.4,.1)/4;\n\nfloat3 GetBlurX (float2 uvi, float x) {return lerp (GetPixel(uvi), GetBlur1(uvi), x);}\nfloat GetDist(float2 uvi)   {return 1-GetPixel(uvi).b;}\nfloat GetDistB(float2 uvi)  {return 1-GetBlur1(uvi).b;}\nfloat GetDistB2(float2 uvi) {return 1-GetBlur2(uvi).b;}\n\nfloat MinDistB (float2 uvi) {float tmp; float4 nb; //##nicht ideal\n  tmp = GetDist(uvi);\n  return min(tmp,GetDistB(uvi)) ;}\n\nfloat shadow (float2 uvi) {int n; float dark; float2 uvc, dx;\n  dark = 0; n = 1;\n  while ( (n <= 2)) \n     {dx = .04*n * (center-.5); \n      uvc = (uvi+dx); \n      dark = dark + sat(4*(GetBlur1(uvi).b-GetBlur1(uvc).b) -dx*4); \n      n++;}\n  return (dark/2);}\n\nshader_body {\nuv = (uv-.5)*.9 + .5;\nuv0 = uv;\n\ndist = MinDistB(uv);\nbdist = lerp(dist,GetDistB(uv),.2);\nfloat focus = sat(abs(GetDistB(uv)-dist_c)*3);\n\nfloat2 noise = tex2D (sampler_noise_mq,float2(uv.x,uv.y/4-.1*time)).xy;\nuv += .004*bdist*noise ;\nfloat2 uv5 = (uv-.5)*aspect.xy  - float2(q11,q12);\nbubbles = 0; gmask = 0; anz = 3; bcentre = 0;\nfor (int m= 1; m<= anz; m++)\n{\n  z = 1-frac(1.0/anz*m+q9); \n  uv1 = uv5/3;\n//  uv1 = mul(uv1, float2x2(.7,.7,-.7,.7));\n  \n  grid = 16.0*m/512;\n  \n  slot = tex2D(sampler_pw_noise_lq,uv1.x*grid)+.5;\n  uv1.y += slot*time*.06;\n  bsize = tex2D(sampler_pw_noise_lq,uv1*grid);\n  rsk = frac(8*m*uv1)-.5 ;\n  dz = normalize(rsk);\n  rad1 = 3*length (rsk) *(2+m);\n  uv4 =  (rad1*rad1)*dz;\n  mask1 = saturate(20-8*rad1) * (bsize > .15) ;\n  gmask = gmask || mask1;\n  bubbles += float3 (uv4,.1/(rad1)) * (0.7-z) * mask1;\n}\ngmask *= sat (bdist*16-8*z);\n//uv +=  .1*bubbles*gmask;\n\ndist = MinDistB(uv);\nbdist = lerp(dist,GetDistB(uv),.2);\ndist_c = clamp(GetDistB2 (center),.1,.4); //center distance\n\nfloat struc = GetBlurX(uv,focus).r;\n\nret = struc* col_struc *float3(1-bdist,1,1)+ pow(sat(struc),4) * float3 (0,1,.2);\nfloat4 noise9 = tex3D(sampler_noisevol_hq, \n                      ((uv.xyy*q28\n                       )*texsize.xyy*texsize_noisevol_hq.zww\n                      ).xyz*\n                      float3(1,1,0)*0.05 + \n                      time*float3(0,0,1)*q31\n                     );\nif(ret.x> q26*q13         && ret.x<= q23*q11        )ret.z -= (noise9).x*.5; \nif(ret.y> q25*q11         && ret.y<= q22*q12        )ret.x -= (noise9).y*.5; \nif(ret.z> q24*q12         && ret.z<= q21*q13        )ret.y -= (noise9).z*.5; \n\n\n//distant light\nret += gmask*bubbles.z * (1+slow_roam_cos);\n\nret = lerp(ret, float3(0,.05,.1)*4*q19, sat(pow(bdist,1.5)));\n\nfloat moon = (.85/length(sin(3*(uv5))));\nret += sat(MinDistB(uv)*6-5)*moon*float3(0,.1,.1);\n\n//Lamp\nuv3 = uv-center; \nfloat ddd = GetPixel(uv).r - GetPixel((uv-.5)*(1.01)+.5).r;\nlamp = saturate(1-2*length(uv3)) * (.1+struc+ddd);\nret += lamp*(saturate(1-bdist/2))*(1-0*shadow(uv)) * float3(0,.2,.3);\n\nret = 1-exp((-6)*ret);\n//ret += shadow(uv);\n//ret = GetPixel(uv0).r;\nret /= float3(0.5,2.7,0.8);\nret /= float3(2.8,0.9,0.9);\nret /= float3(0.6,2.0,1.5);\n}"}