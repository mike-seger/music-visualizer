{"version":2,"baseVals":{"rating":4,"gammaadj":1.56,"decay":0.94,"echo_zoom":1.007,"echo_alpha":0.5,"echo_orient":2,"wave_mode":6,"wave_thick":1,"modwavealphabyvolume":1,"brighten":1,"darken":1,"wave_a":100,"wave_scale":4.96,"wave_smoothing":0,"modwavealphastart":2,"zoomexp":0.8802,"fshader":1,"zoom":0.9998,"warp":0.01,"sx":0.9999,"sy":0.9998,"wave_r":0.7,"wave_g":0.52,"wave_b":0.62,"ob_size":0.5,"ob_a":0.01,"ib_size":0.5,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":0.01,"mv_x":64,"mv_y":48,"mv_l":5,"mv_r":0.35,"mv_g":0.35,"mv_b":0.35,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"samples":12,"sep":2,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_str":"(function(){a['temp'] = 0; a['xpos'] = 0; a['basstime'] = 0; a['yamptarg'] = 0; a['maxdbass'] = 0; a['basschange'] = 0; a['ydir'] = 0; a['q6'] = 0; a['dbass'] = 0; a['q1'] = 0; a['q5'] = 0; a['trans'] = 0; a['cheat'] = 0; a['trebtime'] = 0; a['orient'] = 0; a['midtime'] = 0; a['lastbeat'] = 0; a['alphadir'] = 0; a['xamptarg'] = 0; a['interval'] = 0; a['xamp'] = 0; a['xspeed'] = 0; a['midchange'] = 0; a['q4'] = 0; a['pbass'] = 0; a['ypos'] = 0; a['beat'] = 0; a['vol'] = 0; a['trebchange'] = 0; a['alpha'] = 0; a['q2'] = 0; a['yamp'] = 0; a['q3'] = 0; a['q7'] = 0; a['xdir'] = 0; a['sure'] = 0; a['q8'] = 0; a['yspeed'] = 0;}())","frame_eqs_str":"(function(){a['sure']=((Math.abs(equal(a['sure'], 0))>0.00001)?(0.6):(a['sure'])); a['interval']=((Math.abs(equal(a['interval'], 0))>0.00001)?(40):(a['interval'])); a['lastbeat']=((Math.abs(equal(a['lastbeat'], 0))>0.00001)?((a['frame']-a['fps'])):(a['lastbeat'])); a['dbass']=div((a['bass']-a['pbass']),a['fps']); a['beat']=(above(a['dbass'], (0.6*a['maxdbass']))*above((a['frame']-a['lastbeat']), div(a['fps'],3))); a['sure']=((Math.abs((a['beat']*below(Math.abs((a['frame']-(a['interval']+a['lastbeat']))), div(a['fps'],5))))>0.00001)?(Math.min((0.095+a['sure']), 1)):(((a['beat']*(a['sure']-0.095))+(((1-a['beat'])*a['sure'])*0.9996)))); a['sure']=Math.max(0.5, a['sure']); a['cheat']=((Math.abs((above(a['frame'], ((a['lastbeat']+a['interval'])+Math.floor(div(a['fps'],10))))*above(a['sure'], 0.91)))>0.00001)?(1):(a['cheat'])); a['beat']=((Math.abs(a['cheat'])>0.00001)?(1):(a['beat'])); a['sure']=((Math.abs(a['cheat'])>0.00001)?((0.95*a['sure'])):(a['sure'])); a['maxdbass']=Math.max((a['maxdbass']*0.999), a['dbass']); a['maxdbass']=Math.max(0.012, a['maxdbass']); a['maxdbass']=Math.min(0.02, a['maxdbass']); a['interval']=((Math.abs(a['beat'])>0.00001)?((a['frame']-a['lastbeat'])):(a['interval'])); a['lastbeat']=((Math.abs(a['beat'])>0.00001)?((a['frame']-(a['cheat']*Math.floor(div(a['fps'],10))))):(a['lastbeat'])); a['cheat']=0; a['pbass']=a['bass']; a['warp']=0; a['zoom']=1; a['temp']=(div(a['time'],6.2831)-Math.floor(div(a['time'],6.2831))); a['q7']=div(Math.abs(((a['temp']*6.2831)-3.1415)),3.1415); a['q8']=a['beat']; a['q8']=(a['q8']+equal((a['frame']-a['lastbeat']), 1)); a['orient']=((Math.abs(a['alpha'])>0.00001)?(a['orient']):((Math.floor(rand(3))+1))); a['echo_orient']=a['orient']; a['trans']=((Math.abs(equal(a['alpha'], 0))>0.00001)?(0):(((Math.abs(equal(a['alpha'], 1))>0.00001)?(0):(a['trans'])))); a['trans']=((Math.abs(equal(a['trans'], 0))>0.00001)?(a['beat']):(a['trans'])); a['alphadir']=((Math.abs(a['alpha'])>0.00001)?(((Math.abs((a['alpha']-1))>0.00001)?(a['alphadir']):(-1))):(1)); a['alpha']=(a['alpha']+((a['trans']*a['alphadir'])*div(1,a['fps']))); a['alpha']=Math.max(a['alpha'], 0); a['alpha']=Math.min(a['alpha'], 1); a['echo_alpha']=a['alpha']; a['vol']=(0.167*(a['bass']+a['mid'])); a['xamptarg']=((Math.abs(equal(mod(a['frame'],15), 0))>0.00001)?(Math.min(((0.5*a['vol'])*a['bass_att']), 0.5)):(a['xamptarg'])); a['xamp']=(a['xamp']+(0.5*(a['xamptarg']-a['xamp']))); a['xdir']=((Math.abs(above(Math.abs(a['xpos']), a['xamp']))>0.00001)?(-sign(a['xpos'])):(((Math.abs(below(Math.abs(a['xspeed']), 0.1))>0.00001)?(((2*above(a['xpos'], 0))-1)):(a['xdir'])))); a['xspeed']=(((a['xspeed']+(a['xdir']*a['xamp']))-a['xpos'])-((a['xspeed']*0.1)*below(Math.abs(a['xpos']), a['xamp']))); a['xpos']=(a['xpos']+(0.001*a['xspeed'])); a['yamptarg']=((Math.abs(equal(mod(a['frame'],15), 0))>0.00001)?(Math.min(((0.3*a['vol'])*a['treb_att']), 0.5)):(a['yamptarg'])); a['yamp']=(a['yamp']+(0.5*(a['yamptarg']-a['yamp']))); a['ydir']=((Math.abs(above(Math.abs(a['ypos']), a['yamp']))>0.00001)?(-sign(a['ypos'])):(((Math.abs(below(Math.abs(a['yspeed']), 0.1))>0.00001)?(((2*above(a['ypos'], 0))-1)):(a['ydir'])))); a['yspeed']=(((a['yspeed']+(a['ydir']*a['yamp']))-a['ypos'])-((a['yspeed']*0.1)*below(Math.abs(a['ypos']), a['yamp']))); a['ypos']=(a['ypos']+(0.001*a['yspeed'])); a['q1']=a['xpos']; a['q2']=a['ypos']; a['ob_g']=Math.max(Math.min(((0.5*(Math.sin((1.345*a['time']))+Math.sin((0.987*a['time']))))+0.2), 0.4), 0); a['ob_b']=Math.max(Math.min(((0.5*(Math.sin((1.543*a['time']))+Math.sin((0.789*a['time']))))+0.2), 0.4), 0); a['ob_r']=Math.max(Math.min(((0.5*(Math.sin((0.876*a['time']))+Math.sin((0.543*a['time']))))+0.1), 0.2), 0); a['ib_g']=Math.max(Math.min(((0.5*(Math.sin((1.246*a['time']))+Math.sin((0.864*a['time']))))+0.2), 0.4), 0); a['ib_b']=Math.max(Math.min(((0.5*(Math.sin((1.642*a['time']))+Math.sin((0.468*a['time']))))+0.2), 0.4), 0); a['ib_r']=Math.max(Math.min(((0.5*(Math.sin((0.765*a['time']))+Math.sin((0.654*a['time']))))+0.1), 0.2), 0); a['basschange']=((0.1*a['basschange'])+(0.01*a['bass'])); a['midchange']=((0.1*a['midchange'])+(0.01*a['mid'])); a['trebchange']=((0.1*a['trebchange'])+(0.01*a['treb'])); a['basstime']=(a['basstime']+a['basschange']); a['midtime']=(a['midtime']+a['midchange']); a['trebtime']=(a['trebtime']+a['trebchange']); a['q3']=a['basstime']; a['q4']=a['midtime']; a['q5']=a['trebtime']; a['q6']=mod(a['frame'],2);}())","pixel_eqs_str":"(function(){a['zoom']=(0.99+div(a['rad'],200)); a['rot']=div(a['rad'],100);}())","init_eqs_eel":"","frame_eqs_eel":"// -------------------------------- Beat Detective v0.07 ----------------------------------\nsure=if(equal(sure,0),.6,sure);\ninterval=if(equal(interval,0),40,interval);\nlastbeat=if(equal(lastbeat,0),frame-FPS,lastbeat);\ndbass=(bass-pbass)/FPS;\nbeat=above(dbass,.6*maxdbass)*above(frame-lastbeat,FPS/3);\nsure=if(beat*below(abs(frame-(interval+lastbeat)),FPS/5),\nmin(.095+sure,1),beat*(sure-.095)+(1-beat)*sure*.9996);\nsure=max(.5,sure);\ncheat=if(above(frame,lastbeat+interval+ int(FPS/10))*above(sure,.91),1,cheat);\nbeat=if(cheat,1,beat);\nsure=if(cheat,.95*sure,sure);\nmaxdbass=max(maxdbass*.999,dbass);\nmaxdbass=max(.012,maxdbass);\nmaxdbass=min(.02,maxdbass);\ninterval=if(beat, frame-lastbeat,interval);\nlastbeat=if(beat,frame-cheat*int(FPS/10),lastbeat);\ncheat=0;\npbass=bass;\n// ----------------------------------------------------------------------------------------------\nwarp=0;\nzoom=1;\ntemp=(time/6.2831-int(time/6.2831));\nq7=abs(temp*6.2831-3.1415)/3.1415;\nq8=beat;\n\n// this echoes the value of the \"beat\" variable for one more frame after a beat so that both \"sparks\" are drawn highlighted (on consecutive frames)\nq8=q8+equal(frame-lastbeat,1);\n\norient = if(alpha,orient,int(rand(3))+1);\necho_orient = orient;\n\ntrans = if(equal(alpha,0),0,if(equal(alpha,1),0,trans));\ntrans = if(equal(trans,0),beat,trans);\nalphadir = if(alpha,if(alpha-1,alphadir,-1),1);\nalpha = alpha + trans*alphadir*(1/fps);\nalpha = max(alpha,0); alpha = min(alpha,1);\necho_alpha = alpha;\n\n// ------------------ Indecision Code ----------------------\n// xpos and ypos are calculated as springs being acted on by a variable force, comprised of vol and bass_att or treb_att.\nvol = 0.167*(bass+mid);\nxamptarg = if(equal(frame%15,0),min(0.5*vol*bass_att,0.5),xamptarg);\nxamp = xamp + 0.5*(xamptarg-xamp);\nxdir = if(above(abs(xpos),xamp),-sign(xpos),if(below(abs(xspeed),0.1),2*above(xpos,0)-1,xdir));\nxspeed = xspeed + xdir*xamp - xpos - xspeed*0.1*below(abs(xpos),xamp);\nxpos = xpos + 0.001*xspeed;\nyamptarg = if(equal(frame%15,0),min(0.3*vol*treb_att,0.5),yamptarg);\nyamp = yamp + 0.5*(yamptarg-yamp);\nydir = if(above(abs(ypos),yamp),-sign(ypos),if(below(abs(yspeed),0.1),2*above(ypos,0)-1,ydir));\nyspeed = yspeed + ydir*yamp - ypos - yspeed*0.1*below(abs(ypos),yamp);\nypos = ypos + 0.001*yspeed;\n// ---------------------------------------------------------\n\nq1 = xpos;\nq2 = ypos;\n\nob_g = max(min(0.5*(sin(1.345*time)+sin(0.987*time))+0.2,0.4),0);\nob_b = max(min(0.5*(sin(1.543*time)+sin(0.789*time))+0.2,0.4),0);\nob_r = max(min(0.5*(sin(0.876*time)+sin(0.543*time))+0.1,0.2),0);\nib_g = max(min(0.5*(sin(1.246*time)+sin(0.864*time))+0.2,0.4),0);\nib_b = max(min(0.5*(sin(1.642*time)+sin(0.468*time))+0.2,0.4),0);\nib_r = max(min(0.5*(sin(0.765*time)+sin(0.654*time))+0.1,0.2),0);\n\nbasschange = 0.1*basschange+0.01*bass;\nmidchange = 0.1*midchange+0.01*mid;\ntrebchange = 0.1*trebchange+0.01*treb;\n\nbasstime = basstime + basschange;\nmidtime = midtime + midchange;\ntrebtime = trebtime + trebchange;\n\nq3 = basstime;\nq4 = midtime;\nq5 = trebtime;\n\nq6 = frame%2;","pixel_eqs_eel":"zoom=.99+(rad/200);\nrot=rad/100;","warp":"uniform sampler2D sampler_rand00;\n\nshader_body\n{\n    vec3 uv2 = vec3(uv,1) + 0.02*(fract(tex2d(sampler_rand00, uv).xyz - time*vec3(0.32,0.39,0.35))-0.5);\n    uv2.xy = (uv2.xy-0.5)*uv2.z + 0.5;\n\n    uv2.xy += (uv.xy - uv_orig.xy);\n\n    // sample previous frame\n    ret = texture( sampler_main, uv2.xy ).xyz;\n    \n    // darken (decay) over time\n    ret = (ret*0.99) - 0.003;\n}","comp":"shader_body\n{\n    ret = texture(sampler_main, uv).xyz*0.7 + ((texture(sampler_blur2, uv).xyz * scale2) + bias2)*2.75;\n    ret *= 0.89;\n}\n\n","warp_hlsl":"sampler sampler_rand00;\n\nshader_body\n{\n    float3 uv2 = float3(uv,1) + 0.02*(frac(tex2d(sampler_rand00, uv).xyz - time*float3(0.32,0.39,0.35))-0.5);\n    uv2.xy = (uv2.xy-0.5)*uv2.z + 0.5;\n\n    uv2.xy += (uv.xy - uv_orig.xy);\n\n    // sample previous frame\n    ret = tex2D( sampler_main, uv2.xy ).xyz;\n    \n    // darken (decay) over time\n    ret = (ret*0.99) - 0.003;\n}","comp_hlsl":"shader_body\n{\n    ret = GetPixel(uv)*0.7 + GetBlur2(uv)*2.75;\n    ret *= 0.89;\n}\n\n"}