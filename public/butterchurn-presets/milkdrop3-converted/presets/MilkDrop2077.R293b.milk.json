{"version":2,"baseVals":{"rating":4,"gammaadj":1.56,"decay":0.94,"echo_zoom":1.007,"echo_alpha":0.5,"echo_orient":2,"wave_dots":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"brighten":1,"darken":1,"wave_a":100,"wave_scale":28.599,"wave_smoothing":0.5,"wave_mystery":-1,"modwavealphastart":0.4,"modwavealphaend":1,"warpscale":1.331,"zoomexp":5.42874,"fshader":1,"zoom":1.00951,"warp":0.16217,"ib_size":0.26,"mv_l":1.5,"mv_r":0,"mv_g":0,"mv_b":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"rad":0.40031,"r":0.5,"g":0.5,"r2":0.5,"g2":0,"border_b":0.5,"border_a":0},"init_eqs_str":"(function(){a['sounds'] = 0; }());","frame_eqs_str":"(function(){a['sounds']=div(((a['bass']+a['treb'])+a['mid']),3); a['rad']=((a['rad']*a['sounds'])*0.6); a['r']=(a['r']+(Math.sin(a['bass'])*a['g'])); a['g']=(a['g']+(Math.sin(a['mid'])*a['g'])); a['x']=(a['x']+(0.207*Math.cos(((a['time']*a['bass'])*0.1)))); a['y']=(a['y']+(0.207*Math.sin(((a['time']*a['bass'])*0.1))));}());","init_eqs_eel":"","frame_eqs_eel":"sounds=(bass+treb+mid)/3;\n\nrad=rad*sounds*0.6;\n\nr=r+sin(bass)*g;\ng=g+sin(mid)*g;\n\n\nx=x+0.207*cos(time*bass*0.1);\ny=y+0.207*sin(time*bass*0.1);"},{"baseVals":{"enabled":1,"sides":100,"rad":0.13465,"r2":1,"a2":0.3,"border_a":0},"init_eqs_str":"(function(){a['sounds'] = 0; }());","frame_eqs_str":"(function(){a['g2']=(a['g2']+(0.09*Math.sin(((a['treb']+a['mid'])*1.23)))); a['g']=(a['g']+(0.09*Math.cos(((a['bass']+a['mid'])*1.37)))); a['sounds']=div(((a['bass']+a['mid'])+a['treb']),3); a['rad']=div((a['rad']*(a['treb']+a['mid'])),3); a['x']=(a['x']+(0.300*Math.sin((a['time']*a['bass'])))); a['y']=(a['y']+(0.317*Math.cos((a['time']*a['bass']))));}());","init_eqs_eel":"","frame_eqs_eel":"\ng2=g2+0.09*sin((treb+mid)*1.23);\ng=g+0.09*cos((bass+mid)*1.37);\n\nsounds=(bass+mid+treb)/3;\n\nrad=rad*(treb+mid)/3;\n\nx=x+0.300*sin(time*bass);\ny=y+0.317*cos(time*bass);"},{"baseVals":{"enabled":1,"sides":100,"rad":0.20047,"g":1,"b":1,"r2":0.5,"g2":0.5,"b2":1,"border_b":0.5,"border_a":0},"init_eqs_str":"(function(){a['sounds'] = 0; a['att'] = 0; }());","frame_eqs_str":"(function(){a['sounds']=div(((a['bass']+a['treb'])+a['mid']),3); a['att']=div(((a['bass_att']+a['treb_att'])+a['mid_att']),3); a['att']=div(((a['bass_att']+a['treb_att'])+a['mid_att']),3); a['r2']=((a['r2']+(0.25*Math.sin((a['time']*6.28))))-a['bass']); a['g2']=((a['g2']+(0.25*Math.sin((a['time']*6.28))))-a['bass']); a['rad']=a['rad']; a['x']=((a['x']+(0.217*Math.cos((a['time']*2.3))))+(a['sounds']*0.1)); a['y']=(a['y']+(0.217*Math.sin(((a['time']*3.5)+(a['sounds']*0.3)))));}());","init_eqs_eel":"","frame_eqs_eel":"sounds=(bass+treb+mid)/3;\natt=(bass_att+treb_att+mid_att)/3;\natt=(bass_att+treb_att+mid_att)/3;\nr2=r2+(0.25*sin(time*6.28))-bass;\ng2=g2+(0.25*sin(time*6.28))-bass;\n\nrad=rad;\nx=x+0.217*cos(time*2.3)+sounds*0.1;\ny=y+0.217*sin((time*3.5)+(sounds*0.3));"},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"sep":256,"scaling":20.35074,"enabled":0},"init_eqs_str":"","frame_eqs_str":"(function(){r=r+0.5*sin(treb*1.13);\ng=g+0.5*sin(bass*1.33);\nb=b+0.5*sin(mid*1.23);}());","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"(function(){r=r+0.5*sin(treb*1.13);\ng=g+0.5*sin(bass*1.33);\nb=b+0.5*sin(mid*1.23);}());","point_eqs_eel":""},{"baseVals":{"sep":256,"usedots":1,"scaling":100,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_str":"(function(){a['lbbtime'] = 0; a['tic'] = 0; a['bbtime'] = 0; a['beatb'] = 0; a['vt'] = 0; a['des'] = 0; a['q6'] = 0; a['dbass'] = 0; a['avgbeatrate'] = 0; a['bt'] = 0; a['q1'] = 0; a['q5'] = 0; a['avgvol'] = 0; a['xd'] = 0; a['mid_avg'] = 0; a['dis'] = 0; a['tt'] = 0; a['tin'] = 0; a['beatrate'] = 0; a['bass_avg'] = 0; a['vav'] = 0; a['yd'] = 0; a['an'] = 0; a['q4'] = 0; a['lbass'] = 0; a['mt'] = 0; a['sz'] = 0; a['ra'] = 0; a['rawbeatb'] = 0; a['treb_avg'] = 0; a['db'] = 0; a['vol'] = 0; a['bc'] = 0; a['q2'] = 0; a['q3'] = 0; a['q7'] = 0; a['rb'] = 0; a['mtime'] = 0; a['q8'] = 0; a['avgdb'] = 0; a['beatrate']=5; a['avgbeatrate']=1; a['bbtime']=1; a['lbbtime']=0.5; a['avgdb']=0.5; a['vol']=1; a['avgvol']=0.2; a['mtime']=1000; a['tt']=(1000*a['treb']); a['bt']=(1000*a['bass']); a['mt']=(1000*a['mid']);}());","frame_eqs_str":"(function(){a['db']=((a['bass']-a['lbass'])*a['fps']); a['lbass']=a['bass']; a['avgdb']=((a['avgdb']*0.99)+(Math.abs(a['db'])*0.01)); a['rawbeatb']=above(a['db'], (a['avgdb']*2)); a['beatb']=((a['rawbeatb']*above((a['time']-a['lbbtime']), (0.75*a['avgbeatrate'])))*above(a['bass_att'], 0.3)); a['bbtime']=(a['time']*a['beatb']); a['beatrate']=((a['beatb']*(a['bbtime']-a['lbbtime']))+((1-a['beatb'])*a['beatrate'])); a['avgbeatrate']=((a['beatb']*((a['avgbeatrate']*0.999)+(a['beatrate']*0.001)))+((1-a['beatb'])*a['avgbeatrate'])); a['lbbtime']=((a['time']*a['beatb'])+((1-a['beatb'])*a['lbbtime'])); a['bc']=(a['bc']+a['beatb']); a['vol']=((a['rawbeatb']*(a['db']-a['avgdb']))*0.01); a['avgvol']=((a['avgvol']*0.99)+(a['vol']*0.05)); a['mtime']=(a['mtime']+Math.min((a['avgvol']*0.5), 0.25)); a['warp']=0; a['wrap']=1; a['warp']=0; a['tic']=Math.min((a['time']-a['tin']), 0.1); a['tin']=a['time']; a['ra']=10; a['treb_avg']=(a['tic']*((a['treb_avg']*(div(1,a['tic'])-a['ra']))+(a['ra']*a['treb']))); a['mid_avg']=(a['tic']*((a['mid_avg']*(div(1,a['tic'])-a['ra']))+(a['ra']*a['mid']))); a['bass_avg']=(a['tic']*((a['bass_avg']*(div(1,a['tic'])-a['ra']))+(a['ra']*a['bass']))); a['rb']=1; a['vav']=(a['tic']*((a['vav']*(div(1,a['tic'])-a['rb']))+((a['rb']*((a['bass']+a['treb'])+a['mid']))*0.33333))); a['tt']=(a['tt']+(a['tic']*a['treb_avg'])); a['mt']=(a['mt']+(a['tic']*a['mid_avg'])); a['bt']=(a['bt']+(a['tic']*a['bass_avg'])); a['vt']=(a['vt']+((a['tic']*((a['treb_avg']+a['mid_avg'])+a['bass_avg']))*0.33333)); a['sz']=0.2; a['q1']=((0.5+(a['sz']*Math.sin((a['tt']*0.629))))-(a['sz']*Math.sin((a['tt']*0.107)))); a['q2']=((0.5+(a['sz']*Math.sin((a['tt']*0.987))))-(a['sz']*Math.sin((a['tt']*0.456)))); a['q3']=((0.5+(a['sz']*Math.sin((a['mt']*0.654))))-(a['sz']*Math.sin((a['mt']*0.355)))); a['q4']=((0.5+(a['sz']*Math.sin((a['mt']*0.548))))-(a['sz']*Math.sin((a['mt']*0.875)))); a['q5']=((0.5+(a['sz']*Math.sin((a['bt']*0.687))))-(a['sz']*Math.sin((a['bt']*0.318)))); a['q6']=((0.5+(a['sz']*Math.sin((a['bt']*0.465))))-(a['sz']*Math.sin((a['bt']*0.526)))); a['q7']=a['mtime']; a['q8']=a['dbass'];}());","pixel_eqs_str":"(function(){a['xd']=(a['q1']-a['x']); a['yd']=(a['q2']-a['y']); a['dis']=pow(((a['xd']*a['xd'])+(a['yd']*a['yd'])), 0.5); a['des']=(1-(a['dis']*0.7071068)); a['des']=(pow(a['des'], (10*a['q8']))*-a['treb']); a['an']=Math.acos(div(Math.abs(a['xd']),a['dis'])); a['dx']=(((sign(a['xd'])*0.01)*Math.cos(a['an']))*a['des']); a['dy']=(((sign(a['yd'])*0.01)*Math.sin(a['an']))*a['des']); a['dx']=(a['dx']-((((sign(a['yd'])*Math.sin((a['q7']+a['an'])))*0.001)*a['treb_att'])*a['des'])); a['dy']=(a['dy']+((((sign(a['xd'])*Math.cos((a['q7']+a['an'])))*0.001)*a['treb'])*a['des'])); a['sy']=(1+(a['dx']*a['des'])); a['sx']=(1-(a['dy']*a['des'])); a['xd']=(a['q3']-a['x']); a['yd']=(a['q4']-a['y']); a['dis']=pow(((a['xd']*a['xd'])+(a['yd']*a['yd'])), 0.5); a['des']=(1-(a['dis']*0.7071068)); a['des']=(pow(a['des'], (10*a['q8']))*-a['mid']); a['an']=Math.acos(div(Math.abs(a['xd']),a['dis'])); a['dx']=(a['dx']+(((sign(a['xd'])*0.01)*Math.cos(a['an']))*a['des'])); a['dy']=(a['dy']+(((sign(a['yd'])*0.01)*Math.sin(a['an']))*a['des'])); a['dx']=(a['dx']-((((sign(a['yd'])*Math.sin((a['q7']+a['an'])))*0.001)*a['mid_att'])*a['des'])); a['dy']=(a['dy']+((((sign(a['xd'])*Math.cos((a['q7']+a['an'])))*0.001)*a['mid'])*a['des'])); a['sy']=(1+(a['dx']*a['des'])); a['sx']=(1-(a['dy']*a['des'])); a['xd']=(a['q5']-a['x']); a['yd']=(a['q6']-a['y']); a['dis']=pow(((a['xd']*a['xd'])+(a['yd']*a['yd'])), 0.5); a['des']=(1-(a['dis']*0.7071068)); a['des']=(pow(a['des'], (10*a['q8']))*-a['bass']); a['an']=Math.acos(div(Math.abs(a['xd']),a['dis'])); a['dx']=(a['dx']+(((sign(a['xd'])*0.01)*Math.cos(a['an']))*a['des'])); a['dy']=(a['dy']+(((sign(a['yd'])*0.01)*Math.sin(a['an']))*a['des'])); a['dx']=(a['dx']-((((sign(a['yd'])*Math.sin((a['q7']+a['an'])))*0.001)*a['bass_att'])*a['des'])); a['dy']=(a['dy']+((((sign(a['xd'])*Math.cos((a['q7']+a['an'])))*0.001)*a['bass'])*a['des'])); a['sy']=(1+(a['dx']*a['des'])); a['sx']=(1-(a['dy']*a['des']));}());","init_eqs_eel":"beatrate=5;\navgbeatrate=1;\nbbtime=1;\nlbbtime=.5;\navgdb=.5;\nvol=1;\navgvol=.2;\nmtime=1000;\n\ntt=1000*treb;\nbt=1000*bass;\nmt=1000*mid;","frame_eqs_eel":"db=(bass-lbass)*fps;\nlbass=bass;\navgdb=avgdb*.99+abs(db)*.01;\n\n//beatdection\nrawbeatb=above(db,avgdb*2);\nbeatb=rawbeatb*above(time-lbbtime,.75*avgbeatrate)*above(bass_att,.3);\n\n//beatrate calc\nbbtime=time*beatb;\nbeatrate=beatb*(bbtime-lbbtime)+(1-beatb)*beatrate;\navgbeatrate=beatb*(avgbeatrate*.999+beatrate*.001)+(1-beatb)*avgbeatrate;\nlbbtime=time*beatb+(1-beatb)*lbbtime;\n\nbc=bc+beatb;\n\n\n\nvol=(rawbeatb*(db-(avgdb))*.01);\navgvol=avgvol*.99+vol*.05;\n\nmtime=mtime+min(avgvol*.5,.25);\n\n//decay=.99;\nwarp=0;\nwrap=1;\n\n\nwarp = 0;\n\ntic = min(time - tin,.1);\ntin = time;\n\nra = 10;\ntreb_avg = tic*(treb_avg*(1/tic - ra) + ra*treb);\nmid_avg = tic*(mid_avg*(1/tic - ra) + ra*mid);\nbass_avg = tic*(bass_avg*(1/tic - ra) + ra*bass);\n\nrb = 1;\nvav = tic*(vav*(1/tic - rb) + rb*(bass+treb+mid)*.33333);\n\ntt = tt + tic*treb_avg;\nmt = mt + tic*mid_avg;\nbt = bt + tic*bass_avg;\nvt = vt + tic*(treb_avg+mid_avg+bass_avg)*.33333;\n\nsz = .2;\n\nq1 = .5 + sz*sin(tt*.629) - sz*sin(tt*.107);\nq2 = .5 + sz*sin(tt*.987) - sz*sin(tt*.456);\n\nq3 = .5 + sz*sin(mt*.654) - sz*sin(mt*.355);\nq4 = .5 + sz*sin(mt*.548) - sz*sin(mt*.875);\n\nq5 = .5 + sz*sin(bt*.687) - sz*sin(bt*.318);\nq6 = .5 + sz*sin(bt*.465) - sz*sin(bt*.526);\n\n\nq7=mtime;\nq8=dbass;","pixel_eqs_eel":"xd = q1-x;\nyd = q2-y;\n\ndis = pow(xd*xd+yd*yd,.5);\ndes = 1 - dis*.7071068;\ndes = pow(des,10*q8)*-treb;\nan = acos(abs(xd)/dis);\n\ndx = sign(xd)*.01*cos(an)*des;\ndy = sign(yd)*.01*sin(an)*des;\n\n//dy = dy + sign(xd)*treb*.05*cos(an)*des;\n//dx = dx + sign(yd)*treb*.05*sin(an)*des*-1;\n\n\ndx=dx-sign(yd)*sin(q7+an)*.001*treb_att*des;\ndy=dy+sign(xd)*cos(q7+an)*.001*treb*des;\n\nsy=1+dx*des;\nsx=1-dy*des;\n\n\nxd = q3-x;\nyd = q4-y;\n\ndis = pow(xd*xd+yd*yd,.5);\ndes = 1 - dis*.7071068;\ndes = pow(des,10*q8)*-mid;\nan = acos(abs(xd)/dis);\n\ndx = dx + sign(xd)*.01*cos(an)*des;\ndy = dy + sign(yd)*.01*sin(an)*des;\n\n//dy = dy + sign(xd)*mid*.05*cos(an)*des;\n//dx = dx + sign(yd)*mid*.05*sin(an)*des*-1;\n\n\ndx=dx-sign(yd)*sin(q7+an)*.001*mid_att*des;\ndy=dy+sign(xd)*cos(q7+an)*.001*mid*des;\n\nsy=1+dx*des;\nsx=1-dy*des;\n\nxd = q5-x;\nyd = q6-y;\n\ndis = pow(xd*xd+yd*yd,.5);\ndes = 1 - dis*.7071068;\ndes = pow(des,10*q8)*-bass;\nan = acos(abs(xd)/dis);\n\ndx = dx + sign(xd)*.01*cos(an)*des;\ndy = dy + sign(yd)*.01*sin(an)*des;\n\n//dy = dy + sign(xd)*bass*.05*cos(an)*des;\n//dx = dx + sign(yd)*bass*.05*sin(an)*des*-1;\n\n\ndx=dx-sign(yd)*sin(q7+an)*.001*bass_att*des;\ndy=dy+sign(xd)*cos(q7+an)*.001*bass*des;\n\nsy=1+dx*des;\nsx=1-dy*des;","warp":"shader_body\n{ret=texture(sampler_main, uv).xyz;\nvec2 mo=uv-uv_orig;\nret=texture(sampler_main, uv_orig+mo*lum(ret)).xyz;\nret=ret*0.99-0.002;\n}","comp":"// (MWmod) uniform sampler2D sampler_rand00;\nfloat cross, noise, z, mask, scale;\nvec2 rs, rs0, uv1, uv2, uv3, uv4, uvt;\nvec3 ret1,ret2,struc,flash2;\n\nvec3 Get1 (vec2 uvi){return texture(sampler_main, uvi).xyz;}\n\nfloat _pow(float b,float e){return pow(b,e);}\nvec2  _pow(vec2  b,float e){return pow(b,vec2(e));}\nvec3  _pow(vec3  b,float e){return pow(b,vec3(e));}\nvec4  _pow(vec4  b,float e){return pow(b,vec4(e));}\nshader_body {\n\nfloat iter = 4+10*clamp(texsize.x/1024*uv.y, 0.0, 1.0);\nret =Get1(uv); ret1 = ret; ret2 = ret;\nfor (int n =1; n < 10; n++) {\n  ret1 = max(ret1,Get1(uv+texsize.zw*vec2(n,0)));\n//  ret2 = max(ret2,Get1(uv+texsize.zw*vec2(0,n)));\n}\nstruc = ret1;\nmask = clamp(1-16*lum(struc), 0.0, 1.0);\nstruc *= .06/(length(rad/2-length((ret1+ret2*0.2))+0.6));\n\n//BACK\n//uv4 = (uv-0.5) * (1+0*exp(-_pow((uv.x-0.5)*3-2*q14,2)))+0.5;\n\n\nnoise = (texture(sampler_noise_lq,2*uv4).r+0.25);\nnoise *= 1-texture(sampler_noise_lq,2*uv4+texsize.zw*-4).r;\n// (MWmod) noise *= (0.5+ 0.5*(lum(texture(sampler_rand00,uv).xyz) > 0.5))*2;\nret =0.05+noise*0.5*(1-rad);  // texLum (orig *0.5)\n\nret *= clamp(1-lum(((texture(sampler_blur2, uv4-0.13).xyz * scale2) + bias2))*8, 0.0, 1.0);\nret =mix (ret,struc, !mask);\n\n//NEW FLASH\nfor (int n = 1; n <= 3; n++)\n{\n  uvt = texture(sampler_noise_lq,n*0.074+q25).xy;\n  uv3 = uv4-uvt;\n  uv3 = (mat2 (q23,q24,-q24,q23) * uv3);\n  cross = (0.0001+abs (uv3.x+uv3.y) *abs (uv3.x-uv3.y)) * length(uv3);\n  flash2 = (3*q22/cross) *((texture(sampler_blur1, uvt).xyz * scale1) + bias1) * (uvt.x < 0.9)* (uvt.x > 0.1)* (uvt.y < 0.9)* (uvt.y > 0.1);\n  flash2 += 100000*mask*q22*clamp(1-2*length (uv3-0.1), 0.0, 1.0) *noise*((texture(sampler_blur1, uvt).xyz * scale1) + bias1);\n  ret += flash2;\n}\n//ret =texture(sampler_main, uv).xyz;\n//ret *= 1.4;  // gamma  (orig 1.4  und  deakt)\n//ret /= vec3(1.8,-0.8,2.8);\nret /= vec3(0.6,2.6,-0.6);\n}","warp_hlsl":"shader_body\n{ret=GetPixel(uv);\nfloat2 mo=uv-uv_orig;\nret=GetPixel(uv_orig+mo*lum(ret));\nret=ret*0.99-0.002;\n}","comp_hlsl":"// (MWmod) sampler sampler_rand00;\nfloat cross, noise, z, mask, scale;\nfloat2 rs, rs0, uv1, uv2, uv3, uv4, uvt;\nfloat3 ret1,ret2,struc,flash2;\n\nfloat3 Get1 (float2 uvi){return GetPixel (uvi);}\n\nshader_body {\n\nfloat iter = 4+10*saturate (texsize.x/1024*uv.y);\nret = Get1(uv); ret1 = ret; ret2 = ret;\nfor (int n =1; n < 10; n++) {\n  ret1 = max(ret1,Get1(uv+texsize.zw*float2(n,0)));\n//  ret2 = max(ret2,Get1(uv+texsize.zw*float2(0,n)));\n}\nstruc = ret1;\nmask = saturate(1-16*lum(struc));\nstruc *= .06/(length(rad/2-length((ret1+ret2*0.2))+0.6));\n\n//BACK\n//uv4 = (uv-0.5) * (1+0*exp(-pow ((uv.x-0.5)*3-2*q14,2)))+0.5;\n\n\nnoise = (tex2D(sampler_noise_lq,2*uv4).r+0.25);\nnoise *= 1-tex2D(sampler_noise_lq,2*uv4+texsize.zw*-4).r;\n// (MWmod) noise *= (0.5+ 0.5*(lum(tex2D(sampler_rand00,uv)) > 0.5))*2;\nret = 0.05+noise*0.5*(1-rad);  // texLum (orig *0.5)\n\nret *= saturate(1-lum(GetBlur2(uv4-0.13))*8);\nret = lerp (ret,struc, !mask);\n\n//NEW FLASH\nfor (int n = 1; n <= 3; n++)\n{\n  uvt = tex2D(sampler_noise_lq,n*0.074+q25).xy;\n  uv3 = uv4-uvt;\n  uv3 = mul (uv3,float2x2 (q23,q24,-q24,q23));\n  cross = (0.0001+abs (uv3.x+uv3.y) *abs (uv3.x-uv3.y)) * length(uv3);\n  flash2 = (3*q22/cross) *GetBlur1(uvt) * (uvt.x < 0.9)* (uvt.x > 0.1)* (uvt.y < 0.9)* (uvt.y > 0.1);\n  flash2 += 100000*mask*q22*saturate(1-2*length (uv3-0.1)) *noise*GetBlur1(uvt);\n  ret += flash2;\n}\n//ret = GetPixel(uv);\n//ret *= 1.4;  // gamma  (orig 1.4  und  deakt)\n//ret /= float3(1.8,-0.8,2.8);\nret /= float3(0.6,2.6,-0.6);\n}"}