{"version":2,"baseVals":{"rating":5,"gammaadj":1.46,"decay":0.935,"echo_zoom":1.007,"echo_alpha":0.5,"echo_orient":2,"wave_mode":7,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"brighten":1,"darken":1,"wave_a":0.001,"wave_scale":1.286,"wave_smoothing":0.63,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpanimspeed":1.681,"warpscale":2.953,"zoomexp":0.01,"fshader":1,"zoom":0.9901,"warp":1.24699,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"ob_size":0,"ob_a":1,"ib_size":0,"ib_r":1,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":64,"mv_y":22.982,"mv_l":0.4,"mv_g":0.4,"mv_a":0},"shapes":[{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"usedots":1,"thick":1,"additive":1,"r":0.87,"a":1.12},"init_eqs_str":"(function(){a['oldmd'] = 0; a['md'] = 0; a['mx'] = 0; a['my'] = 0; a['ma']=0.5; a['my']=0.5; a['md']=0;}())","frame_eqs_str":"","point_eqs_str":"(function(){a['oldmd']=a['md']; a['md']=mod((a['md']+rand(4)),4); a['md']=((Math.abs(equal(a['md'], a['oldmd']))>0.00001)?(mod((a['md']+1),4)):(a['md'])); a['mx']=(a['mx']+((equal(a['md'], 0)*0.002)*a['bass'])); a['mx']=(a['mx']-((equal(a['md'], 1)*0.002)*a['bass'])); a['my']=(a['my']+((equal(a['md'], 2)*0.002)*a['treb'])); a['my']=(a['my']-((equal(a['md'], 3)*0.002)*a['treb'])); a['mx']=((Math.abs(above(a['mx'], 0.9))>0.00001)?(0.5):(a['mx'])); a['mx']=((Math.abs(below(a['mx'], 0.1))>0.00001)?(0.5):(a['mx'])); a['my']=((Math.abs(above(a['my'], 0.9))>0.00001)?(0.5):(a['my'])); a['my']=((Math.abs(below(a['my'], 0.1))>0.00001)?(0.5):(a['my'])); a['x']=a['mx']; a['y']=a['my']; a['a']=(a['bass']*0.1); a['r']=(a['bass']*0.5);}())","init_eqs_eel":"ma=.5;\nmy=.5;\nmd=0; //direction 0 1 2 3","frame_eqs_eel":"","point_eqs_eel":"oldmd=md;\nmd=(md+rand(4))%4;\nmd=if(equal(md,oldmd),(md+1)%4,md);\n\nmx=mx+(equal(md,0)*.002*bass);\nmx=mx-(equal(md,1)*.002*bass);\nmy=my+(equal(md,2)*.002*treb);\nmy=my-(equal(md,3)*.002*treb);\n\nmx=if(above(mx,.9),.5,mx);\nmx=if(below(mx,.1),.5,mx);\nmy=if(above(my,.9),.5,my);\nmy=if(below(my,.1),.5,my);\n\nx=mx;\ny=my;\na=bass*.1;\n\nr=bass*.5;"},{"baseVals":{"enabled":1,"usedots":1,"thick":1,"additive":1,"scaling":1.01,"a":1.06},"init_eqs_str":"(function(){a['oldmd'] = 0; a['md'] = 0; a['mx'] = 0; a['my'] = 0; a['mx']=0.5; a['my']=0.5; a['md']=1;}())","frame_eqs_str":"","point_eqs_str":"(function(){a['oldmd']=a['md']; a['md']=mod((a['md']+rand(4)),4); a['md']=((Math.abs(equal(a['md'], a['oldmd']))>0.00001)?(mod((a['md']+1),4)):(a['md'])); a['mx']=(a['mx']+((equal(a['md'], 0)*0.002)*a['bass'])); a['mx']=(a['mx']-((equal(a['md'], 1)*0.002)*a['bass'])); a['my']=(a['my']+((equal(a['md'], 2)*0.002)*a['treb'])); a['my']=(a['my']-((equal(a['md'], 3)*0.0018)*a['treb'])); a['mx']=((Math.abs(above(a['mx'], 0.9))>0.00001)?(0.5):(a['mx'])); a['mx']=((Math.abs(below(a['mx'], 0.1))>0.00001)?(0.5):(a['mx'])); a['my']=((Math.abs(above(a['my'], 0.9))>0.00001)?(0.5):(a['my'])); a['my']=((Math.abs(below(a['my'], 0.1))>0.00001)?(0.5):(a['my'])); a['x']=a['mx']; a['y']=a['my']; a['a']=(a['bass']*0.1); a['g']=(a['treb']*0.5);}())","init_eqs_eel":"mx=.5;\nmy=.5;\nmd=1;","frame_eqs_eel":"","point_eqs_eel":"oldmd=md;\nmd=(md+rand(4))%4;\nmd=if(equal(md,oldmd),(md+1)%4,md);\n\nmx=mx+(equal(md,0)*.002*bass);\nmx=mx-(equal(md,1)*.002*bass);\nmy=my+(equal(md,2)*.002*treb);\nmy=my-(equal(md,3)*0.0018*treb);\n\nmx=if(above(mx,.9),.5,mx);\nmx=if(below(mx,.1),.5,mx);\nmy=if(above(my,.9),.5,my);\nmy=if(below(my,.1),.5,my);\n\nx=mx;\ny=my;\na=bass*.1;\n\ng=treb*.5;"},{"baseVals":{"enabled":1,"usedots":1,"thick":1,"additive":1,"r":0.87},"init_eqs_str":"(function(){a['oldmd'] = 0; a['md'] = 0; a['mx'] = 0; a['my'] = 0; a['mx']=0.5; a['my']=0.5; a['md']=2;}())","frame_eqs_str":"","point_eqs_str":"(function(){a['oldmd']=a['md']; a['md']=mod((a['md']+rand(4)),4); a['md']=((Math.abs(equal(a['md'], a['oldmd']))>0.00001)?(mod((a['md']+1),4)):(a['md'])); a['mx']=(a['mx']+((equal(a['md'], 0)*0.002)*a['bass'])); a['mx']=(a['mx']-((equal(a['md'], 1)*0.002)*a['bass'])); a['my']=(a['my']+((equal(a['md'], 2)*0.002)*a['treb'])); a['my']=(a['my']-((equal(a['md'], 3)*0.002)*a['treb'])); a['mx']=((Math.abs(above(a['mx'], 0.9))>0.00001)?(0.5):(a['mx'])); a['mx']=((Math.abs(below(a['mx'], 0.1))>0.00001)?(0.5):(a['mx'])); a['my']=((Math.abs(above(a['my'], 0.83))>0.00001)?(0.45):(a['my'])); a['my']=((Math.abs(below(a['my'], 0.1))>0.00001)?(0.5):(a['my'])); a['x']=a['mx']; a['y']=a['my']; a['a']=(a['bass']*0.1);}())","init_eqs_eel":"mx=.5;\nmy=.5;\nmd=2;","frame_eqs_eel":"","point_eqs_eel":"oldmd=md;\nmd=(md+rand(4))%4;\nmd=if(equal(md,oldmd),(md+1)%4,md);\n\nmx=mx+(equal(md,0)*.002*bass);\nmx=mx-(equal(md,1)*.002*bass);\nmy=my+(equal(md,2)*.002*treb);\nmy=my-(equal(md,3)*.002*treb);\n\nmx=if(above(mx,.9),.5,mx);\nmx=if(below(mx,.1),.5,mx);\nmy=if(above(my,0.83),0.45,my);\nmy=if(below(my,.1),.5,my);\n\nx=mx;\ny=my;\na=bass*.1;"},{"baseVals":{"enabled":1,"usedots":1,"thick":1,"additive":1},"init_eqs_str":"(function(){a['oldmd'] = 0; a['md'] = 0; a['mx'] = 0; a['my'] = 0; a['mx']=0.5; a['my']=0.4; a['md']=3;}())","frame_eqs_str":"","point_eqs_str":"(function(){a['oldmd']=a['md']; a['md']=mod((a['md']+rand(4)),4); a['md']=((Math.abs(equal(a['md'], a['oldmd']))>0.00001)?(mod((a['md']+1),4)):(a['md'])); a['mx']=(a['mx']+((equal(a['md'], 0)*0.002)*a['bass'])); a['mx']=(a['mx']-((equal(a['md'], 1)*0.0019)*a['bass'])); a['my']=(a['my']+((equal(a['md'], 2)*0.002)*a['treb'])); a['my']=(a['my']-((equal(a['md'], 3)*0.002)*a['treb'])); a['mx']=((Math.abs(above(a['mx'], 0.95))>0.00001)?(0.47):(a['mx'])); a['mx']=((Math.abs(below(a['mx'], 0.1))>0.00001)?(0.5):(a['mx'])); a['my']=((Math.abs(above(a['my'], 0.9))>0.00001)?(0.5):(a['my'])); a['my']=((Math.abs(below(a['my'], 0.1))>0.00001)?(0.5):(a['my'])); a['x']=a['mx']; a['y']=a['my']; a['a']=(a['bass']*0.1);}())","init_eqs_eel":"mx=.5;\nmy=.4;\nmd=3;","frame_eqs_eel":"","point_eqs_eel":"oldmd=md;\nmd=(md+rand(4))%4;\nmd=if(equal(md,oldmd),(md+1)%4,md);\n\nmx=mx+(equal(md,0)*.002*bass);\nmx=mx-(equal(md,1)*0.0019*bass);\nmy=my+(equal(md,2)*0.002*treb);\nmy=my-(equal(md,3)*.002*treb);\n\nmx=if(above(mx,0.95),0.47,mx);\nmx=if(below(mx,.1),.5,mx);\nmy=if(above(my,.9),.5,my);\nmy=if(below(my,.1),.5,my);\n\nx=mx;\ny=my;\na=bass*.1;"}],"init_eqs_str":"(function(){a['q25'] = 0; a['q12'] = 0; a['w2'] = 0; a['q18'] = 0; a['q22'] = 0; a['q21'] = 0; a['vt'] = 0; a['q13'] = 0; a['q15'] = 0; a['q29'] = 0; a['q6'] = 0; a['q1'] = 0; a['q5'] = 0; a['vb'] = 0; a['q9'] = 0; a['q31'] = 0; a['q23'] = 0; a['q24'] = 0; a['q11'] = 0; a['q10'] = 0; a['q4'] = 0; a['q16'] = 0; a['q26'] = 0; a['w1'] = 0; a['q19'] = 0; a['q17'] = 0; a['q2'] = 0; a['q27'] = 0; a['q14'] = 0; a['q3'] = 0; a['vvm'] = 0; a['q32'] = 0; a['vvb'] = 0; a['q7'] = 0; a['q28'] = 0; a['vm'] = 0; a['q30'] = 0; a['q20'] = 0; a['vvt'] = 0; a['q8'] = 0;}())","frame_eqs_str":"(function(){a['vb']=((a['vb']*0.95)+(((1-a['vb'])*pow(a['bass_att'], 2))*0.02)); a['vvb']=((a['vvb']*0.95)+(((1-a['vvb'])*a['vb'])*0.01)); a['vm']=((a['vm']*0.95)+(((1-a['vm'])*pow(a['mid_att'], 2))*0.02)); a['vvm']=((a['vvm']*0.95)+(((1-a['vvm'])*a['vm'])*0.01)); a['vt']=((a['vt']*0.95)+(((1-a['vt'])*pow(a['treb_att'], 2))*0.02)); a['vvt']=((a['vvt']*0.95)+(((1-a['vvt'])*a['vt'])*0.01)); a['vvb']=Math.min(1, Math.max(0, a['vvb'])); a['vvm']=Math.min(1, Math.max(0, a['vvm'])); a['vvt']=Math.min(1, Math.max(0, a['vvt'])); a['q1']=(a['vvb']*2); a['q2']=(a['vvm']*2); a['q3']=(a['vvt']*2); a['q4']=(((a['q1']+a['q2'])+a['q3'])*5); a['q5']=(((a['q1']+a['q2'])+a['q3'])*5); a['q6']=(((a['q1']+a['q2'])+a['q3'])*5); a['q7']=(((a['q1']+a['q2'])+a['q3'])*5); a['q8']=(((a['q1']+a['q2'])+a['q3'])*5); a['q9']=(((a['q1']+a['q2'])+a['q3'])*5); a['q10']=(((a['q1']+a['q2'])+a['q3'])*5); a['q11']=(((a['q1']+a['q2'])+a['q3'])*5); a['q12']=(((a['q1']+a['q2'])+a['q3'])*5); a['q13']=(((a['q1']+a['q2'])+a['q3'])*5); a['q14']=(((a['q1']+a['q2'])+a['q3'])*5); a['q15']=(((a['q1']+a['q2'])+a['q3'])*5); a['q16']=(((a['q1']+a['q2'])+a['q3'])*5); a['q17']=(((a['q1']+a['q2'])+a['q3'])*5); a['q18']=(((a['q1']+a['q2'])+a['q3'])*5); a['q19']=(((a['q1']+a['q2'])+a['q3'])*5); a['q20']=(((a['q1']+a['q2'])+a['q3'])*5); a['q21']=(((a['q1']+a['q2'])+a['q3'])*5); a['q22']=(((a['q1']+a['q2'])+a['q3'])*5); a['q23']=(((a['q1']+a['q2'])+a['q3'])*5); a['q24']=(((a['q1']+a['q2'])+a['q3'])*5); a['q25']=(((a['q1']+a['q2'])+a['q3'])*5); a['q26']=(((a['q1']+a['q2'])+a['q3'])*5); a['q27']=(((a['q1']+a['q2'])+a['q3'])*5); a['q28']=(((a['q1']+a['q2'])+a['q3'])*5); a['q29']=(((a['q1']+a['q2'])+a['q3'])*5); a['q30']=(((a['q1']+a['q2'])+a['q3'])*5); a['q31']=(((a['q1']+a['q2'])+a['q3'])*5); a['q32']=(((a['q1']+a['q2'])+a['q3'])*5); a['q1']=a['aspectx']; a['q2']=a['aspecty']; a['w1']=(Math.asin(1)*0.7); a['w2']=(Math.asin(1)*1.3); a['q5']=Math.sin(a['w1']); a['q6']=Math.cos(a['w1']); a['q7']=Math.sin(a['w2']); a['q8']=Math.cos(a['w2']); a['w1']=(Math.asin(1)*0.7); a['w2']=(Math.asin(1)*1.3); a['q9']=Math.sin(a['w1']); a['q10']=Math.cos(a['w1']); a['q11']=Math.sin(a['w2']); a['q12']=Math.cos(a['w2']); a['zoom']=0.999; a['q30']=(((a['bass']+a['treb'])+a['mid'])*2.3); a['q3']=(a['q30']*3);}())","pixel_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"//per frame less reactive volume for all unused q vars, put before other q vars are set for cop out mashing\nvb = vb*0.95 + (1-vb)*pow(bass_att,2)*0.02;\nvvb = vvb*0.95 + (1-vvb)*vb*0.01;\nvm = vm*0.95 + (1-vm)*pow(mid_att,2)*0.02;\nvvm = vvm*0.95 + (1-vvm)*vm*0.01;\nvt = vt*0.95 + (1-vt)*pow(treb_att,2)*0.02;\nvvt = vvt*0.95 + (1-vvt)*vt*0.01;\nvvb = min(1,max(0,vvb));\nvvm = min(1,max(0,vvm));\nvvt = min(1,max(0,vvt));\nq1 = vvb*2;//0.5 + vb - vvb;\nq2 = vvm*2;//0.5 + vm - vvm;\nq3 = vvt*2;//0.5 + vt - vvt;\nq4=(q1+q2+q3)*5;\nq5=(q1+q2+q3)*5;\nq6=(q1+q2+q3)*5;\nq7=(q1+q2+q3)*5;\nq8=(q1+q2+q3)*5;\nq9=(q1+q2+q3)*5;\nq10=(q1+q2+q3)*5;\nq11=(q1+q2+q3)*5;\nq12=(q1+q2+q3)*5;\nq13=(q1+q2+q3)*5;\nq14=(q1+q2+q3)*5;\nq15=(q1+q2+q3)*5;\nq16=(q1+q2+q3)*5;\nq17=(q1+q2+q3)*5;\nq18=(q1+q2+q3)*5;\nq19=(q1+q2+q3)*5;\nq20=(q1+q2+q3)*5;\nq21=(q1+q2+q3)*5;\nq22=(q1+q2+q3)*5;\nq23=(q1+q2+q3)*5;\nq24=(q1+q2+q3)*5;\nq25=(q1+q2+q3)*5;\nq26=(q1+q2+q3)*5;\nq27=(q1+q2+q3)*5;\nq28=(q1+q2+q3)*5;\nq29=(q1+q2+q3)*5;\nq30=(q1+q2+q3)*5;\nq31=(q1+q2+q3)*5;\nq32=(q1+q2+q3)*5;\n\nq1 = aspectX;\nq2 = aspectY;\nw1 = asin(1)*0.7;\nw2 = asin(1)*1.3;\nq5 = sin(w1);\nq6 = cos(w1);\nq7 = sin(w2);\nq8 = cos(w2);\nw1 = asin(1)*0.7;\nw2 = asin(1)*1.3;\nq9 = sin(w1);\nq10 = cos(w1);\nq11 = sin(w2);\nq12 = cos(w2);\nzoom = 0.999;\n//wave_a = 0;\nq30=(bass+treb+mid)*2.3;\nq3=q30*3;","pixel_eqs_eel":"","warp":"\n//Shader from https://x.com/YoheiNishitsuji/status/1946193239486431531\n//Ported to MilkDrop by MilkDrop2077\n\n// HSV to RGB conversion\nvec3 hsv(float h, float s, float v) {\n    vec4 K = vec4(1.0, 2.0/3.0, 1.0/3.0, 3.0);\n    vec3 p = abs(fract(h + K.xyz) * 6.0 - K.www);\n    return v * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), s);\n}\n\n// 3D rotation matrix\nmat3 rotate3D(float angle, vec3 axis) {\n    axis = normalize(axis);\n    float s = sin(angle);\n    float c = cos(angle);\n    float oc = 1.0 - c;\n    return mat3(\n        oc * axis.x * axis.x + c, oc * axis.x * axis.y - axis.z * s, oc * axis.z * axis.x + axis.y * s,\n        oc * axis.x * axis.y + axis.z * s, oc * axis.y * axis.y + c, oc * axis.y * axis.z - axis.x * s,\n        oc * axis.z * axis.x - axis.y * s, oc * axis.y * axis.z + axis.x * s, oc * axis.z * axis.z + c\n    );\n}\nshader_body{\n    // Calculate aspect ratio correction\n    float aspect = aspect.x / aspect.y;\n\nuv = (uv_orig - 0.5) * vec2(aspect, 1.0);\n//uv.x *= 0.8;  // Compress horizontally\nfloat t = time;\nvec3 o = vec3(0.0, 0.0, 0.0);  // Output color\nfloat g = 0.0;  // Ray position\nfloat e = 0.0;  // Scale factor\nfloat s = 0.0;  // Distance field\n\nfor(float i = 0.0; i < 99.0; i++) {\n    e = 2.0;\n    vec3 p = (rotate3D(t * 0.5 - 8.0, vec3(2.0 + sin(t * 0.5) * 2.0, 1.0, 1.0)) * vec3(uv * g * 3.0, g));\n    p.z = fmod(t * 0.5+q23 / 1.047 + p.z, e) - e;\n    p.x += 0.6;\n\n    for(int j = 0; j < 21; j++) {\n        p = abs(p.zyx) - 1.0;\n        s = dot(p, p);\n        e /= s;\n        p /= s + 0.03;\n    }\n\n    g -= p.z / e * 0.5 + 0.002;\n    o += 1e-5 + hsv(p.y, p.y * 5.0 + s, 3.0) * 9e-6 * e / s / s;\n}\n\nret = vec4(o, 1.0);\n}","comp":"uniform sampler2D sampler_fw_clouds;  // loads clouds.jpg (or .tga, etc)\n\nshader_body         \n{\n    ret = texture(sampler_main, uv).xyz +\n              ((texture(sampler_blur2, uv).xyz * scale2) + bias2)\n          ;\n\n    ret = texture( sampler_fw_clouds, \n                     ret.xy*(0.1 + 0.7*rand_preset.x*rand_preset.y) \n                     + uv*vec2(1,-1)*aspect.xy\n                   ).xyz;\n\n    //ret *= 1.333; // a little bit of overbright\n\n}\n","warp_hlsl":"\n//Shader from https://x.com/YoheiNishitsuji/status/1946193239486431531\n//Ported to MilkDrop by MilkDrop2077\n\n// HSV to RGB conversion\nfloat3 hsv(float h, float s, float v) {\n    float4 K = float4(1.0, 2.0/3.0, 1.0/3.0, 3.0);\n    float3 p = abs(frac(h + K.xyz) * 6.0 - K.www);\n    return v * lerp(K.xxx, saturate(p - K.xxx), s);\n}\n\n// 3D rotation matrix\nfloat3x3 rotate3D(float angle, float3 axis) {\n    axis = normalize(axis);\n    float s = sin(angle);\n    float c = cos(angle);\n    float oc = 1.0 - c;\n    return float3x3(\n        oc * axis.x * axis.x + c, oc * axis.x * axis.y - axis.z * s, oc * axis.z * axis.x + axis.y * s,\n        oc * axis.x * axis.y + axis.z * s, oc * axis.y * axis.y + c, oc * axis.y * axis.z - axis.x * s,\n        oc * axis.z * axis.x - axis.y * s, oc * axis.y * axis.z + axis.x * s, oc * axis.z * axis.z + c\n    );\n}\nshader_body{\n    // Calculate aspect ratio correction\n    float aspect = aspect.x / aspect.y;\n\nuv = (uv_orig - 0.5) * float2(aspect, 1.0);\n//uv.x *= 0.8;  // Compress horizontally\nfloat t = time;\nfloat3 o = float3(0.0, 0.0, 0.0);  // Output color\nfloat g = 0.0;  // Ray position\nfloat e = 0.0;  // Scale factor\nfloat s = 0.0;  // Distance field\n\nfor(float i = 0.0; i < 99.0; i++) {\n    e = 2.0;\n    float3 p = mul(float3(uv * g * 3.0, g), rotate3D(t * 0.5 - 8.0, float3(2.0 + sin(t * 0.5) * 2.0, 1.0, 1.0)));\n    p.z = fmod(t * 0.5+q23 / 1.047 + p.z, e) - e;\n    p.x += 0.6;\n\n    for(int j = 0; j < 21; j++) {\n        p = abs(p.zyx) - 1.0;\n        s = dot(p, p);\n        e /= s;\n        p /= s + 0.03;\n    }\n\n    g -= p.z / e * 0.5 + 0.002;\n    o += 1e-5 + hsv(p.y, p.y * 5.0 + s, 3.0) * 9e-6 * e / s / s;\n}\n\nret = float4(o, 1.0);\n}","comp_hlsl":"sampler sampler_fw_clouds;  // loads clouds.jpg (or .tga, etc)\n\nshader_body         \n{\n    ret = tex2D(sampler_main, uv).xyz +\n              GetBlur2(uv)\n          ;\n\n    ret = tex2D( sampler_fw_clouds, \n                     ret.xy*(0.1 + 0.7*rand_preset.x*rand_preset.y) \n                     + uv*float2(1,-1)*aspect.xy\n                   ).xyz;\n\n    //ret *= 1.333; // a little bit of overbright\n\n}\n"}