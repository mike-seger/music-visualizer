{"version":2,"baseVals":{"rating":5,"gammaadj":1.46,"decay":0.935,"echo_zoom":1.007,"echo_alpha":0.5,"echo_orient":2,"wave_mode":4,"wave_dots":1,"wave_brighten":0,"brighten":1,"darken":1,"wave_a":0.001,"wave_scale":0.012,"wave_smoothing":0.9,"warpanimspeed":1.459,"warpscale":2.007,"fshader":1,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0.5,"wave_g":0.4,"wave_b":0.3,"ob_r":1,"ob_g":1,"ob_b":1,"ib_size":0.11,"mv_x":64,"mv_y":48,"mv_l":1,"mv_r":0.39,"mv_g":0.44,"mv_b":0.9,"mv_a":0},"shapes":[{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_str":"(function(){a['index2'] = 0; a['index'] = 0; a['q22'] = 0; a['q21'] = 0; a['q29'] = 0; a['movex'] = 0; a['q1'] = 0; a['dec_med'] = 0; a['index3'] = 0; a['rott'] = 0; a['is_beat'] = 0; a['q31'] = 0; a['q23'] = 0; a['k1'] = 0; a['q24'] = 0; a['dec_slow'] = 0; a['q10'] = 0; a['q4'] = 0; a['q26'] = 0; a['p2'] = 0; a['avg'] = 0; a['movez'] = 0; a['beat'] = 0; a['vol'] = 0; a['p1'] = 0; a['peak'] = 0; a['q2'] = 0; a['q27'] = 0; a['q3'] = 0; a['t0'] = 0; a['q28'] = 0; a['q30'] = 0; a['q20'] = 0;}())","frame_eqs_str":"(function(){a['dec_med']=pow(0.7, div(30,a['fps'])); a['dec_slow']=pow(0.96, div(30,a['fps'])); a['beat']=Math.max(Math.max(a['bass'], a['mid']), a['treb']); a['avg']=((a['avg']*a['dec_slow'])+(a['beat']*(1-a['dec_slow']))); a['is_beat']=(above(a['beat'], ((0.2+a['avg'])+a['peak']))*above(a['time'], (a['t0']+0.2))); a['t0']=((a['is_beat']*a['time'])+((1-a['is_beat'])*a['t0'])); a['peak']=((a['is_beat']*a['beat'])+(((1-a['is_beat'])*a['peak'])*a['dec_med'])); a['index']=mod((a['index']+a['is_beat']),8); a['index2']=mod((a['index2']+(a['is_beat']*bnot(a['index']))),4); a['index3']=mod((a['index3']+((a['is_beat']*bnot(a['index']))*bnot(a['index2']))),3); a['q20']=a['avg']; a['q21']=a['beat']; a['q22']=a['peak']; a['q23']=a['index']; a['q24']=a['is_beat']; a['q26']=((a['bass_att']+a['mid_att'])+a['treb_att']); a['q27']=(a['index']+1); a['q28']=a['index2']; a['k1']=(a['is_beat']*equal(mod(a['index'],2), 0)); a['p1']=((a['k1']*(a['p1']+1))+((1-a['k1'])*a['p1'])); a['p2']=((a['dec_med']*a['p2'])+((1-a['dec_med'])*a['p1'])); a['rott']=div((a['p2']*3.1416),2); a['q1']=Math.cos(a['rott']); a['q2']=Math.sin(a['rott']); a['q3']=-a['q2']; a['q4']=a['q1']; a['vol']=(((a['vol']*a['dec_slow'])+(a['q26']*(1-a['dec_slow'])))+(a['q24']*a['q1'])); a['q10']=(a['q27']*a['q28']); a['movex']=(a['movex']+div((0.03*30),a['fps'])); a['q29']=a['movex']; a['movez']=(a['movez']+div((0.07*30),a['fps'])); a['q30']=a['movez']; a['q31']=(6+(4*(1+Math.sin(div(a['time'],7))))); a['zoom']=1; a['dy']=0.00; a['dx']=0.0; a['warp']=0; a['rot']=0.0;}())","pixel_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"dec_med = pow (0.7, 30/fps);\ndec_slow = pow (0.96, 30/fps);\nbeat = max (max (bass, mid), treb); \navg = avg*dec_slow + beat*(1-dec_slow);\nis_beat = above(beat, .2+avg+peak) * above (time, t0+.2);\nt0 = is_beat*time + (1-is_beat)*t0;\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\nindex = (index + is_beat) %8;\nindex2 = (index2 + is_beat*bnot(index))%4;\nindex3 = (index3 + is_beat*bnot(index)*bnot(index2))%3;\n\nq20 = avg;\nq21 = beat;\nq22 = peak;\nq23 = index;\nq24 = is_beat;\nq26 = bass_att + mid_att + treb_att ;\nq27 = index + 1;\nq28 = index2;\n\n\nk1 =  is_beat*equal(index%2,0);\np1 =  k1*(p1+1) + (1-k1)*p1;\np2 = dec_med * p2+ (1-dec_med)*p1;\nrott = p2 * 3.1416/2;\n\nq1 = cos(rott);\nq2 = sin(rott);\nq3 = -q2;\nq4 = q1;\n\n\nvol = vol*dec_slow + q26 * (1-dec_slow) + q24*q1;\nq10 = q27*q28;;\n\n\nmovex = movex + .03*30/fps;\nq29 = movex;\nmovez = movez + .07*30/fps;\nq30 = movez;\n\nq31 = 6 + 4*(1+sin(time/7));\n\nzoom = 1;\ndy = .00;\ndx = .0;\nwarp = 0;\nrot = .0;","pixel_eqs_eel":"","warp":"//Shader by yonatan\n//https://x.com/zozuar/status/1625639986111315969\n//Ported to MilkDrop by MilkDrop2077\n\nshader_body {\n    vec2 n = 0;\n    vec2 N = 0;\n    vec2 q;\n    float a = 0;\n    float S = 1;\n    float j = 0;\n    float R;\n\n    while (j < 100.0) {\n        float k = 5.0 * j;\n        mat2 rot = { cos(k), -sin(k), sin(k), cos(k) };\n        n = (rot * n);\n        vec2 p = (uv - 0.5) * texsize.xy / texsize.y;\n        p = (rot * p);\n        R = length(p);\n        q.x = (log(R) * S - time) * 3.0;\n        q.y = atan(p.y, p.x);\n        q += n * 0.3 + q1 + q.y;\n        a += dot(cos(q + q2) / S, 1.0);\n        n += sin(q);\n        N += sin(q + q22) / S;\n        S /= 0.99;\n        j += 1.0;\n    }\n\n    float col = (.4 - a * 0.02) + 0.2 / length(N);\n    vec4 base = (col * sqrt(R)) * (2.0 + sin(vec4(2,3,4,4) + a * 0.1));\n    ret = base;\n}","comp":"shader_body\n{//MilkDrop3 Flip Mode:\nuv = 1-uv;\n\n ret = texture(sampler_main, uv).xyz;\n}","warp_hlsl":"//Shader by yonatan\n//https://x.com/zozuar/status/1625639986111315969\n//Ported to MilkDrop by MilkDrop2077\n\nshader_body {\n    float2 n = 0;\n    float2 N = 0;\n    float2 q;\n    float a = 0;\n    float S = 1;\n    float j = 0;\n    float R;\n\n    while (j < 100.0) {\n        float k = 5.0 * j;\n        float2x2 rot = { cos(k), -sin(k), sin(k), cos(k) };\n        n = mul(n, rot);\n        float2 p = (uv - 0.5) * texsize.xy / texsize.y;\n        p = mul(p, rot);\n        R = length(p);\n        q.x = (log(R) * S - time) * 3.0;\n        q.y = atan2(p.y, p.x);\n        q += n * 0.3 + q1 + q.y;\n        a += dot(cos(q + q2) / S, 1.0);\n        n += sin(q);\n        N += sin(q + q22) / S;\n        S /= 0.99;\n        j += 1.0;\n    }\n\n    float col = (.4 - a * 0.02) + 0.2 / length(N);\n    float4 base = (col * sqrt(R)) * (2.0 + sin(float4(2,3,4,4) + a * 0.1));\n    ret = base;\n}","comp_hlsl":"shader_body\n{//MilkDrop3 Flip Mode:\nuv = 1-uv;\n\n ret = GetPixel(uv);\n}"}