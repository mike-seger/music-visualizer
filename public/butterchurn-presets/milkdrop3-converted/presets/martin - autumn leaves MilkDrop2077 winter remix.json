{"version":1,"baseVals":{"rating":5,"gammaadj":1.88,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wave_mode":9,"darken":1,"warpanimspeed":1.459,"warpscale":2.007,"fshader":0.3,"zoom":0.9999,"warp":0.00909,"sx":0.9999,"wave_r":0,"wave_g":0,"wave_b":0,"wave_x":0,"wave_y":0,"ob_size":0.05,"ob_r":0.8,"ob_g":1,"ob_b":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"mv_a":0,"b1x":0.8,"b2x":0.7},"shapes":[{"baseVals":{"enabled":1,"sides":20,"additive":1,"thickoutline":1,"num_inst":444,"x":0.8,"rad":0.12821,"tex_zoom":5.42791,"r":0,"b":1,"a":0.2,"g2":0,"b2":0.5,"border_a":0},"init_eqs_str":"(function(){a['i'] = 0; a['k1'] = 0; a['zmax'] = 0; a['speed'] = 0; a['z'] = 0; a['out'] = 0; a['i']=0; for(var mdparser_idx395=0;mdparser_idx395<1024;mdparser_idx395++){a['z']=(randint(1)+0.1); a['megabuf'][Math.floor((a['i']+2))]=a['z']; a['megabuf'][Math.floor(a['i'])]=div((randint(1)-0.5),a['z']); a['megabuf'][Math.floor((a['i']+1))]=div((randint(1)-0.5),a['z']); a['i']+=3;}}());","frame_eqs_str":"(function(){a['i']=a['instance']; a['k1']=div(a['i'],a['num_inst']); a['zmax']=7; a['speed']=0.15; a['z']=a['megabuf'][Math.floor(((3*a['i'])+2))]; a['x']=(div(a['megabuf'][Math.floor((3*a['i']))],a['z'])+0.5); a['y']=((div(a['megabuf'][Math.floor(((3*a['i'])+1))],a['z'])*a['reg32'])+0.5); a['rad']=(div(0.022,(a['z']*a['zmax']))*a['reg32']); a['out']=((((((((((a['x']>1)?1:0)||((a['x']<0)?1:0))?1:0)||((a['y']>1)?1:0))?1:0)||((a['y']<0)?1:0))?1:0)||((a['z']<0)?1:0))?1:0); ((Math.abs(a['out'])>0.00001)?((function(){a['megabuf'][Math.floor((3*a['i']))]=(randint(2)-1); a['megabuf'][Math.floor(((3*a['i'])+1))]=(randint(2)-1); return a['megabuf'][Math.floor(((3*a['i'])+2))]=1;})()):(a['megabuf'][Math.floor(((a['i']*3)+2))]-=div(a['speed'],a['fps']))); a['a']=(1-pow(a['z'], 4)); a['a']*=0.6;}());","init_eqs_eel":"i=0;\nloop (1024,\n  z=rand(1)+.1;\n  megabuf(i+2) = z;\n  megabuf(i)  = (rand(1)-0.5)/z;\n  megabuf(i+1)= (rand(1)-.5)/z;\ni+=3;);","frame_eqs_eel":"i=instance;\nk1 = i/num_inst;\nzmax = 7;\nspeed=.15;\n\nz=megabuf(3*i+2);\nx = megabuf(3*i)/z+.5;\ny = megabuf(3*i+1)/z*reg32+0.5;\n\nrad = .022/(z*zmax)*reg32 ;\n\nout=(x>1)||(x<0)||(y>1)||(y<0)||(z<0);\nif (out,\n  megabuf(3*i)= (rand(2)-1); //x\n  megabuf(3*i+1)=(rand(2)-1); //y\n  megabuf(3*i+2)=1;\n,\n  megabuf(i*3+2)-=speed/fps;\n);\n\na=1-pow(z,4);\na*=0.6;"},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"samples":500,"thick":1,"scaling":0.63269},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"(function(){a['x']=a['sample']; a['y']=((a['value1']*0.25)+0.25); a['y']=(0.5-(0.25-a['y']));}());","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"    x=sample;\n    y=value1*.25 + .25;\n    y = .5 - (.25 - y);"},{"baseVals":{"enabled":1,"usedots":1,"thick":1},"init_eqs_str":"(function(){a['s'] = 0; a['xp'] = 0; a['yp'] = 0; a['zp'] = 0; a['t1'] = 0; a['x_screen'] = 0; a['y_screen'] = 0; a['advance'] = 0; }());","frame_eqs_str":"(function(){a['advance']=(a['advance']+0.005); a['advance']=((Math.abs(above(a['advance'], 2))>0.00001)?(0):(a['advance'])); a['t1']=a['advance'];}());","point_eqs_str":"(function(){a['s']=(a['sample']*6.28); a['xp']=(((Math.sin(a['s'])+Math.sin((a['s']*0.14)))+Math.sin((a['s']*32.3)))+Math.sin((a['s']*9.8))); a['xp']=(a['xp']*0.20); a['yp']=(((Math.cos(a['s'])+Math.sin((a['s']*0.24)))+Math.cos((a['s']*17.4)))+Math.sin((a['s']*37.7))); a['yp']=(a['yp']*0.20); a['zp']=(((Math.cos(a['s'])+Math.cos((a['s']*5.24)))+Math.cos((a['s']*47.4)))+Math.cos((a['s']*27.7))); a['zp']=(a['zp']*0.25); a['zp']=((a['zp']+1)-a['t1']); a['zp']=((Math.abs(below(a['zp'], 0))>0.00001)?((a['zp']+2)):(a['zp'])); a['a']=(1-(a['zp']*0.5)); a['zp']=(a['zp']*0.7); a['x_screen']=(div(a['xp'],a['zp'])+0.5); a['y_screen']=(div(a['yp'],a['zp'])+0.5); a['x']=a['x_screen']; a['y']=a['y_screen']; a['r']=1; a['g']=1; a['b']=1;}());","init_eqs_eel":"","frame_eqs_eel":"advance=advance+ 0.005;\nadvance=if( above(advance,2) , 0, advance);\nt1=advance","point_eqs_eel":"s=sample*6.28;\n\n//plot random x position via function of sample pos;\nxp=sin(s)+sin(s*0.14)+sin(s*32.3)+sin(s*9.8);\nxp=xp*0.20;\n\n//plot random y position via function of sample pos;\nyp=cos(s)+sin(s*0.24)+cos(s*17.4)+sin(s*37.7);\nyp=yp*0.20;\n\n//plot random z position via function of sample pos;\nzp=cos(s)+cos(s*5.24)+cos(s*47.4)+cos(s*27.7);\nzp=zp*0.25;\n\n//pull stars toward screen\nzp=zp + 1 - t1;\n\n//correct when below 0\nzp=if( below(zp,0) , zp+2 , zp );\n\n//darken far stars\na=(1 - zp*0.5);\n\nzp=zp*0.7;\n\nx_screen=xp/zp + 0.5;\ny_screen=yp/zp + 0.5;\n\nx=x_screen;\ny=y_screen;\n\nr=1;\ng=1;\nb=1;"},{"baseVals":{"enabled":1,"usedots":1,"thick":1},"init_eqs_str":"(function(){a['s'] = 0; a['xp'] = 0; a['yp'] = 0; a['zp'] = 0; a['t1'] = 0; a['x_screen'] = 0; a['y_screen'] = 0; a['advance'] = 0; }());","frame_eqs_str":"(function(){a['advance']=(a['advance']+0.003); a['advance']=((Math.abs(above(a['advance'], 2))>0.00001)?(0):(a['advance'])); a['t1']=a['advance'];}());","point_eqs_str":"(function(){a['s']=(a['sample']*6.28); a['xp']=(((Math.sin(a['s'])+Math.sin((a['s']*0.14)))+Math.sin((a['s']*32.3)))+Math.sin((a['s']*9.8))); a['xp']=(a['xp']*0.27); a['yp']=(((Math.cos(a['s'])+Math.sin((a['s']*0.24)))+Math.cos((a['s']*17.4)))+Math.sin((a['s']*37.7))); a['yp']=(a['yp']*0.23); a['zp']=(((Math.cos(a['s'])+Math.cos((a['s']*5.24)))+Math.cos((a['s']*47.4)))+Math.cos((a['s']*27.7))); a['zp']=(a['zp']*0.22); a['zp']=((a['zp']+1)-a['t1']); a['zp']=((Math.abs(below(a['zp'], 0))>0.00001)?((a['zp']+2)):(a['zp'])); a['a']=(1-(a['zp']*0.5)); a['zp']=(a['zp']*0.7); a['x_screen']=(div(a['xp'],a['zp'])+0.5); a['y_screen']=(div(a['yp'],a['zp'])+0.5); a['x']=a['x_screen']; a['y']=a['y_screen']; a['r']=1; a['g']=1; a['b']=1;}());","init_eqs_eel":"","frame_eqs_eel":"advance=advance+ 0.003;\nadvance=if( above(advance,2) , 0, advance);\nt1=advance","point_eqs_eel":"s=sample*6.28;\n\n//plot random x position via function of sample pos;\nxp=sin(s)+sin(s*0.14)+sin(s*32.3)+sin(s*9.8);\nxp=xp*0.27;\n\n//plot random y position via function of sample pos;\nyp=cos(s)+sin(s*0.24)+cos(s*17.4)+sin(s*37.7);\nyp=yp*0.23;\n\n//plot random z position via function of sample pos;\nzp=cos(s)+cos(s*5.24)+cos(s*47.4)+cos(s*27.7);\nzp=zp*0.22;\n\n//pull stars toward screen\nzp=zp + 1 - t1;\n\n//correct when below 0\nzp=if( below(zp,0) , zp+2 , zp );\n\n//darken far stars\na=(1 - zp*0.5);\n\nzp=zp*0.7;\n\nx_screen=xp/zp + 0.5;\ny_screen=yp/zp + 0.5;\n\nx=x_screen;\ny=y_screen;\n\nr=1;\ng=1;\nb=1;"},{"baseVals":{"enabled":1,"usedots":1,"thick":1},"init_eqs_str":"(function(){a['s'] = 0; a['xp'] = 0; a['yp'] = 0; a['zp'] = 0; a['t1'] = 0; a['x_screen'] = 0; a['y_screen'] = 0; a['advance'] = 0; }());","frame_eqs_str":"(function(){a['advance']=(a['advance']+0.005); a['advance']=((Math.abs(above(a['advance'], 2))>0.00001)?(0):(a['advance'])); a['t1']=a['advance'];}());","point_eqs_str":"(function(){a['s']=(a['sample']*6.28); a['xp']=(((Math.sin(a['s'])+Math.sin((a['s']*0.14)))+Math.sin((a['s']*32.3)))+Math.sin((a['s']*9.8))); a['xp']=(a['xp']*0.20); a['yp']=(((Math.cos(a['s'])+Math.sin((a['s']*0.24)))+Math.cos((a['s']*17.4)))+Math.sin((a['s']*37.7))); a['yp']=(a['yp']*0.20); a['zp']=(((Math.cos(a['s'])+Math.cos((a['s']*5.24)))+Math.cos((a['s']*47.4)))+Math.cos((a['s']*27.7))); a['zp']=(a['zp']*0.25); a['zp']=((a['zp']+1)-a['t1']); a['zp']=((Math.abs(below(a['zp'], 0))>0.00001)?((a['zp']+2)):(a['zp'])); a['a']=(1-(a['zp']*0.5)); a['zp']=(a['zp']*0.9); a['x_screen']=(div(a['xp'],a['zp'])+0.5); a['y_screen']=(div(a['yp'],a['zp'])+0.5); a['x']=a['x_screen']; a['y']=a['y_screen']; a['r']=1; a['g']=1; a['b']=1;}());","init_eqs_eel":"","frame_eqs_eel":"advance=advance+ 0.005;\nadvance=if( above(advance,2) , 0, advance);\nt1=advance","point_eqs_eel":"s=sample*6.28;\n\n//plot random x position via function of sample pos;\nxp=sin(s)+sin(s*0.14)+sin(s*32.3)+sin(s*9.8);\nxp=xp*0.20;\n\n//plot random y position via function of sample pos;\nyp=cos(s)+sin(s*0.24)+cos(s*17.4)+sin(s*37.7);\nyp=yp*0.20;\n\n//plot random z position via function of sample pos;\nzp=cos(s)+cos(s*5.24)+cos(s*47.4)+cos(s*27.7);\nzp=zp*0.25;\n\n//pull stars toward screen\nzp=zp + 1 - t1;\n\n//correct when below 0\nzp=if( below(zp,0) , zp+2 , zp );\n\n//darken far stars\na=(1 - zp*0.5);\n\nzp=zp*0.9;\n\nx_screen=xp/zp + 0.5;\ny_screen=yp/zp + 0.5;\n\nx=x_screen;\ny=y_screen;\n\nr=1;\ng=1;\nb=1;"}],"init_eqs_str":"(function(){a['r1b'] = 0; a['isb'] = 0; a['sw'] = 0; a['progress'] = 0; a['zo'] = 0; a['r3b'] = 0; a['ts'] = 0; a['zo_'] = 0; a['q12'] = 0; a['t1'] = 0; a['q22'] = 0; a['q21'] = 0; a['tr'] = 0; a['q6'] = 0; a['dt'] = 0; a['zo__'] = 0; a['p'] = 0; a['q1'] = 0; a['r1'] = 0; a['q5'] = 0; a['dec_s'] = 0; a['v'] = 0; a['r1c'] = 0; a['r3c'] = 0; a['bi'] = 0; a['r2a'] = 0; a['q10'] = 0; a['spd'] = 0; a['dec_m'] = 0; a['q4'] = 0; a['r2b'] = 0; a['r2'] = 0; a['s3'] = 0; a['tstart'] = 0; a['r3'] = 0; a['t2'] = 0; a['vol'] = 0; a['r2c'] = 0; a['q2'] = 0; a['r1a'] = 0; a['trest'] = 0; a['r3a'] = 0; a['q3'] = 0; a['s1'] = 0; a['t0'] = 0; a['vol_'] = 0; a['dec'] = 0; a['s2'] = 0; a['q7'] = 0; a['pk'] = 0; a['q20'] = 0; a['q8'] = 0; a['zo']=1; a['zo_']=0.6; a['zo__']=0.92; a['tstart']=a['time']; a['t1']=randint(6); a['t2']=randint(6);}());","frame_eqs_str":"(function(){a['dt']=div(1,a['fps']); a['dec_m']=(1-(2*a['dt'])); a['dec_s']=(1-(0.5*a['dt'])); a['vol']=div((((2*a['bass_att'])+a['mid_att'])+a['treb_att']),3); a['p']=a['progress']; a['trest']=((Math.abs(((Math.abs((a['p'])-(0))<0.00001)?1:0))>0.00001)?(100000):(div(((a['time']-a['tstart'])*(1-a['p'])),a['p']))); a['v']=Math.max(0, a['vol']); a['dec']=((Math.abs(((a['v']>a['vol_'])?1:0))>0.00001)?((1-(1*a['dt']))):((1-(0.25*a['dt'])))); a['vol_']=((a['vol_']*a['dec'])+((1-a['dec'])*a['v'])); a['spd']=div(((a['vol_']*a['dt'])*(0.5+a['zo__'])),4); a['isb']=(above(a['vol'], a['pk'])*((a['time']>(a['t0']+0.5))?1:0)); ((Math.abs(a['isb'])>0.00001)?((function(){a['t0']=a['time']; return a['pk']=(a['vol']*3);})()):(a['pk']*=a['dec_s'])); a['bi']+=a['isb']; a['sw']=((((a['isb']&&((randint(1)>0.7)?1:0))?1:0)&&(((a['time']-a['ts'])>8)?1:0))?1:0); ((Math.abs(a['sw'])>0.00001)?(a['ts']=a['time']):(0)); a['zo']=2; a['zo_']+=2; a['zo__']=2; ((Math.abs(((a['isb']&&((Math.abs((mod(a['bi'],2))-(0))<0.00001)?1:0))?1:0))>0.00001)?(a['r1']=(randint(2)-1)):(0)); ((Math.abs(((a['isb']&&((Math.abs((mod(a['bi'],3))-(0))<0.00001)?1:0))?1:0))>0.00001)?(a['r2']=(randint(2)-1)):(0)); ((Math.abs(((a['isb']&&((Math.abs((mod(a['bi'],5))-(2))<0.00001)?1:0))?1:0))>0.00001)?(a['r3']=(randint(12)-1)):(0)); a['r1a']+=((Math.atan((150*(a['r1']-a['r1a'])))*a['spd'])*0.01); a['r2a']+=((Math.atan((150*(a['r2']-a['r2a'])))*a['spd'])*0.01); a['r3a']+=((Math.atan((150*(a['r3']-a['r3a'])))*a['spd'])*0.01); a['r1b']=((a['r1b']*a['dec_m'])+((1-a['dec_m'])*a['r1a'])); a['r2b']=((a['r2b']*a['dec_m'])+((1-a['dec_m'])*a['r2a'])); a['r3b']=((a['r3b']*a['dec_m'])+((1-a['dec_m'])*a['r3a'])); a['r1c']=((a['r1c']*a['dec_m'])+((1-a['dec_m'])*a['r1b'])); a['r2c']=((a['r2c']*a['dec_m'])+((1-a['dec_m'])*a['r2b'])); a['r3c']=((a['r3c']*a['dec_m'])+((1-a['dec_m'])*a['r3b'])); a['s1']+=((1+a['r1c'])*a['spd']); a['s2']+=(a['r2c']*a['spd']); a['s3']+=((1+a['r2c'])*a['spd']); a['q1']=a['r1c']; a['q2']=a['r2c']; a['q3']=a['r3c']; a['q4']=((a['q1']-a['q2'])*0.2); a['q5']=a['s1']; a['q6']=a['s2']; a['q7']=(a['s3']*4); a['q8']=((a['s2']+a['s3'])*12); a['q10']=a['zo__']; a['q12']=0.2; a['tr']=((a['tr']*a['dec_m'])+div(((1-a['dec_m'])*a['trest']),5)); a['q20']=Math.max(0, Math.min(1, a['tr'])); a['t1']+=(a['spd']*0.12); a['t2']+=(a['spd']*0.07); a['q21']=(1.5+(0.3*Math.sin(a['t1']))); a['q22']=(1+(0.3*Math.sin(a['t2']))); a['monitor']=a['t1'];}());","pixel_eqs_str":"","init_eqs_eel":"zo=1; zo_=0.6; zo__=0.92; tstart=time;\nt1=rand(6); t2=rand(6);","frame_eqs_eel":"dt=1/fps; dec_m = 1-2*dt; dec_s = 1-0.5*dt; \nvol = (2*bass_att+mid_att+treb_att)/3;\n\np = progress;\ntrest = if (p==0,100000, (time-tstart)*(1-p)/p);\n\nv = max(0,vol);\ndec = if (v>vol_,1-1*dt,1-0.25*dt);\nvol_= vol_*dec+(1-dec)*v;\nspd = vol_*dt * (0.5+zo__)/4;\n\nisb = above(vol, pk) * (time>t0+.5);\nif (isb,t0=time; pk=vol*3,Pk*=dec_s);\nbi += isb;\n\nsw = isb&&(rand(1)>0.7)&&(time-ts>8);\nif (sw,ts=time,0);\nzo = 2;\nzo_ += 2;\nzo__ = 2;\n\n\nif (isb&&(bi%2==0),r1 = rand(2)-1,0);\nif (isb&&(bi%3==0),r2 = rand(2)-1,0);\nif (isb&&(bi%5==2),r3 = rand(12)-1,0);\n\nr1a += atan(150*(r1-r1a))*spd*.01;\nr2a += atan(150*(r2-r2a))*spd*.01;\nr3a += atan(150*(r3-r3a))*spd*.01;\n\nr1b = r1b*dec_m + (1-dec_m)*r1a;\nr2b = r2b*dec_m + (1-dec_m)*r2a;\nr3b = r3b*dec_m + (1-dec_m)*r3a;\nr1c = r1c*dec_m + (1-dec_m)*r1b;\nr2c = r2c*dec_m + (1-dec_m)*r2b;\nr3c = r3c*dec_m + (1-dec_m)*r3b;\n\ns1 += (1+r1c)*spd;\ns2 += (r2c)*spd;\ns3 += (1+r2c)*spd;\n\nq1=r1c;\nq2=r2c;\nq3=r3c;\nq4=(q1-q2)*0.2;\nq5=s1;\nq6=s2;\nq7=s3*4;\nq8=(s2+s3)*12;\nq10 = zo__;\n\nq12 = 0.2; //front-back light\ntr = tr*dec_m + (1-dec_m)*trest/5;\nq20 = max(0,min(1,tr)); //fade - does not work\n\n//colors\nt1 += spd*0.12;\nt2 += spd*0.07;\nq21 = 1.5 + 0.3*sin(t1);\nq22 = 1 + 0.3*sin(t2); \nmonitor = t1;","pixel_eqs_eel":"","warp":"#define sat saturate\nuniform sampler2D sampler_pw_noise_lq;\nfloat dr, smask, stripe, h, dist;\nvec2 uv1, uv2, uv3,uv4,uv5,uv6;\nvec3 lea, noise, ret1, struc, neu;\n\nfloat aTan2(float y, float x) {float angle;\t float abs_y = abs(y); float r; \nif (x>=0) {r=1-(x-abs_y) / (x+abs_y); } else {r=3-(x+abs_y) / (abs_y-x);}\t\nreturn (y < 0 ? -r : r)/4;}\n\nshader_body {\nvec2 uv1 = (uv-.5+0.2*q2)*aspect.xy;\nlea = 0;\nint anz = 16;\nfor (float n=anz; n>0; n--) {\n  dist = (3.5+q2)*0.33*n/anz;\n  uv4 = 256 * (dist* uv1)*q10;\n\n  float aa = (1.0+q3/2)*n/anz+q1*(1+uv1.x*0)/2 ;\n  uv4 = (mat2(cos(aa),-sin(aa),sin(aa),cos(aa)) * uv4);\n  stripe = (26-0.9*abs(floor(uv4.x)));;\n  uv4.y += stripe*2 + (16-stripe)*q6 - 8.0*n;\n\n  noise = texture (sampler_pw_noise_lq,uv4/256).xyz;\n  smask = sat (64*(noise.b-(0.98-(stripe/16)*0.1))); //0.1=dens.\n\n  aa =  (noise.g-0.5)*q8;\n  uv5 = (mat2(cos(aa),-sin(aa),sin(aa),cos(aa)) * fract(uv4)-0.5);\n\n  dr = (abs(sin(uv4.y*0.5 +2*q7*noise.r)));\n  uv5.x *= 1/dr;\n  struc = texture(sampler_noise_hq,0.5*aTan2(uv5.x,uv5.y+0.4)).xyz-0.5;\n  uv6 = uv5;\n  uv5 += struc*n*.25*(noise.r);\n  h = smask*sat (8-16*length(uv5));\n  neu = h*vec3 ((noise.rg+vec2(q21,q22))*(.16/abs(dr-struc.x)),0.9);\n  lea = mix (lea, neu, h);\n}\n//lea.rg *= 1-sat(texture(sampler_noise_lq,uv6*.1).r-.4)*h;\nret =lea;\n//ret =max (ret, (ret.b==0)*texture(sampler_main, (uv_orig-0.5)*2+0.4).xyz*0.6);\n\n//MilkDrop3 Sharpness Mode:\nret =mix(ret, texture(sampler_main,uv_orig).xyz, -0.7);\n}","comp":"shader_body\n{\n\nret =mix(((texture(sampler_blur2, uv).xyz * scale2) + bias2),texture(sampler_main, uv).xyz,0.44);\n\nret =(ret.y-ret.x*0.5)*mix(vec3(2.4,2.7,2.8),1,ret.x)*2.4;\nret*=1.2;\n}","warp_hlsl":"#define sat saturate\nsampler sampler_pw_noise_lq;\nfloat dr, smask, stripe, h, dist;\nfloat2 uv1, uv2, uv3,uv4,uv5,uv6;\nfloat3 lea, noise, ret1, struc, neu;\n\nfloat aTan2(float y, float x) {float angle;\t float abs_y = abs(y); float r; \nif (x>=0) {r=1-(x-abs_y) / (x+abs_y); } else {r=3-(x+abs_y) / (abs_y-x);}\t\nreturn (y < 0 ? -r : r)/4;}\n\nshader_body {\nfloat2 uv1 = (uv-.5+0.2*q2)*aspect.xy;\nlea = 0;\nint anz = 16;\nfor (float n=anz; n>0; n--) {\n  dist = (3.5+q2)*0.33*n/anz;\n  uv4 = 256 * (dist* uv1)*q10;\n\n  float aa = (1.0+q3/2)*n/anz+q1*(1+uv1.x*0)/2 ;\n  uv4 = mul(uv4,float2x2(cos(aa),-sin(aa),sin(aa),cos(aa)));\n  stripe = (26-0.9*abs(floor(uv4.x)));;\n  uv4.y += stripe*2 + (16-stripe)*q6 - 8.0*n;\n\n  noise = tex2D (sampler_pw_noise_lq,uv4/256);\n  smask = sat (64*(noise.b-(0.98-(stripe/16)*0.1))); //0.1=dens.\n\n  aa =  (noise.g-0.5)*q8;\n  uv5 = mul(frac(uv4)-0.5,float2x2(cos(aa),-sin(aa),sin(aa),cos(aa)));\n\n  dr = (abs(sin(uv4.y*0.5 +2*q7*noise.r)));\n  uv5.x *= 1/dr;\n  struc = tex2D(sampler_noise_hq,0.5*aTan2(uv5.x,uv5.y+0.4))-0.5;\n  uv6 = uv5;\n  uv5 += struc*n*.25*(noise.r);\n  h = smask*sat (8-16*length(uv5));\n  neu = h*float3 ((noise.rg+float2(q21,q22))*(.16/abs(dr-struc.x)),0.9);\n  lea = lerp (lea, neu, h);\n}\n//lea.rg *= 1-sat(tex2D(sampler_noise_lq,uv6*.1).r-.4)*h;\nret = lea;\n//ret = max (ret, (ret.b==0)*GetPixel((uv_orig-0.5)*2+0.4)*0.6);\n\n//MilkDrop3 Sharpness Mode:\nret = lerp(ret, tex2D(sampler_main,uv_orig), -0.7);\n}","comp_hlsl":"shader_body\n{\n\nret = lerp(GetBlur2(uv),GetPixel(uv),0.44);\n\nret = (ret.y-ret.x*0.5)*lerp(float3(2.4,2.7,2.8),1,ret.x)*2.4;\nret*=1.2;\n}"}