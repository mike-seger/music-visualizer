{"version":2,"baseVals":{"rating":2,"gammaadj":1.98,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wave_dots":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"darken":1,"wave_a":100,"wave_scale":26.025,"wave_smoothing":0.535,"wave_mystery":-1,"modwavealphastart":0.4,"modwavealphaend":0.94,"warpanimspeed":1.707,"warpscale":2.087,"zoomexp":1.09,"zoom":0.9499,"cx":0.46,"warp":0.0103,"sx":0.78992,"sy":1.01,"ob_size":0,"ob_b":0.97,"ob_a":0.297,"ib_size":0.25,"ib_r":0.248,"ib_g":0.192,"ib_b":0.205,"mv_x":11.4,"mv_l":1.5,"mv_r":0,"mv_g":0,"mv_b":0,"mv_a":0,"b1x":1.15,"b2x":0.79,"b3x":1.12,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"rad":0.40031,"tex_zoom":1.04,"r":0.5,"g":0.5,"r2":0.5,"g2":0,"border_g":1.04,"border_b":0.5,"border_a":0},"init_eqs_str":"(function(){a['sounds'] = 0; }());","frame_eqs_str":"(function(){a['sounds']=div(((a['bass']+a['treb'])+a['mid']),3); a['rad']=((a['rad']*a['sounds'])*0.6); a['r']=(a['r']+(Math.sin(a['bass'])*a['g'])); a['g']=(a['g']+(Math.sin(a['mid'])*a['g'])); a['x']=(a['x']+(0.207*Math.cos(((a['time']*a['bass'])*0.1)))); a['y']=(a['y']+(0.207*Math.sin(((a['time']*a['bass'])*0.1))));}());","init_eqs_eel":"","frame_eqs_eel":"sounds=(bass+treb+mid)/3;\n\nrad=rad*sounds*0.6;\n\nr=r+sin(bass)*g;\ng=g+sin(mid)*g;\n\n\nx=x+0.207*cos(time*bass*0.1);\ny=y+0.207*sin(time*bass*0.1);"},{"baseVals":{"enabled":1,"sides":100,"rad":0.14273,"a":1.06,"r2":1,"g2":1.07,"a2":0.3,"border_a":0},"init_eqs_str":"(function(){a['sounds'] = 0; }());","frame_eqs_str":"(function(){a['g2']=(a['g2']+(0.09*Math.sin(((a['treb']+a['mid'])*1.23)))); a['g']=(a['g']+(0.09*Math.cos(((a['bass']+a['mid'])*1.37)))); a['sounds']=div(((a['bass']+a['mid'])+a['treb']),3); a['rad']=div((a['rad']*(a['treb']+a['mid'])),3); a['x']=(a['x']+(0.300*Math.sin((a['time']*a['bass'])))); a['y']=(a['y']+(0.3328*Math.cos((a['time']*a['bass']))));}());","init_eqs_eel":"","frame_eqs_eel":"\ng2=g2+0.09*sin((treb+mid)*1.23);\ng=g+0.09*cos((bass+mid)*1.37);\n\nsounds=(bass+mid+treb)/3;\n\nrad=rad*(treb+mid)/3;\n\nx=x+0.300*sin(time*bass);\ny=y+0.3328*cos(time*bass);"},{"baseVals":{"enabled":1,"sides":100,"y":0.48,"rad":0.20047,"r":1.08,"g":1,"b":0.91,"r2":0.455,"g2":0.5,"b2":1,"border_b":0.5,"border_a":0},"init_eqs_str":"(function(){a['sounds'] = 0; a['att'] = 0; }());","frame_eqs_str":"(function(){a['sounds']=div(((a['bass']+a['treb'])+a['mid']),3); a['att']=div(((a['bass_att']+a['treb_att'])+a['mid_att']),3); a['att']=div(((a['bass_att']+a['treb_att'])+a['mid_att']),3); a['r2']=((a['r2']+(0.25*Math.sin((a['time']*6.28))))-a['bass']); a['g2']=((a['g2']+(0.265*Math.sin((a['time']*6.594))))-a['bass']); a['rad']=a['rad']; a['x']=((a['x']+(0.217*Math.cos((a['time']*2.3))))+(a['sounds']*0.1)); a['y']=(a['y']+(0.217*Math.sin(((a['time']*3.5)+(a['sounds']*0.3)))));}());","init_eqs_eel":"","frame_eqs_eel":"sounds=(bass+treb+mid)/3;\natt=(bass_att+treb_att+mid_att)/3;\natt=(bass_att+treb_att+mid_att)/3;\nr2=r2+(0.25*sin(time*6.28))-bass;\ng2=g2+(0.265*sin(time*6.594))-bass;\n\nrad=rad;\nx=x+0.217*cos(time*2.3)+sounds*0.1;\ny=y+0.217*sin((time*3.5)+(sounds*0.3));"},{"baseVals":{"a":0.99,"g2":1.06,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"sep":256,"scaling":20.35074,"enabled":0},"init_eqs_str":"","frame_eqs_str":"(function(){r=r+0.5*sin(treb*1.13);\ng=g+0.5*sin(bass*1.397);\nb=b+0.5*sin(mid*1.23);}());","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"(function(){r=r+0.5*sin(treb*1.13);\ng=g+0.5*sin(bass*1.397);\nb=b+0.5*sin(mid*1.23);}());","point_eqs_eel":""},{"baseVals":{"sep":256,"usedots":1,"scaling":100,"r":0.94,"g":1.04,"b":0.96,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"smoothing":0.475,"b":1.08,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"scaling":0.94,"a":1.01,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_str":"(function(){a['prox'] = 0; a['index2'] = 0; a['vtrig'] = 0; a['index'] = 0; a['q12'] = 0; a['t1'] = 0; a['q22'] = 0; a['q21'] = 0; a['q13'] = 0; a['q15'] = 0; a['q6'] = 0; a['rota1'] = 0; a['q1'] = 0; a['dec_med'] = 0; a['q5'] = 0; a['index3'] = 0; a['q9'] = 0; a['p1z'] = 0; a['is_beat'] = 0; a['q24'] = 0; a['vx'] = 0; a['dec_slow'] = 0; a['q11'] = 0; a['z0'] = 0; a['q10'] = 0; a['vy'] = 0; a['vz'] = 0; a['q4'] = 0; a['is_beat2'] = 0; a['q26'] = 0; a['vzs'] = 0; a['p2'] = 0; a['avg'] = 0; a['rota'] = 0; a['movez'] = 0; a['vys'] = 0; a['beat'] = 0; a['vol'] = 0; a['peak'] = 0; a['q2'] = 0; a['q27'] = 0; a['q3'] = 0; a['t0'] = 0; a['vxs'] = 0; a['q32'] = 0; a['q7'] = 0; a['q28'] = 0; a['q8'] = 0; a['prox']=1;}());","frame_eqs_str":"(function(){a['dec_med']=pow(0.36, div(30,a['fps'])); a['dec_slow']=pow(0.931, div(30,a['fps'])); a['beat']=Math.max(Math.max(a['bass'], a['mid']), a['treb']); a['avg']=((a['avg']*a['dec_slow'])+(a['beat']*(1-a['dec_slow']))); a['is_beat']=(above(a['beat'], ((-0.2+a['avg'])+a['peak']))*above(a['time'], (a['t0']+0.1))); a['t0']=((a['is_beat']*a['time'])+((1-a['is_beat'])*a['t0'])); a['peak']=((a['is_beat']*a['beat'])+(((1-a['is_beat'])*a['peak'])*a['dec_med'])); a['index']=mod((a['index']+a['is_beat']),32); a['index2']=mod((a['index2']+(a['is_beat']*bnot(a['index']))),4); a['index3']=mod(((a['index2']+a['index3'])+(a['is_beat']*bnot(a['index']))),4); a['is_beat2']=above(a['time'], (a['t1']+0.11)); a['t1']=((a['is_beat']*a['time'])+((1-a['is_beat'])*a['t1'])); a['q22']=a['peak']; a['q24']=a['is_beat']; a['q26']=((a['bass_att']+a['mid_att'])+a['treb_att']); a['vol']=((a['vol']*a['dec_med'])+((1-a['dec_med'])*a['q26'])); a['q27']=(a['index']+1.84); a['q28']=(a['index2']+1); a['p2']=((0.23*Math.sin(a['time']))+(0.23*Math.cos(div(a['time'],3)))); a['q1']=Math.cos(div((a['p2']*3.80134),4)); a['q2']=Math.sin(div((a['p2']*3.51859),4)); a['q3']=-a['q2']; a['q4']=a['q1']; a['vtrig']=(a['is_beat']*bnot(mod(a['index'],2))); a['vx']=((a['vx']*bnot(a['vtrig']))+(a['vtrig']*(div(rand(100),100)-0.61))); a['vy']=((a['vy']*bnot(a['vtrig']))+(a['vtrig']*(div(rand(100),100)-0.55))); a['vz']=((a['vz']*bnot(a['vtrig']))+(a['vtrig']*(div(rand(100),100)-0.54))); a['vx']=(a['vx']*below(mod(a['index'],32), 24)); a['vy']=(a['vy']*above(mod(a['index'],32), 16)); a['q5']=(a['vx']*5); a['q6']=(a['vy']*5); a['q21']=(div((1+Math.sin(a['time'])),4)+0.041); a['prox']=(a['prox']-((above(a['vy'], 0.28)*a['prox'])*2)); a['q32']=(0.58+(0.21*a['prox'])); a['monitor']=a['prox']; a['rota']=(a['rota']+(div((0.017*below(mod(a['index'],16), 8)),a['fps'])*30)); a['rota1']=((a['rota1']*a['dec_med'])+((1-a['dec_med'])*a['rota'])); a['q7']=a['rota1']; a['movez']=(a['movez']+div(div(0.84,((1+Math.abs(a['vx']))+Math.abs(a['vy']))),a['fps'])); a['q8']=(a['movez']*(1+div(a['q21'],400))); a['q15']=(-1+(8*above(a['index'], 26))); a['vxs']=((a['vxs']*a['dec_med'])+(((1-a['dec_med'])*a['vx'])*20)); a['vys']=((a['vys']*a['dec_med'])+(((1-a['dec_med'])*a['vy'])*20)); a['vzs']=((a['vzs']*a['dec_med'])+(((1-a['dec_med'])*a['vz'])*20)); a['z0']=(20+a['vzs']); a['p1z']=a['z0']; a['q9']=div(a['vxs'],a['p1z']); a['q10']=div(a['vys'],a['p1z']); a['q11']=a['p1z']; a['q12']=below(a['index'], 24); a['q13']=above(a['index'], 16);}());","pixel_eqs_str":"","init_eqs_eel":"prox = 1;","frame_eqs_eel":"dec_med = pow (0.36, 30/fps);\ndec_slow = pow (0.931, 30/fps);\n//dec_xlow = pow (1.039, 30/fps);\nbeat = max (max (bass, mid), treb); \navg = avg*dec_slow + beat*(1-dec_slow);\nis_beat = above(beat, -0.2+avg+peak) * above (time, t0+.1);\nt0 = is_beat*time + (1-is_beat)*t0;\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\nindex = (index + is_beat) %32;\nindex2 = (index2 + is_beat*bnot(index))%4;\nindex3 = (index2 +index3 + is_beat*bnot(index))%4;\n\nis_beat2 = above (time, t1+0.11);\nt1 = is_beat*time + (1-is_beat)*t1;\nq22 = peak;\nq24 = is_beat;\nq26 = bass_att + mid_att + treb_att;\nvol = vol*dec_med + (1-dec_med)*q26;\nq27 = index + 1.84;\nq28 = index2 +1;\n\np2 = 0.23*sin(time) + 0.23*cos(time/3);\n//*****tunnel tilting\nq1 = cos(p2 * 3.80134/4);\nq2 = sin(p2 * 3.51859/4);\nq3 = -q2;\nq4 = q1;\n\n//****tunnel viewpoint x,y\nvtrig = is_beat * bnot(index%2);\nvx = vx * bnot(vtrig) + vtrig * (rand(100)/100-0.61);\nvy = vy * bnot(vtrig) + vtrig * (rand(100)/100-0.55);\nvz = vz * bnot(vtrig) + vtrig * (rand(100)/100-0.54);\n\nvx = vx* below(index%32,24); //###\nvy = vy* above(index%32,16);\nq5 = vx*5;\nq6 = vy*5;\n\n//***tunnel width\nq21 = (1+sin(time))/4+0.041;\n\n//**floor proximity\nprox = prox - above(vy,0.28)*prox*2;\nq32 = 0.58 + 0.21*prox;\nmonitor = prox;\n\n//****tunnel rotation\nrota = rota +0.017*below(index%16,8)/fps*30;\nrota1 = rota1*dec_med + (1-dec_med)*rota;\nq7 = rota1;\n\n//****tunnel speed\nmovez = movez + 0.84/(1+abs(vx)+abs(vy))/fps;\nq8 = movez * (1+q21/400);\n//dyn. Aenderung von q21 bewirkt auch Richt.wechsel\n\nq15 = -1+8*above(index,26);\n//***********************\nvxs = vxs * dec_med + (1-dec_med)*vx*20;\nvys = vys * dec_med + (1-dec_med)*vy*20;\nvzs = vzs * dec_med + (1-dec_med)*vz*20;\n\nz0 = 20+vzs;\n\np1z = z0;\nq9 = vxs/(p1z); \nq10 = vys/(p1z); \nq11 = p1z;\n\nq12 = below (index,24);\nq13 = above (index,16);","pixel_eqs_eel":"","warp":"shader_body\n{ret=texture(sampler_main, uv).xyz;\nvec2 mo=uv-uv_orig;\nret=texture(sampler_main, uv_orig+mo*lum(ret)).xyz;\nret=ret*0.822-0.0023;\n}","comp":"uniform sampler2D sampler_pw_noise_lq;\n\nfloat k1, k2, mask1, mask2, mask3, rad1, rad2, rad3;\nvec2 rs, rss, rss0, rs0, uv2, uv3,uv4, rsk, uvo;\nvec2 dz1, dz2, dz3, Kugel1, Kugel2, Kugel3,tmp;\nvec3 noise, ret1, ret2, cathed, sky, fire;\n\nshader_body {\nuvo = uv*aspect.xy;\nuv = (mat2(_qa) * uv*aspect.xy);\nuv = uv + -.0- .2*vec2(q5,q6);\nvec2 uv1 = (uv-0.42 );//*aspect.xy;\n\n//Kugel1\nrsk = (uv1 + vec2 (q9,q10)) ;\ndz1 = normalize(rsk);\nrad1 = q11*length (rsk) ;\nuv4 =  tan(rad1)*dz1;\nmask1 = clamp(8-8*rad1, 0.0, 1.0);\nKugel1 = uv4*mask1*8/q11;\nuv1 += Kugel1*0.1;\n\n//Kugel2\nrsk = (sin(q27*atan(uv1.x,uv1.y)/2)) ;\ndz2 = normalize(rsk);\nrad2 = 1*length (rsk) ;\nuv4 =  tan(rad2)*dz2;\nmask2 = clamp(8-8*rad2, 0.0, 1.0);\nKugel2 = uv4*mask2;\n\n//Kugel3\nfloat argu = length(uv1+q5*uv1.y);\nrsk = (sin(0.1*(q27-8)/ argu));\n//rsk = (sin(0.54*q27*atan(uv1.x,uv1.y))) ;\ndz3 = normalize(rsk);\nrad3 = 1*length (rsk) ;\nuv4 =  tan(-rad3)*dz3;\nmask3 = clamp(8-8*rad3, 0.0, 1.0);\nKugel3 = uv4*mask3;\n\nvec2 dz = (Kugel1 + q12*Kugel2*length(uv1) + q13*Kugel3*argu);\n//******************** STARS\nrss0.x = atan(uv1.x, uv1.y)/3.26726;\nrss0.y = 0.12/(length (uv1));\n\nrss = vec2 (rss0.x,rss0.y+time/2)+dz;\nrss = (mat2(0.81,0.81,-0.81,0.81) * rss);\nfloat noise = (texture(sampler_pw_noise_lq,rss/32).xyz-.8 >= 0);\ntmp = abs(fract(rss*8)-0.6);\n\n//*************************\nuv1 -= dz*0.61;\nfloat z = 0.994/(length(uv1)+q21);\nuv2.y = z + q8;\nuv2.x = rss0.x +q7;\nuv3 =fract(uv2);\ncathed =  texture (sampler_main,uv3+0.38*dz).xyz*12;\n\nfloat mod = (q22+1)/2;\n\n//Deckenbeleuchtung:\nfire = clamp(0.043*q22/length (uv1)*\n (lum(texture (sampler_main,uv3+1.76).xyz)), 0.0, 1.0) ;\n\n//Tasaechl. Feuer; Problem: uv1 passt nicht zu uv3\nfire += clamp(0.02*q22/length (uv1)*\n (lum(texture (sampler_main,uv1+0.5).xyz)), 0.0, 1.0)/length(uv1);\n\nk1 = lum(fire);\nfire = k1*vec3(2,2.8,1)  ; //MilkDrop2077 color mod\n\nuvo+=dz;\nsky = clamp(0.021/length(uvo-0.26), 0.0, 1.0) * 1;\n\nvec3 dots = clamp(0.048/length(tmp), 0.0, 1.0) *noise;\ndots *= clamp(0.17/abs(rss0.y), 0.0, 1.0);\ndots = clamp(lum(dots)*lum(dots)*1, 0.0, 1.0);\nk1 = lum(dots);\ndots= k1*vec3(2.9,2.8,2.4) *2 ; //MilkDrop2077 color mod\nfloat cmask = clamp(1-16*lum(((texture(sampler_blur1, fract(uv3)).xyz * scale1) + bias1)), 0.0, 1.0);\nret += sky * cmask;\nret += fire+dots;\n\nret += sky*cathed/12;\nfloat dis = length(uv1);\nfloat crot = sin((dis+time)*2);\nvec3 blk = mod * vec3 (2.5,0.8,2.5)*bass; //MilkDrop2077 color mod\nblk *= (q12*(1/rad2+q15*mask2)+q13-(1/rad3+q15*mask3))/2222 ;\nblk += q22/rad1*roam_cos-mask1/4 ;\n//ret += blk;\n\n}","warp_hlsl":"shader_body\n{ret=GetPixel(uv);\nfloat2 mo=uv-uv_orig;\nret=GetPixel(uv_orig+mo*lum(ret));\nret=ret*0.822-0.0023;\n}","comp_hlsl":"sampler sampler_pw_noise_lq;\n\nfloat k1, k2, mask1, mask2, mask3, rad1, rad2, rad3;\nfloat2 rs, rss, rss0, rs0, uv2, uv3,uv4, rsk, uvo;\nfloat2 dz1, dz2, dz3, Kugel1, Kugel2, Kugel3,tmp;\nfloat3 noise, ret1, ret2, cathed, sky, fire;\n\nshader_body {\nuvo = uv*aspect.xy;\nuv = mul(uv*aspect.xy,float2x2(_qa));\nuv = uv + -.0- .2*float2(q5,q6);\nfloat2 uv1 = (uv-0.42 );//*aspect.xy;\n\n//Kugel1\nrsk = (uv1 + float2 (q9,q10)) ;\ndz1 = normalize(rsk);\nrad1 = q11*length (rsk) ;\nuv4 =  tan(rad1)*dz1;\nmask1 = saturate(8-8*rad1);\nKugel1 = uv4*mask1*8/q11;\nuv1 += Kugel1*0.1;\n\n//Kugel2\nrsk = (sin(q27*atan2(uv1.x,uv1.y)/2)) ;\ndz2 = normalize(rsk);\nrad2 = 1*length (rsk) ;\nuv4 =  tan(rad2)*dz2;\nmask2 = saturate(8-8*rad2);\nKugel2 = uv4*mask2;\n\n//Kugel3\nfloat argu = length(uv1+q5*uv1.y);\nrsk = (sin(0.1*(q27-8)/ argu));\n//rsk = (sin(0.54*q27*atan2(uv1.x,uv1.y))) ;\ndz3 = normalize(rsk);\nrad3 = 1*length (rsk) ;\nuv4 =  tan(-rad3)*dz3;\nmask3 = saturate(8-8*rad3);\nKugel3 = uv4*mask3;\n\nfloat2 dz = (Kugel1 + q12*Kugel2*length(uv1) + q13*Kugel3*argu);\n//******************** STARS\nrss0.x = atan2(uv1.x, uv1.y)/3.26726;\nrss0.y = 0.12/(length (uv1));\n\nrss = float2 (rss0.x,rss0.y+time/2)+dz;\nrss = mul(rss,float2x2(0.81,0.81,-0.81,0.81));\nfloat noise = (tex2D(sampler_pw_noise_lq,rss/32)-.8 >= 0);\ntmp = abs(frac(rss*8)-0.6);\n\n//*************************\nuv1 -= dz*0.61;\nfloat z = 0.994/(length(uv1)+q21);\nuv2.y = z + q8;\nuv2.x = rss0.x +q7;\nuv3 =frac(uv2);\ncathed =  tex2D (sampler_main,uv3+0.38*dz)*12;\n\nfloat mod = (q22+1)/2;\n\n//Deckenbeleuchtung:\nfire = saturate(0.043*q22/length (uv1)*\n (lum(tex2D (sampler_main,uv3+1.76)))) ;\n\n//Tasaechl. Feuer; Problem: uv1 passt nicht zu uv3\nfire += saturate(0.02*q22/length (uv1)*\n (lum(tex2D (sampler_main,uv1+0.5))))/length(uv1);\n\nk1 = lum(fire);\nfire = k1*float3(2,2.8,1)  ; //MilkDrop2077 color mod\n\nuvo+=dz;\nsky = saturate (0.021/length(uvo-0.26)) * 1;\n\nfloat3 dots = saturate(0.048/length(tmp)) *noise;\ndots *= saturate(0.17/abs(rss0.y));\ndots = saturate(lum(dots)*lum(dots)*1);\nk1 = lum(dots);\ndots= k1*float3(2.9,2.8,2.4) *2 ; //MilkDrop2077 color mod\nfloat cmask = saturate(1-16*lum(GetBlur1(frac(uv3))));\nret += sky * cmask;\nret += fire+dots;\n\nret += sky*cathed/12;\nfloat dis = length(uv1);\nfloat crot = sin((dis+time)*2);\nfloat3 blk = mod * float3 (2.5,0.8,2.5)*bass; //MilkDrop2077 color mod\nblk *= (q12*(1/rad2+q15*mask2)+q13-(1/rad3+q15*mask3))/2222 ;\nblk += q22/rad1*roam_cos-mask1/4 ;\n//ret += blk;\n\n}"}