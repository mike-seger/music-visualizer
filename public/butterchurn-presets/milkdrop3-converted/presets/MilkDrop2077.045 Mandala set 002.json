{"version":1,"baseVals":{"rating":3,"decay":0.9,"wave_dots":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"wave_a":100,"wave_scale":27.455,"wave_smoothing":0.5,"wave_mystery":-1,"modwavealphastart":0.4,"modwavealphaend":1,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"ob_size":0.015,"ob_b":1,"ib_size":0.26,"mv_y":8.64,"mv_l":1.455,"mv_r":0,"mv_g":0,"mv_b":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"thickoutline":1,"x":0.455,"rad":0.49203,"r":0.5,"g":0.5,"r2":0.57,"g2":0,"border_b":0.5,"border_a":0},"init_eqs_str":"(function(){a['sounds'] = 0; }());","frame_eqs_str":"(function(){a['sounds']=div(((a['bass']+a['treb'])+a['mid']),3); a['rad']=((a['rad']*a['sounds'])*0.6); a['r']=(a['r']+(Math.sin(a['bass'])*a['g'])); a['g']=(a['g']+(Math.sin(a['mid'])*a['g'])); a['x']=(a['x']+(0.207*Math.cos(((a['time']*a['bass'])*0.1)))); a['y']=(a['y']+(0.2029*Math.sin(((a['time']*a['bass'])*0.09))));}());","init_eqs_eel":"","frame_eqs_eel":"sounds=(bass+treb+mid)/3;\n\nrad=rad*sounds*0.6;\n\nr=r+sin(bass)*g;\ng=g+sin(mid)*g;\n\n\nx=x+0.207*cos(time*bass*0.1);\ny=y+0.2029*sin(time*bass*0.09);"},{"baseVals":{"enabled":1,"sides":100,"rad":0.13465,"tex_zoom":0.91,"r2":1,"a2":0.318,"border_a":0},"init_eqs_str":"(function(){a['sounds'] = 0; }());","frame_eqs_str":"(function(){a['g2']=(a['g2']+(0.09*Math.sin(((a['treb']+a['mid'])*1.23)))); a['g']=(a['g']+(0.09*Math.cos(((a['bass']+a['mid'])*1.37)))); a['sounds']=div(((a['bass']+a['mid'])+a['treb']),3); a['rad']=div((a['rad']*(a['treb']+a['mid'])),3); a['x']=(a['x']+(0.300*Math.sin((a['time']*a['bass'])))); a['y']=(a['y']+(0.317*Math.cos((a['time']*a['bass']))));}());","init_eqs_eel":"","frame_eqs_eel":"\ng2=g2+0.09*sin((treb+mid)*1.23);\ng=g+0.09*cos((bass+mid)*1.37);\n\nsounds=(bass+mid+treb)/3;\n\nrad=rad*(treb+mid)/3;\n\nx=x+0.300*sin(time*bass);\ny=y+0.317*cos(time*bass);"},{"baseVals":{"enabled":1,"sides":100,"rad":0.20047,"g":1,"b":1,"a":0.19,"r2":0.5,"g2":0.445,"b2":0.94,"border_b":0.5,"border_a":0},"init_eqs_str":"(function(){a['sounds'] = 0; a['att'] = 0; }());","frame_eqs_str":"(function(){a['sounds']=((a['bass']+a['treb'])+a['mid']); a['att']=div(((a['bass_att']+a['treb_att'])+a['mid_att']),13); a['att']=div(((a['bass_att']+a['treb_att'])+a['mid_att']),13); a['r2']=((a['r2']+(0.25*Math.sin((a['time']*16.28))))-a['bass']); a['g2']=((a['g2']+(1.25*Math.sin((a['time']*16.28))))-a['bass']); a['rad']=0.4;}());","init_eqs_eel":"","frame_eqs_eel":"sounds=(bass+treb+mid);\natt=(bass_att+treb_att+mid_att)/13;\natt=(bass_att+treb_att+mid_att)/13;\nr2=r2+(0.25*sin(time*16.28))-bass;\ng2=g2+(1.25*sin(time*16.28))-bass;\n\nrad=0.4;\n//x=x+0.243*tan(time/2)+sounds*0.09;\n//y=y+0.217*sin((time/1.5)+(sounds*0.3));"},{"baseVals":{"enabled":1,"sides":100,"thickoutline":1,"num_inst":321,"x":0.475,"rad":0.22388,"tex_ang":6.28319,"tex_zoom":2.98779,"a":0.66,"b2":1,"a2":1,"border_g":0.46,"border_a":0.45},"init_eqs_str":"(function(){a['sounds'] = 0; }());","frame_eqs_str":"(function(){a['sounds']=div(((a['bass']+a['treb'])+a['mid']),3); a['rad']=((a['rad']*a['sounds'])*0.3); a['r']=(a['r']+(Math.sin(a['bass'])*a['bass'])); a['g']=(a['g']+(Math.tan(a['mid'])*a['bass'])); a['x']=(a['x']+(0.407*Math.tan(((a['time']*a['bass'])*0.1)))); a['y']=(a['y']+(0.4029*Math.sin(((a['time']*a['bass'])*0.09))));}());","init_eqs_eel":"","frame_eqs_eel":"sounds=(bass+treb+mid)/3;\n\nrad=rad*sounds*.3;\n\nr=r+sin(bass)*bass;\ng=g+tan(mid)*bass;\n\n\nx=x+0.407*tan(time*bass*0.1);\ny=y+0.4029*sin(time*bass*0.09);"}],"waves":[{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_str":"(function(){a['index2'] = 0; a['index'] = 0; a['q12'] = 0; a['q22'] = 0; a['q21'] = 0; a['q13'] = 0; a['q6'] = 0; a['q1'] = 0; a['dec_med'] = 0; a['q5'] = 0; a['movz'] = 0; a['trel'] = 0; a['q9'] = 0; a['rott'] = 0; a['vol__'] = 0; a['is_beat'] = 0; a['q23'] = 0; a['k1'] = 0; a['q24'] = 0; a['trel_'] = 0; a['vx'] = 0; a['dec_slow'] = 0; a['q11'] = 0; a['q10'] = 0; a['vy'] = 0; a['q4'] = 0; a['dir'] = 0; a['dir_'] = 0; a['p2'] = 0; a['avg'] = 0; a['trig'] = 0; a['beat'] = 0; a['vol'] = 0; a['p1'] = 0; a['peak'] = 0; a['dec_fast'] = 0; a['q2'] = 0; a['q27'] = 0; a['q3'] = 0; a['t0'] = 0; a['vol_'] = 0; a['q7'] = 0; a['q28'] = 0; a['q20'] = 0; a['q8'] = 0; a['step']=0;}());","frame_eqs_str":"(function(){a['dec_med']=pow(0.9, div(30,a['fps'])); a['dec_slow']=pow(0.96, div(30,a['fps'])); a['dec_fast']=pow(0.6, div(30,a['fps'])); a['beat']=Math.max(Math.max(a['bass'], a['mid']), a['treb']); a['avg']=((a['avg']*a['dec_slow'])+(a['beat']*(1-a['dec_slow']))); a['is_beat']=(above(a['beat'], ((0+a['avg'])+a['peak']))*above(a['time'], (a['t0']+0.1))); a['t0']=((a['is_beat']*a['time'])+((1-a['is_beat'])*a['t0'])); a['peak']=((a['is_beat']*a['beat'])+(((1-a['is_beat'])*a['peak'])*a['dec_med'])); a['index']=mod((a['index']+a['is_beat']),16); a['index2']=mod((a['index2']+(a['is_beat']*bnot(a['index']))),8); a['q20']=a['avg']; a['q21']=a['beat']; a['q22']=a['peak']; a['q24']=a['is_beat']; a['vol']=((a['bass_att']+a['mid_att'])+a['treb_att']); a['vol_']=((a['dec_med']*a['vol_'])+((1-a['dec_med'])*a['vol'])); a['vol__']=((a['dec_med']*a['vol__'])+((1-a['dec_med'])*a['vol_'])); a['q27']=(a['index']+1); a['q28']=(a['index2']+1); a['q23']=(a['q22']-div(0.1,a['q22'])); a['q23']=Math.max(a['q23'], 1); a['k1']=(a['is_beat']*equal(mod(a['index'],8), 0)); a['p1']=((a['k1']*(a['p1']+1))+((1-a['k1'])*a['p1'])); a['p2']=((a['dec_fast']*a['p2'])+((1-a['dec_fast'])*a['p1'])); a['rott']=div((a['p2']*3.1416),4); a['q1']=Math.cos(a['rott']); a['q2']=Math.sin(a['rott']); a['q3']=-a['q2']; a['q4']=a['q1']; a['trig']=(a['q24']*bnot(mod(a['index'],2))); a['vx']=((a['vx']*bnot(a['trig']))+(a['trig']*(div(Math.floor(randint(100)),100)-0.5))); a['vy']=((a['vy']*bnot(a['trig']))+(a['trig']*(div(Math.floor(randint(100)),100)-0.5))); a['q10']=(0.2+((a['vy']*a['vy'])*2)); a['q11']=(div(Math.sin(div(a['time'],9)),2)+0.4); a['movz']=(a['movz']-(div(1,a['fps'])*(0.3+a['vx']))); a['q9']=a['movz']; a['q12']=(Math.min(a['q22'], 6)*2); a['q13']=Math.min(2, (1+Math.abs(((8*a['vy'])*a['vx'])))); a['dir_']=(a['bass']-1); a['trig']=(bnot(mod(a['index'],4))*a['q24']); a['dir']=((bnot(a['trig'])*a['dir'])+(a['trig']*(Math.floor(randint(10))-5))); a['trel']=(a['trel']+(div(0.1,a['fps'])*a['dir'])); a['trel_']=((a['dec_med']*a['trel_'])+((1-a['dec_med'])*a['trel'])); a['q5']=Math.cos(a['trel_']); a['q6']=Math.sin((a['trel_']+((0*a['q27'])*mod(a['q28'],2)))); a['q7']=-a['q6']; a['q8']=a['q5']; a['zoom']=1.02; a['rot']=(0.5*Math.sin((bnot(mod(a['q28'],2))*a['q28']))); a['rot']=(0.0*Math.sin(div(a['time'],3))); a['dx']=0.0; a['monitor']=a['q11'];}());","pixel_eqs_str":"","init_eqs_eel":"step = 0;","frame_eqs_eel":"dec_med = pow (0.9, 30/fps);\ndec_slow = pow (0.96, 30/fps);\ndec_fast = pow (0.6, 30/fps);\nbeat = max (max (bass, mid), treb); \navg = avg*dec_slow + beat*(1-dec_slow);\nis_beat = above(beat, 0+avg+peak) * above (time, t0+.1);\nt0 = is_beat*time + (1-is_beat)*t0;\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\nindex = (index + is_beat) %16;\nindex2 = (index2 + is_beat*bnot(index))%8;\n\nq20 = avg;\nq21 = beat;\nq22 = peak;\nq24 = is_beat;\nvol = bass_att + mid_att + treb_att;\nvol_ = dec_med * vol_ + (1-dec_med)* vol;\nvol__ = dec_med * vol__ + (1-dec_med)* vol_;\nq27 = index + 1;\nq28 = index2 + 1;\nq23 = q22 -0.1/q22;\nq23 = max(q23,1);\n\nk1 =  is_beat*equal(index%8,0);\np1 =  k1*(p1+1) + (1-k1)*p1;\np2 = dec_fast * p2+ (1-dec_fast)*p1;\nrott = p2 * 3.1416/4;\n\nq1 = cos(rott);\nq2 = sin(rott);\nq3 = -q2;\nq4 = q1;\n\ntrig = q24 * bnot(index%2);\nvx = vx*bnot(trig) + trig* (int(rand(100))/100-.5);\nvy = vy*bnot(trig) + trig* (int(rand(100))/100-.5);\nq10 = 0.2+vy*vy*2;\nq11 = sin(time/9)/2+.4;\nmovz = movz-1/fps*(.3+vx);\nq9 = movz;\n\nq12 = min(q22,6)*2;\nq13 = min(2,1+abs(8*vy*vx));\n//dir_ = dec_med*dir_ + (1-dec_med)*(index2%2-.5);\ndir_ =  bass-1;\n\ntrig = bnot(index%4) * q24;\ndir = bnot(trig)*dir + trig*(int(rand(10))-5);\n\ntrel = trel + .1/fps*dir;\ntrel_ = dec_med*trel_ + (1-dec_med)*trel;\n\nq5 = cos(trel_);\nq6 = sin(trel_+0*q27*(q28%2));\nq7 = -q6;\nq8 = q5;\n\nzoom = 1.02;\nrot = .5*sin(bnot(q28%2)*q28) ;\nrot = .0*sin(time/3);\ndx = .0;\n\nmonitor = q11;","pixel_eqs_eel":"","warp":"float sigmoid(float t, float c){\n   return 1 / ( 1 + exp(t*c));\n}\n\nvec2 vortex(vec2 domain, vec2 position, vec2 motionVector, vec4 domainAspect, float radius, float sharpness, float spin, float zoom){\n   domain -= position;\n   domain *= domainAspect.xy;\n   float sigmoidFilter = sigmoid( length(domain) - radius , sharpness );\n   domain +=  + motionVector*sigmoidFilter;\n   spin *= sigmoidFilter;\n   float s = sin(spin);\n   float c = cos(spin);\n   vec2 uv_rot;\n   uv_rot.x = c*domain.x - s*domain.y;\n   uv_rot.y = s*domain.x + c*domain.y;\n   uv_rot *= domainAspect.zw;\n   uv_rot += position;\n   return clamp(position + (uv_rot-position)*mix(1,zoom,sigmoidFilter), 0.0, 1.0);\n}\n\nshader_body\n{\n\n\nvec2 domain = uv;\nvec2 position = vec2(q4,1-q8) + 0.49*0;\nvec2 motionVector = vec2(-q15,q16)*q13*aspect.wz;\nvec4 domainAspect = aspect;\nfloat radius = 0.07;\nfloat sharpness = 50;\nfloat spin = 1;\nfloat zoom = 4;\n\nvec2 uv_vortex = vortex( domain, position, motionVector, domainAspect, radius, sharpness, spin, zoom);\n\nuv = uv_vortex + texsize.zw*vec2(0,0.15);\nuv = mix( uv_orig,uv,0.2);\n\n    vec2 scale = vec2(1280,1024)*texsize.zw; // 1280x1024 : the resolution i modelled this shader with\n    float d = 0.0039;\n    float dx = ( ((texture(sampler_blur2, uv + vec2(d,0)).xyz * scale2) + bias2) - ((texture(sampler_blur2, uv-vec2(d,0)).xyz * scale2) + bias2) ).x*scale.x;\n    float dy = ( ((texture(sampler_blur2, uv + vec2(0,d)).xyz * scale2) + bias2) - ((texture(sampler_blur2, uv-vec2(0,d)).xyz * scale2) + bias2) ).x*scale.y;\n    float dxb = ( ((texture(sampler_blur2, uv + vec2(d,0)).xyz * scale2) + bias2) - ((texture(sampler_blur2, uv-vec2(d,0)).xyz * scale2) + bias2) ).x*scale.x;\n    float dyb = ( ((texture(sampler_blur2, uv + vec2(0,d)).xyz * scale2) + bias2) - ((texture(sampler_blur2, uv-vec2(0,d)).xyz * scale2) + bias2) ).x*scale.y;\n    vec2 my_uv = uv - vec2(dx,dy)*0.0068 + vec2(dxb,dyb)*0.0031;\n\n\n\n    vec2 v = vec2(0.008);\n    ret.x = texture( sampler_fw_main, my_uv).x;\n\n    \n    ret.x += (ret.x - ((texture(sampler_blur3, uv).xyz * scale3) + bias3).x)*0.11;\n    ret.x += 0.0041;\n\n\n//--------------------------------\n\n    my_uv = uv_orig + vec2(dy,-dx)*0.058*(1.01-((texture(sampler_blur3, uv_orig).xyz * scale3) + bias3).y);\n\n\n\n    v = 0.009;\n    ret.z = texture( sampler_fw_main, my_uv).z;\n    \n    ret.z += (ret.z - ((texture(sampler_blur1, uv_orig).xyz * scale1) + bias1).z)*length(my_uv-uv_orig)*180/length(scale);\n    ret.z *= 0.646;\n    ret.z += 0.0076;\n\n\n\n//--------------------------------\n\n    d = 0.009;\n    my_uv = vec2(-dy,dx)*0.0355;\n\n    dx = ( ((texture(sampler_blur2, uv + vec2(d,0)).xyz * scale2) + bias2) - ((texture(sampler_blur2, uv-vec2(d,0)).xyz * scale2) + bias2) ).y*scale.x;\n    dy = ( ((texture(sampler_blur2, uv + vec2(0,d)).xyz * scale2) + bias2) - ((texture(sampler_blur2, uv-vec2(0,d)).xyz * scale2) + bias2) ).y*scale.y;\n    my_uv += uv - vec2(dx,dy)*0.025;\n\n\n\n    v = 0.012;\n    ret.y =texture( sampler_fw_main, my_uv).y;\n\n    \n    ret.y += (ret.y - ((texture(sampler_blur3, my_uv).xyz * scale3) + bias3).y)*.11 + 0.034;\n}","comp":"shader_body\n{\nret =mix(((texture(sampler_blur2, uv).xyz * scale2) + bias2),texture(sampler_main, uv).xyz,0.4);\n\nret =(ret.y-ret.x*0.5)*mix(vec3(rad*3,1.9,1),1,ret.x)*1.4;\n//MilkDrop3 Color Mode:\nret /= vec3(2.9,2.6,1.5);\n//MilkDrop3 Burn Mode:\nret =mix(ret,2,texture(sampler_main, uv).xyz.z*1.36);\n}","warp_hlsl":"float sigmoid(float t, float c){\n   return 1 / ( 1 + exp(t*c));\n}\n\nfloat2 vortex(float2 domain, float2 position, float2 motionVector, float4 domainAspect, float radius, float sharpness, float spin, float zoom){\n   domain -= position;\n   domain *= domainAspect.xy;\n   float sigmoidFilter = sigmoid( length(domain) - radius , sharpness );\n   domain +=  + motionVector*sigmoidFilter;\n   spin *= sigmoidFilter;\n   float s = sin(spin);\n   float c = cos(spin);\n   float2 uv_rot;\n   uv_rot.x = c*domain.x - s*domain.y;\n   uv_rot.y = s*domain.x + c*domain.y;\n   uv_rot *= domainAspect.zw;\n   uv_rot += position;\n   return saturate(position + (uv_rot-position)*lerp(1,zoom,sigmoidFilter));\n}\n\nshader_body\n{\n\n\nfloat2 domain = uv;\nfloat2 position = float2(q4,1-q8) + 0.49*0;\nfloat2 motionVector = float2(-q15,q16)*q13*aspect.wz;\nfloat4 domainAspect = aspect;\nfloat radius = 0.07;\nfloat sharpness = 50;\nfloat spin = 1;\nfloat zoom = 4;\n\nfloat2 uv_vortex = vortex( domain, position, motionVector, domainAspect, radius, sharpness, spin, zoom);\n\nuv = uv_vortex + texsize.zw*float2(0,0.15);\nuv = lerp( uv_orig,uv,0.2);\n\n    float2 scale = float2(1280,1024)*texsize.zw; // 1280x1024 : the resolution i modelled this shader with\n    float1 d = 0.0039;\n    float1 dx = ( GetBlur2(uv + float2(d,0)) - GetBlur2(uv-float2(d,0)) ).x*scale.x;\n    float1 dy = ( GetBlur2(uv + float2(0,d)) - GetBlur2(uv-float2(0,d)) ).x*scale.y;\n    float1 dxb = ( GetBlur2(uv + float2(d,0)) - GetBlur2(uv-float2(d,0)) ).x*scale.x;\n    float1 dyb = ( GetBlur2(uv + float2(0,d)) - GetBlur2(uv-float2(0,d)) ).x*scale.y;\n    float2 my_uv = uv - float2(dx,dy)*0.0068 + float2(dxb,dyb)*0.0031;\n\n\n\n    float2 v = 0.008;\n    ret.x = tex2D( sampler_fw_main, my_uv).x;\n\n    \n    ret.x += (ret.x - GetBlur3(uv).x)*0.11;\n    ret.x += 0.0041;\n\n\n//--------------------------------\n\n    my_uv = uv_orig + float2(dy,-dx)*0.058*(1.01-GetBlur3(uv_orig).y);\n\n\n\n    v = 0.009;\n    ret.z = tex2D( sampler_fw_main, my_uv).z;\n    \n    ret.z += (ret.z - GetBlur1(uv_orig).z)*length(my_uv-uv_orig)*180/length(scale);\n    ret.z *= 0.646;\n    ret.z += 0.0076;\n\n\n\n//--------------------------------\n\n    d = 0.009;\n    my_uv = float2(-dy,dx)*0.0355;\n\n    dx = ( GetBlur2(uv + float2(d,0)) - GetBlur2(uv-float2(d,0)) ).y*scale.x;\n    dy = ( GetBlur2(uv + float2(0,d)) - GetBlur2(uv-float2(0,d)) ).y*scale.y;\n    my_uv += uv - float2(dx,dy)*0.025;\n\n\n\n    v = 0.012;\n    ret.y =tex2D( sampler_fw_main, my_uv).y;\n\n    \n    ret.y += (ret.y - GetBlur3(my_uv).y)*.11 + 0.034;\n}","comp_hlsl":"shader_body\n{\nret = lerp(GetBlur2(uv),GetPixel(uv),0.4);\n\nret = (ret.y-ret.x*0.5)*lerp(float3(rad*3,1.9,1),1,ret.x)*1.4;\n//MilkDrop3 Color Mode:\nret /= float3(2.9,2.6,1.5);\n//MilkDrop3 Burn Mode:\nret = lerp(ret,2,GetPixel(uv).z*1.36);\n}"}