{"version":2,"baseVals":{"rating":5,"gammaadj":1.07,"decay":0.955,"echo_zoom":100,"echo_alpha":0.65,"wave_mode":3,"additivewave":1,"wave_thick":1,"wrap":0,"darken":1,"wave_a":0.001,"wave_scale":0.625,"wave_smoothing":0.9,"modwavealphastart":0.88,"modwavealphaend":1.98,"warpscale":1.331,"zoom":1.00496,"warp":0.00016,"sx":0.99967,"sy":0.9999,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0.011,"ib_g":0.228,"mv_x":64,"mv_y":48,"mv_l":1,"mv_r":1.06,"mv_b":0.819,"mv_a":0},"shapes":[{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"samples":332,"sep":256,"usedots":1,"additive":1,"scaling":100,"smoothing":0.9,"r":0,"g":0.7,"b":0.98},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"(function(){a['x']=(rand(100)*0.01); a['y']=(rand(100)*0.01); a['r']=1; a['g']=0.9; a['b']=1.0;}());","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"x=rand(100)*0.01;\ny=rand(100)*0.01;\nr=1;g=0.9;b=1.0"},{"baseVals":{"enabled":1,"samples":42,"usedots":1,"thick":1,"additive":1,"scaling":81.95444,"smoothing":1,"b":1.12},"init_eqs_str":"(function(){a['wave_x'] = 0; }());","frame_eqs_str":"(function(){a['wave_x']=1;}());","point_eqs_str":"(function(){a['x']=(rand(1000)*0.001); a['y']=(rand(1000)*0.001); a['r']=0.9; a['g']=1; a['b']=1;}());","init_eqs_eel":"","frame_eqs_eel":"wave_x=1;","point_eqs_eel":"x=rand(1000)*0.001;\ny=rand(1000)*0.001;\nr=0.9;g=1;b=1"},{"baseVals":{"g":1.03,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_str":"(function(){a['trel3'] = 0; a['index2'] = 0; a['q25'] = 0; a['index'] = 0; a['q12'] = 0; a['q18'] = 0; a['q22'] = 0; a['q21'] = 0; a['q13'] = 0; a['q15'] = 0; a['q29'] = 0; a['q6'] = 0; a['movex'] = 0; a['q1'] = 0; a['dec_med'] = 0; a['q5'] = 0; a['q9'] = 0; a['rott'] = 0; a['is_beat'] = 0; a['q23'] = 0; a['k1'] = 0; a['q24'] = 0; a['dec_slow'] = 0; a['q11'] = 0; a['q4'] = 0; a['q16'] = 0; a['q26'] = 0; a['trot'] = 0; a['p2'] = 0; a['mov'] = 0; a['avg'] = 0; a['movez'] = 0; a['trel4'] = 0; a['q19'] = 0; a['beat'] = 0; a['q17'] = 0; a['trel2'] = 0; a['p1'] = 0; a['peak'] = 0; a['q2'] = 0; a['q27'] = 0; a['q14'] = 0; a['movey'] = 0; a['trel1'] = 0; a['q3'] = 0; a['t0'] = 0; a['q7'] = 0; a['q28'] = 0; a['q30'] = 0; a['q20'] = 0; a['q8'] = 0; a['dirx']=1;}());","frame_eqs_str":"(function(){a['dec_med']=pow(0.69, div(30,a['fps'])); a['dec_slow']=pow(0.9, div(30,a['fps'])); a['beat']=Math.max(Math.max(a['bass'], a['mid']), a['treb']); a['avg']=((a['avg']*a['dec_slow'])+(a['beat']*(1-a['dec_slow']))); a['is_beat']=(above(a['beat'], (a['avg']+a['peak']))*above(a['time'], (a['t0']+0.1))); a['t0']=((a['is_beat']*a['time'])+((1-a['is_beat'])*a['t0'])); a['peak']=((a['is_beat']*a['beat'])+(((1-a['is_beat'])*a['peak'])*a['dec_med'])); a['index']=mod((a['index']+a['is_beat']),16); a['index2']=mod((a['index2']+(a['is_beat']*bnot(a['index']))),4); a['q20']=a['avg']; a['q21']=a['beat']; a['q22']=a['peak']; a['q23']=a['index']; a['q24']=a['is_beat']; a['q26']=((a['bass']+a['mid'])+a['treb']); a['q29']=(2*(mod(a['index2'],2)-0.5)); a['q25']=Math.min(1, div(a['q22'],2)); a['k1']=(a['is_beat']*equal(mod(a['index'],4), 0)); a['p1']=((a['k1']*(a['p1']+1))+((1-a['k1'])*a['p1'])); a['p2']=((a['dec_med']*a['p2'])+((1-a['dec_med'])*a['p1'])); a['rott']=div((a['p2']*3.1416),4); a['q1']=Math.cos(a['rott']); a['q2']=Math.sin(a['rott']); a['q3']=-a['q2']; a['q4']=a['q1']; a['q27']=a['index']; a['q28']=a['index2']; a['mov']=((a['mov']*a['dec_med'])+((1-a['dec_med'])*above(mod(a['index'],8), 2))); a['movez']=(a['movez']+(div(1,a['fps'])*a['mov'])); a['q30']=a['movez']; a['q8']=a['movex']; a['q9']=a['movey']; a['trel1']=(a['trel1']+div(((a['q1']*a['q22'])*3),a['fps'])); a['trel2']=(a['trel2']+div(((a['q2']*a['q22'])*2),a['fps'])); a['trel3']=(a['trel3']+div((4*(1-a['mov'])),a['fps'])); a['trel4']=(a['trel4']+div((1*a['mov']),a['fps'])); a['q11']=(0.3*Math.sin(a['trel1'])); a['q12']=(0.1*Math.cos(a['trel2'])); a['q13']=(8+(6*Math.sin(a['trel3']))); a['q14']=(0.3*Math.sin(a['trel2'])); a['q15']=(0.2*Math.cos(a['trel3'])); a['q16']=(6+(3*Math.sin(a['trel1']))); a['q17']=(0.3*Math.sin(a['trel4'])); a['q18']=(0.3*Math.cos(a['trel2'])); a['q19']=(3+Math.sin(a['trel3'])); a['trot']=div(a['trel1'],2); a['trot']=div((a['index2']*6.28),4); a['q5']=Math.cos(a['trot']); a['q6']=Math.sin(a['trot']); a['q7']=-a['q6']; a['q8']=a['q5'];}());","pixel_eqs_str":"","init_eqs_eel":"dirx = 1;","frame_eqs_eel":"dec_med = pow (0.69, 30/fps);\ndec_slow = pow (0.9, 30/fps);\nbeat = max (max (bass, mid), treb); \navg = avg*dec_slow + beat*(1-dec_slow);\nis_beat = above(beat, avg+peak) * above (time, t0+.1);\nt0 = is_beat*time + (1-is_beat)*t0;\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\nindex = (index + is_beat) %16;\nindex2 = (index2 + is_beat*bnot(index))%4;\n\nq20 = avg;\nq21 = beat;\nq22 = peak;\nq23 = index;\nq24 = is_beat;\nq26 = bass + mid + treb;\nq29 = 2 * (index2%2-.5);\nq25 = min(1,q22/2);\n\nk1 =  is_beat*equal(index%4,0);\np1 =  k1*(p1+1) + (1-k1)*p1;\np2 = dec_med * p2+ (1-dec_med)*p1;\nrott = p2 * 3.1416/4;\nq1 = cos(rott);\nq2 = sin(rott);\nq3 = -q2;\nq4 = q1;\n\n\nq27 = index;\nq28 = index2;\n\nmov = mov*dec_med + (1-dec_med)*above(index%8,2);\nmovez = movez + 1/fps*mov;\nq30 = movez;\n//**************************\n\nq8 = movex; q9 = movey;\n\ntrel1 = trel1 + (q1*q22*3)/fps;\ntrel2 = trel2 + (q2*q22*2)/fps;\ntrel3 = trel3 + 4*(1-mov)/fps;\ntrel4 = trel4 + 1 * mov/fps;\n\nq11 = .3*sin(trel1); \nq12 = 0.1*cos(trel2); \nq13 = 8 + 6*sin(trel3);\n\nq14 = .3*sin(trel2); \nq15 = .2*cos(trel3) ; \nq16 = 6 + 3*sin(trel1);\n\nq17 = .3*sin(trel4); \nq18 = .3*cos(trel2); \nq19 = 3 + sin(trel3);\n\ntrot = trel1/2;\ntrot = index2*6.28/4;\nq5 = cos(trot);\nq6 = sin(trot);\nq7 = -q6;\nq8 = q5;","pixel_eqs_eel":"//zoom=1.02-sin(time*q4*3.14*.01+3.14*bass_att)*0.001*(.5-rad*sin(ang+treb-bass_att*3));","warp":"shader_body\n{\nuv = mix(uv_orig,uv,0.3);\n\nvec2 d = texsize.zw * 15;\nvec3 dx = ( ((texture(sampler_blur1, uv + vec2(1,0)*d).xyz * scale1) + bias1) - ((texture(sampler_blur1, uv-vec2(1,0)*d).xyz * scale1) + bias1) );\nvec3 dy = ( ((texture(sampler_blur1, uv + vec2(0,1)*d).xyz * scale1) + bias1) - ((texture(sampler_blur1, uv-vec2(0,1)*d).xyz * scale1) + bias1) );\n\nuv += vec2(lum(dx),lum(dy))*texsize.zw*9;\nret =tex2d(sampler_fc_main, uv) - 0.01;\n\n}","comp":"uniform sampler2D sampler_MilkDrop3_017;\nuniform sampler2D sampler_MilkDrop3_016;\n\nshader_body\n{\n\n\n    vec2 d = texsize.zw*12;\n    vec3 dx = ( ((texture(sampler_blur1, uv + vec2(1,0)*d).xyz * scale1) + bias1) - ((texture(sampler_blur1, uv-vec2(1,0)*d).xyz * scale1) + bias1) );\n    vec3 dy = ( ((texture(sampler_blur1, uv + vec2(0,1)*d).xyz * scale1) + bias1) - ((texture(sampler_blur1, uv-vec2(0,1)*d).xyz * scale1) + bias1) );\n    vec2 my_uv = uv + vec2(dx.y,dy.y)*0.1;\n\nvec3 re;\n\n//uv = uv + 0.02*vec2(cos(uv.y*17),sin(uv.x*39));\nvec2 m = vec2(1-q4,q8);\nvec2 bg_uv = m + (uv-m)*0.992; // subtle 3D shadow drop\nvec2 mid_uv = m + (uv-m)*0.996;\nret =mix( vec3(1,0,2.2), vec3(0.3,0,1),texture( sampler_fw_main, bg_uv).y);\nret =mix(ret, vec3(3,1,2), max(((texture(sampler_blur1, bg_uv).xyz * scale1) + bias1).z*1.5,texture( sampler_main, mid_uv).z)); // if that isn't a cool glow effect?\nret *= 1-((texture(sampler_blur1, bg_uv).xyz * scale1) + bias1).x*3; // drop shadow\nret =mix( ret, vec3(3,0.01,0.4),texture( sampler_fw_main, uv).x);\n//ret =texture(sampler_main, uv).xyz;\nre = texture( sampler_MilkDrop3_017, my_uv*cos(sin(time/5))).xyz;\n//re = mix( texture(sampler_MilkDrop3_016,my_uv).xyz, re, ret.x);\nret =mix( re, 1-re, ret.y);\n\n//ret /= vec3(2.7,1.9,2.6);\n}","warp_hlsl":"shader_body\n{\nuv = lerp(uv_orig,uv,0.3);\n\nfloat2 d = texsize.zw * 15;\nfloat3 dx = ( GetBlur1(uv + float2(1,0)*d) - GetBlur1(uv-float2(1,0)*d) );\nfloat3 dy = ( GetBlur1(uv + float2(0,1)*d) - GetBlur1(uv-float2(0,1)*d) );\n\nuv += float2(lum(dx),lum(dy))*texsize.zw*9;\nret = tex2d(sampler_fc_main, uv) - 0.01;\n\n}","comp_hlsl":"sampler sampler_MilkDrop3_017;\nsampler sampler_MilkDrop3_016;\n\nshader_body\n{\n\n\n    float2 d = texsize.zw*12;\n    float3 dx = ( GetBlur1(uv + float2(1,0)*d) - GetBlur1(uv-float2(1,0)*d) );\n    float3 dy = ( GetBlur1(uv + float2(0,1)*d) - GetBlur1(uv-float2(0,1)*d) );\n    float2 my_uv = uv + float2(dx.y,dy.y)*0.1;\n\nfloat3 re;\n\n//uv = uv + 0.02*float2(cos(uv.y*17),sin(uv.x*39));\nfloat2 m = float2(1-q4,q8);\nfloat2 bg_uv = m + (uv-m)*0.992; // subtle 3D shadow drop\nfloat2 mid_uv = m + (uv-m)*0.996;\nret = lerp( float3(1,0,2.2), float3(0.3,0,1),tex2D( sampler_fw_main, bg_uv).y);\nret = lerp(ret, float3(3,1,2), max(GetBlur1(bg_uv).z*1.5,tex2D( sampler_main, mid_uv).z)); // if that isn't a cool glow effect?\nret *= 1-GetBlur1(bg_uv).x*3; // drop shadow\nret = lerp( ret, float3(3,0.01,0.4),tex2D( sampler_fw_main, uv).x);\n//ret = tex2D(sampler_main, uv);\nre = tex2D( sampler_MilkDrop3_017, my_uv*cos(sin(time/5)));\n//re = lerp( tex2D(sampler_MilkDrop3_016,my_uv), re, ret.x);\nret = lerp( re, 1-re, ret.y);\n\n//ret /= float3(2.7,1.9,2.6);\n}"}