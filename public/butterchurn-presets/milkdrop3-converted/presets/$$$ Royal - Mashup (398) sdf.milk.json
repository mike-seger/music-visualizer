{"version":2,"baseVals":{"rating":3,"gammaadj":1,"decay":0.964,"echo_zoom":1,"echo_orient":3,"wave_mode":8,"modwavealphabyvolume":1,"wave_brighten":0,"darken_center":1,"wave_a":0,"wave_scale":1.346,"wave_smoothing":0.09,"wave_mystery":0.4,"modwavealphastart":1.42,"modwavealphaend":2,"warpanimspeed":1.459,"warpscale":2.007,"zoom":1.0099,"warp":0.01,"sx":0.9999,"wave_r":0,"wave_x":1,"ob_size":0.2,"ob_a":0.2,"ib_r":0.6,"ib_g":0.4,"ib_b":0.4,"mv_g":0,"mv_b":0,"mv_a":0},"shapes":[{"baseVals":{"sides":25,"thickoutline":1,"textured":1,"rad":0.0474,"g":1,"b":1,"a":0,"r2":1,"b2":1,"a2":0.5,"border_a":0,"enabled":0},"init_eqs_str":"(function(){bob = 1.5;\nro = 0;\nred = rand(20);}());","frame_eqs_str":"","init_eqs_eel":"(function(){bob = 1.5;\nro = 0;\nred = rand(20);}());","frame_eqs_eel":""},{"baseVals":{"enabled":1,"sides":14,"additive":1,"thickoutline":1,"textured":1,"num_inst":3,"tex_zoom":5.99573,"g":1,"b":1,"g2":0,"a2":0.5,"border_r":0,"border_g":0,"border_b":0,"border_a":1},"init_eqs_str":"(function(){a['arg'] = 0; a['q10'] = 0; a['fac'] = 0; }());","frame_eqs_str":"(function(){a['arg']=(a['q10']+div(div(a['instance'],a['num_inst']),8)); a['x']=(1-(a['arg']-Math.floor(a['arg']))); a['y']=0.51; a['rad']=Math.min(0.5, (a['mid_att']*0.1)); a['r']=(0.5+(0.4*Math.sin(div(a['frame'],14)))); a['b']=(0.5+(0.4*Math.sin(div(a['frame'],17)))); a['g']=(0.5+(0.4*Math.sin(div(a['frame'],21)))); a['fac']=1; a['r2']=(a['r']*a['fac']); a['b2']=(a['b']*a['fac']); a['g2']=(a['g']*a['fac']); a['a']=0.7; a['a2']=div(a['a'],2);}());","init_eqs_eel":"","frame_eqs_eel":"\narg = (q10+instance/num_inst/8);\nx = 1-(arg-int(arg));\ny = 0.51;\nrad = min(0.5,mid_att*0.1);\n\n//if (instance==1, x = 1-x; ,0);\n\n//rad *= 0.5+pow(sin(cos(q1)),4)*3;\n\nr = 0.5 + 0.4*sin(frame/14);\nb = 0.5 + 0.4*sin(frame/17 );\ng = 0.5 + 0.4*sin(frame/21 );\nfac = 1;\nr2 = r*fac; b2=b*fac; g2=g*fac;\na = 0.7 ; a2 = a/2;\n"},{"baseVals":{"textured":1,"num_inst":4,"rad":0.40272,"tex_ang":2.51327,"tex_zoom":0.55045,"g":0.95,"b":1,"r2":1,"b2":1,"border_a":0,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"additive":1,"textured":1,"rad":0.44482,"ang":3.26726,"tex_zoom":0.90529,"g":1,"b":1,"a":0,"r2":0.3,"g2":0.3,"b2":0.3,"border_a":1,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"additive":1,"a":0.1,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_str":"(function(){a['n'] = 0; a['maxbpm'] = 0; a['tvol'] = 0; a['maxind1'] = 0; a['bindex'] = 0; a['num_res'] = 0; a['maxv'] = 0; a['index'] = 0; a['quali'] = 0; a['scale'] = 0; a['q6'] = 0; a['dt'] = 0; a['y0'] = 0; a['maxquad'] = 0; a['dt1'] = 0; a['dec_f'] = 0; a['x0'] = 0; a['dec_s'] = 0; a['minbpm'] = 0; a['tt'] = 0; a['omega'] = 0; a['ec_steps'] = 0; a['is_beat'] = 0; a['bpm'] = 0; a['q24'] = 0; a['q10'] = 0; a['bestsig'] = 0; a['blocksize'] = 0; a['dec_m'] = 0; a['sig'] = 0; a['ex'] = 0; a['avg'] = 0; a['tmpv'] = 0; a['beatsin'] = 0; a['beat'] = 0; a['vol'] = 0; a['peak'] = 0; a['beatcos'] = 0; a['q27'] = 0; a['tr1'] = 0; a['trel1'] = 0; a['num_sig'] = 0; a['tmp'] = 0; a['t0'] = 0; a['vol_'] = 0; a['m'] = 0; a['quad'] = 0; a['q7'] = 0; a['excite'] = 0; a['q8'] = 0; a['bmp'] = 0; a['n']=-5000; for(var mdparser_idx536=0;mdparser_idx536<20000;mdparser_idx536++){a['megabuf'][Math.floor(a['n'])]=0; a['gmegabuf'][Math.floor(a['n'])]=0; a['n']+=1;} a['minbpm']=100; a['maxbpm']=200; a['num_res']=80; a['num_sig']=3; a['blocksize']=((a['num_res']*12)+12); a['reg04']=a['blocksize']; a['sig']=0; for(var mdparser_idx537=0;mdparser_idx537<a['num_sig'];mdparser_idx537++){a['index']=0; for(var mdparser_idx538=0;mdparser_idx538<a['num_res'];mdparser_idx538++){a['n']=((a['blocksize']*a['sig'])+(12*a['index'])); a['bpm']=(a['minbpm']*pow(div(a['maxbpm'],a['minbpm']), div(a['index'],a['num_res']))); a['gmegabuf'][Math.floor(a['n'])]=a['bpm']; a['index']+=1;} a['sig']+=1;} a['pi']=3.1416; a['octave']=div((a['num_res']*Math.log(2)),Math.log(div(a['maxbpm'],a['minbpm']))); a['prog']=0; a['bindex']=rand(8); a['count5']=rand(8);}());","frame_eqs_str":"(function(){a['dt']=Math.min(div(1,a['fps']), 0.1); a['dec_f']=0.8; a['dec_m']=(1-(4*a['dt'])); a['dec_s']=(1-a['dt']); a['beat']=Math.max(Math.max(a['bass'], a['mid']), a['treb']); a['avg']=((a['avg']*a['dec_s'])+(a['beat']*(1-a['dec_s']))); a['is_beat']=(above(a['beat'], ((0.5+a['avg'])+a['peak']))*above(a['time'], (a['t0']+0.25))); a['t0']=((a['is_beat']*a['time'])+((1-a['is_beat'])*a['t0'])); a['peak']=((a['is_beat']*a['beat'])+(((1-a['is_beat'])*a['peak'])*a['dec_m'])); a['bindex']=mod((a['bindex']+a['is_beat']),8); a['q24']=a['is_beat']; a['q27']=a['bindex']; a['sig']=0; for(var mdparser_idx539=0;mdparser_idx539<a['num_sig'];mdparser_idx539++){a['excite']=((Math.abs(((Math.abs((a['sig'])-(0))<0.00001)?1:0))>0.00001)?((a['bass']-a['bass_att'])):(((Math.abs(((Math.abs((a['sig'])-(1))<0.00001)?1:0))>0.00001)?((a['mid']-a['mid_att'])):((a['treb']-a['treb_att']))))); a['index']=0; a['maxquad']=0; a['m']=((a['sig']*a['blocksize'])+(a['num_res']*12)); a['gmegabuf'][Math.floor((a['m']+2))]=0.001; a['gmegabuf'][Math.floor((a['m']+3))]=0; for(var mdparser_idx540=0;mdparser_idx540<a['num_res'];mdparser_idx540++){a['n']=((a['sig']*a['blocksize'])+(a['index']*12)); a['omega']=div((a['gmegabuf'][Math.floor(a['n'])]*6.283),60); a['gmegabuf'][Math.floor((a['n']+1))]*=(1-(0.22*a['dt'])); a['ec_steps']=(Math.floor(((10*a['dt'])*a['omega']))+1); a['dt1']=div(a['dt'],a['ec_steps']); a['ex']=div(a['excite'],sqrt(a['omega'])); for(var mdparser_idx541=0;mdparser_idx541<a['ec_steps'];mdparser_idx541++){a['gmegabuf'][Math.floor((a['n']+1))]+=((a['ex']-(sqr(a['omega'])*a['gmegabuf'][Math.floor((a['n']+2))]))*a['dt1']); a['gmegabuf'][Math.floor((a['n']+2))]+=(a['gmegabuf'][Math.floor((a['n']+1))]*a['dt1']);} a['beatcos']=a['gmegabuf'][Math.floor((a['n']+1))]; a['beatsin']=(a['gmegabuf'][Math.floor((a['n']+2))]*a['omega']); a['quad']=sqrt((pow(a['beatsin'], 2)+pow(a['beatcos'], 2))); a['gmegabuf'][Math.floor((a['m']+4))]+=Math.abs((a['gmegabuf'][Math.floor((a['n']+3))]-a['quad'])); a['gmegabuf'][Math.floor((a['n']+3))]=((a['gmegabuf'][Math.floor((a['n']+3))]*a['dec_m'])+(a['quad']*(1-a['dec_m']))); ((Math.abs(((a['gmegabuf'][Math.floor((a['n']+3))]>a['gmegabuf'][Math.floor((a['m']+3))])?1:0))>0.00001)?(a['gmegabuf'][Math.floor((a['m']+3))]=a['gmegabuf'][Math.floor((a['n']+3))]):(0)); a['gmegabuf'][Math.floor((a['m']+2))]+=div(a['gmegabuf'][Math.floor((a['n']+3))],a['num_res']); a['gmegabuf'][Math.floor((a['n']+4))]=a['beatcos']; a['gmegabuf'][Math.floor((a['n']+5))]=a['beatsin']; a['index']+=1;} a['sig']+=1;} a['sig']=0; a['quali']=0; a['bestsig']=-1; for(var mdparser_idx542=0;mdparser_idx542<a['num_sig'];mdparser_idx542++){a['m']=((a['sig']*a['blocksize'])+(a['num_res']*12)); a['tmp']=div(a['gmegabuf'][Math.floor((a['m']+3))],a['gmegabuf'][Math.floor((a['m']+2))]); ((Math.abs(((a['tmp']>a['quali'])?1:0))>0.00001)?((function(){a['quali']=a['tmp']; return a['bestsig']=a['sig'];})()):(0)); a['sig']+=1;} a['index']=0; a['maxind1']=0; a['maxv']*=a['dec_s']; for(var mdparser_idx543=0;mdparser_idx543<a['num_res'];mdparser_idx543++){a['n']=((a['bestsig']*a['blocksize'])+(a['index']*12)); a['tmpv']=a['gmegabuf'][Math.floor((a['n']+3))]; ((Math.abs(((a['tmpv']>a['maxv'])?1:0))>0.00001)?((function(){a['maxv']=a['tmpv']; return a['maxind1']=a['index'];})()):(0)); a['index']+=1;} a['bpm']=(a['minbpm']*pow(div(a['maxbpm'],a['minbpm']), div(a['maxind1'],a['num_res']))); ((Math.abs(((a['bmp']<150)?1:0))>0.00001)?(a['trel1']+=(div(a['bpm'],60)*a['dt'])):(a['trel1']+=(div(a['bpm'],120)*a['dt']))); a['q10']=a['trel1']; a['vol']=((a['bass']+a['mid'])+a['treb']); a['vol_']=((a['vol_']*0.9)+(0.1*a['vol'])); a['tvol']=((a['tvol']*0.7)+(0.3*(a['vol']-a['vol_']))); a['n']=50100; for(var mdparser_idx544=0;mdparser_idx544<100;mdparser_idx544++){a['gmegabuf'][Math.floor(a['n'])]=a['gmegabuf'][Math.floor((a['n']-1))]; a['n']-=1;} a['gmegabuf'][Math.floor(50000)]=Math.atan(a['tvol']); a['monitor']=a['bpm']; a['q6']=a['gmegabuf'][Math.floor(50000)]; a['q7']=sqrt(Math.max(0, (a['vol_']-0.3))); a['tr1']+=(a['vol']*a['dt']); a['q8']=a['tr1'];}());","pixel_eqs_str":"(function(){a['warp']=0.0; a['rot']=0.0; a['scale']=0.2; a['x0']=(0.5+(a['scale']*pow(a['gmegabuf'][Math.floor(50000)], 1))); a['y0']=(0.5+(a['scale']*pow(a['gmegabuf'][Math.floor(50020)], 1))); a['tt']=sqrt((pow((a['x']-a['x0']), 2)+pow((a['y']-a['y0']), 2))); a['zoom']=(1+(a['tt']*0.2)); a['zoom']=(0.99+(0.1*(0.4+pow(a['gmegabuf'][Math.floor((50000+(a['rad']*20)))], 1)))); a['zoom']-=(0.03*(((Math.sin((a['ang']*3))<0)?1:0)-0.5));}());","init_eqs_eel":"n = -5000; loop (20000, megabuf(n)=0; gmegabuf(n)=0; n +=1; );\n\nMINBPM = 100; MAXBPM = 200; num_res = 80; num_sig=3;\nblocksize = num_res*12+12; \nreg04 = blocksize;\n\nsig = 0;\nloop (num_sig,\n  index = 0;\n  loop (num_res,\n    n = blocksize*sig + 12*index;\n    BPM      = minbpm * pow(maxbpm/minbpm,index/num_res);\n    gmegabuf(n) = BPM;\n    index += 1;\n  );\nsig+=1);\n\npi = 3.1416;\nOCTAVE = (num_res) * log(2) / log (MAXBPM / MINBPM);\n\nprog = 0;\nbindex = rand(8);\ncount5 = rand(8);","frame_eqs_eel":"dt = min (1/fps,0.1) ; //Stability !\ndec_f = 0.8; dec_m = 1 - 4*dt; dec_s = 1 - dt;\n\nbeat = max (max (bass, mid), treb); \navg = avg*dec_s + beat*(1-dec_s);\nis_beat = above(beat, .5+avg+peak) * above (time, t0+.25);\nt0 = is_beat*time + (1-is_beat)*t0;\npeak = is_beat * beat + (1-is_beat)*peak*dec_m;\nbindex = (bindex + is_beat) %8;\nq24 = is_beat;\nq27 = bindex;\n\nsig=0; \nloop (num_sig,\n  excite = if (sig==0, bass-bass_att, if (sig==1, mid-mid_att, treb-treb_att));\n  index = 0; maxquad = 0;\n  m = sig*blocksize+num_res*12; // Start Infoblock;\n  gmegabuf(m+2) = 0.001; //lok. MW\n  gmegabuf(m+3) = 0; //lok. MAX\n  loop (num_res, \n    n = sig*blocksize+index*12;  omega=gmegabuf(n) * 6.283/60;\n    gmegabuf (n+1) *= 1- 0.22*dt; \n    EC_Steps = int (10*dt*omega)+1; dt1 = dt/EC_Steps;\n    ex = excite / sqrt(omega);\n    loop (EC_Steps, // Euler-Cauchy \n      gmegabuf (n+1) += (ex - sqr(omega)*gmegabuf(n+2)) * dt1;\n      gmegabuf (n+2) += gmegabuf(n+1) * dt1);\n    beatcos  = gmegabuf(n+1);  beatsin = gmegabuf(n+2)*omega;\n    quad     = sqrt (pow(beatsin,2) + pow(beatcos,2)) ;\n    gmegabuf (m+4) += abs (gmegabuf(n+3)-Quad); //Lok Aenderung\n    gmegabuf (n+3) = gmegabuf(n+3) *dec_m +  quad* (1-dec_m);\n    if (gmegabuf(n+3) > gmegabuf(m+3),gmegabuf(m+3)=gmegabuf(n+3),0); //LOK MAX\n    gmegabuf (m+2) += gmegabuf(n+3)/num_res; //LOK MW\n    gmegabuf(n+4)= beatcos;\n    gmegabuf(n+5)= beatsin;\n  index += 1;);\nsig+=1;);\n\n\n//Beste raussuchen\nsig = 0; quali = 0; bestsig = -1;\nloop (num_sig,\n  m = sig*blocksize+num_res*12; // Start Infoblock;\n  tmp = gmegabuf(m+3)/gmegabuf(m+2) ;\n  if (tmp > quali, quali = tmp; bestsig = sig;, 0);\nsig += 1);\n\nindex = 0; maxind1 = 0; maxv *= dec_s;\nloop (num_res, \n  n = bestsig*blocksize+index*12; // Start Infoblock;\n  tmpv = gmegabuf(n+3);\n  if (tmpv > maxv, maxv=tmpv; maxind1=index, 0);\nindex += 1;);\n\nBPM   = minbpm * pow(maxbpm/minbpm,maxind1/num_res);\nif (BMP < 150, trel1 += BPM/60*dt, trel1 +=BPM/120*dt);\nq10 = trel1;\n\n//Vol delay chain \nvol = (bass+mid+treb);\nvol_=vol_*0.9 + 0.1*vol;\ntvol = tvol*0.7 + 0.3*(vol-vol_);\nn = 50100; loop (100, gmegabuf (n) = gmegabuf (n-1); n -= 1; ); gmegabuf (50000) = atan(tvol);\nmonitor = BPM;\nq6 = gmegabuf(50000);\nq7 = sqrt(max(0,vol_-0.3));\n\ntr1 += vol*dt;\nq8 = tr1;","pixel_eqs_eel":"warp = .0; rot = .0;\nscale = 0.2;\n\nx0 = .5+scale*pow(gmegabuf(50000),1); y0 = .5+scale*pow(gmegabuf(50020),1);\n\ntt = sqrt (pow(x-x0,2) + pow(y-y0,2));\n\nzoom = 1+tt*0.2;\n\nzoom = 0.99+ 0.1*(0.4+pow(gmegabuf(50000+rad*20),1));\nzoom -= 0.03*((sin(ang*3)<0)-0.5);","warp":"vec3 Get1 (vec2 uvi)\n{return (texture(sampler_main, uvi).xyz+texture(sampler_main, uvi+texsize.zw).xyz+texture(sampler_main, uvi-texsize.zw).xyz\n+texture(sampler_main, uvi+texsize.zw*vec2(1,0)).xyz +texture(sampler_main, uvi+texsize.zw*vec2(-1,0)).xyz \n+texture(sampler_main, uvi+texsize.zw*vec2(0,1)).xyz +texture(sampler_main, uvi+texsize.zw*vec2(0,-1)).xyz)/7;}\n\n\nshader_body\n{\nvec2 dither_uv = uv_orig*texsize.xy*texsize_noise_lq.zw * 0.4 + rand_frame.xy;\nvec2 udith = texture(sampler_noise_lq,uv*8+rand_frame).xyz-0.5;\nret=texture( sampler_main, uv + udith*0.00).xyz;\n\nret += (ret.xyz - ((texture(sampler_blur1, uv_orig+0.0*bass).xyz * scale1) + bias1))*0.35;\nret *= 0.9;\nret += (texture(sampler_noise_lq, dither_uv).xyz-0.1).r*0.02 * clamp(1-treb_att, 0.0, 1.0);\n\nret =mix(ret.xyz, lum(ret.xyz), 0.1)*(0.95-0.05*lum(((texture(sampler_blur3, uv).xyz * scale3) + bias3)));\n}","comp":"shader_body\n{\n    float rad_lq = rad * length(texsize.xy)*0.5;\n    float ang_lq = ang;\n    vec2 uv_temp1 = (uv - 0.5) * texsize.xy;\n    float rad_hq = length(uv_temp1);\n    float ang_hq = atan(-uv_temp1.y, uv_temp1.x);\n\n    vec2 uv2 = (uv - 0.5);\n    float rad2 = rad_lq*0.75;\n    float ang2 = ang_lq * M_INV_PI_2;\n\n        // ROTATION OVER TIME\n        ang2 += time*0.025;   //rotate over time\n\n        // FIN TYPE\n        float fins = 8;//3 + floor(rand_preset.z*5.95);\n        ang2 = cos(ang2*M_PI_2*fins) * 0.023;\n\n\n    ang2 *= M_PI_2;\n    uv2 = 0.5 + rad2*vec2(cos(ang2),sin(ang2))*texsize.zw;\n\n    ret =texture(sampler_main, uv2).xyz;\n    ret *= 1.0; // a little bit of overbright\nret /= vec3(-2.2,2.2,0.9);\n}","warp_hlsl":"float3 Get1 (float2 uvi)\n{return (GetPixel(uvi)+GetPixel(uvi+texsize.zw)+GetPixel(uvi-texsize.zw)\n+GetPixel(uvi+texsize.zw*float2(1,0)) +GetPixel(uvi+texsize.zw*float2(-1,0)) \n+GetPixel(uvi+texsize.zw*float2(0,1)) +GetPixel(uvi+texsize.zw*float2(0,-1)))/7;}\n\n\nshader_body\n{\nfloat2 dither_uv = uv_orig*texsize.xy*texsize_noise_lq.zw * 0.4 + rand_frame.xy;\nfloat2 udith = tex2D(sampler_noise_lq,uv*8+rand_frame)-0.5;\nret= tex2D( sampler_main, uv + udith*0.00).xyz;\n\nret += (ret.xyz - GetBlur1(uv_orig+0.0*bass))*0.35;\nret *= 0.9;\nret += (tex2D(sampler_noise_lq, dither_uv).xyz-0.1).r*0.02 * saturate(1-treb_att);\n\nret = lerp(ret.xyz, lum(ret.xyz), 0.1)*(0.95-0.05*lum(GetBlur3(uv)));\n}","comp_hlsl":"shader_body\n{\n    float rad_lq = rad * length(texsize.xy)*0.5;\n    float ang_lq = ang;\n    float2 uv_temp1 = (uv - 0.5) * texsize.xy;\n    float rad_hq = length(uv_temp1);\n    float ang_hq = atan2(-uv_temp1.y, uv_temp1.x);\n\n    float2 uv2 = (uv - 0.5);\n    float rad2 = rad_lq*0.75;\n    float ang2 = ang_lq * M_INV_PI_2;\n\n        // ROTATION OVER TIME\n        ang2 += time*0.025;   //rotate over time\n\n        // FIN TYPE\n        float fins = 8;//3 + floor(rand_preset.z*5.95);\n        ang2 = cos(ang2*M_PI_2*fins) * 0.023;\n\n\n    ang2 *= M_PI_2;\n    uv2 = 0.5 + rad2*float2(cos(ang2),sin(ang2))*texsize.zw;\n\n    ret = tex2D(sampler_main, uv2).xyz;\n    ret *= 1.0; // a little bit of overbright\nret /= float3(-2.2,2.2,0.9);\n}"}