{"version":2,"baseVals":{"rating":5,"gammaadj":2.1,"echo_zoom":1.169,"echo_orient":1,"wave_mode":5,"additivewave":1,"wave_a":0,"wave_scale":0.9,"wave_smoothing":0.63,"wave_mystery":1,"modwavealphastart":2,"modwavealphaend":2,"warpscale":2.853,"rot":0.006,"warp":0,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"ob_size":0.005,"mv_x":0,"mv_y":48,"mv_dx":-0.941,"mv_dy":0.426,"mv_l":5,"mv_r":0.316,"mv_g":0.078,"mv_b":0.942,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"textured":1,"rad":0.78903,"ang":0.62832,"tex_zoom":1.02009,"r":0,"g":1,"b":1,"r2":0.7,"b2":1,"border_a":0},"init_eqs_str":"(function(){ a['vx']=0; a['vy']=0;}());","frame_eqs_str":"","init_eqs_eel":"vx = 0;\nvy = 0;","frame_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_str":"(function(){a['d'] = 0; a['y3'] = 0; a['y1'] = 0; a['res'] = 0; a['q12'] = 0; a['x1'] = 0; a['vx3'] = 0; a['q13'] = 0; a['q6'] = 0; a['dt'] = 0; a['q1'] = 0; a['q5'] = 0; a['c_x'] = 0; a['c_y'] = 0; a['q9'] = 0; a['v'] = 0; a['vx4'] = 0; a['diff'] = 0; a['x3'] = 0; a['q23'] = 0; a['q24'] = 0; a['q11'] = 0; a['q10'] = 0; a['xx2'] = 0; a['q4'] = 0; a['yy1'] = 0; a['vy4'] = 0; a['x4'] = 0; a['r'] = 0; a['x2'] = 0; a['beat'] = 0; a['vol'] = 0; a['vy2'] = 0; a['y2'] = 0; a['q2'] = 0; a['q14'] = 0; a['vx2'] = 0; a['q3'] = 0; a['y4'] = 0; a['q7'] = 0; a['vy3'] = 0; a['xx1'] = 0; a['q8'] = 0; a['c_x']=0.5; a['c_y']=0.5;}());","frame_eqs_str":"(function(){a['sx']=(1+((0.01*mod((8*a['bass']),8))*equal(mod((a['time']*1.4),Math.floor((24-(2*a['bass'])))), 0))); a['sy']=(1+((0.01*mod((8*a['mid']),8))*equal(mod((a['time']*1.4),(12+Math.floor((24-(2*a['bass']))))), 0))); a['q1']=a['aspectx']; a['q2']=a['aspecty']; a['rot']=0; a['zoom']=1; a['warp']=0; a['vol']=(((a['bass']*8)+(a['mid']*4))+(a['treb']*2)); a['vol']=(a['vol']*above(a['vol'], 17)); a['monitor']=a['vol']; a['beat']=above(a['vol'], a['res']); a['diff']=(((1-a['beat'])*a['diff'])+(a['beat']*(a['vol']-a['res']))); a['res']=((a['beat']*(a['vol']+(2*a['diff'])))+((1-a['beat'])*(a['res']-div((((a['diff']*0.04)+0.12)*60),a['fps'])))); a['res']=Math.max(0, a['res']); a['monitor']=a['res']; a['r']=((Math.abs(a['beat'])>0.00001)?(((0.01*(rand(200)-100))*0.01)):(a['r'])); a['rot']=a['r']; a['c_x']=((Math.abs(a['beat'])>0.00001)?((0.5+((0.5*(rand(200)-100))*0.01))):(a['c_x'])); a['c_y']=((Math.abs(a['beat'])>0.00001)?((0.5+((0.5*(rand(200)-100))*0.01))):(a['c_y'])); a['q23']=a['c_x']; a['q24']=a['c_y']; a['xx1']=((a['xx1']*0.9)+(a['bass']*0.01)); a['xx2']=((a['xx2']*0.9)+(a['treb']*0.01)); a['yy1']=((a['yy1']*0.94)+((a['treb']+a['bass'])*0.0075)); a['x1']=(0.5+((a['xx1']-a['xx2'])*2)); a['y1']=(0.4+(a['yy1']*1.5)); a['dt']=div(0.03,a['fps']); a['vx2']=((a['vx2']*(1-(2*a['dt'])))+(a['dt']*(((a['x1']+a['x3'])-(2*a['x2']))*10))); a['vy2']=((a['vy2']*(1-(2*a['dt'])))+(a['dt']*((((a['y1']+a['y3'])-(2*a['y2']))*10)-0.5))); a['vx3']=((a['vx3']*(1-(2*a['dt'])))+(a['dt']*(((a['x2']+a['x4'])-(2*a['x3']))*10))); a['vy3']=((a['vy3']*(1-(2*a['dt'])))+(a['dt']*((((a['y2']+a['y4'])-(2*a['y3']))*10)-0.5))); a['vx4']=((a['vx4']*(1-(2*a['dt'])))+(a['dt']*((a['x3']-a['x4'])*10))); a['vy4']=((a['vy4']*(1-(2*a['dt'])))+(a['dt']*(((a['y3']-a['y4'])*10)-0.5))); a['x2']=(a['x2']+a['vx2']); a['y2']=(a['y2']+a['vy2']); a['x3']=(a['x3']+a['vx3']); a['y3']=(a['y3']+a['vy3']); a['x4']=(a['x4']+a['vx4']); a['y4']=(a['y4']+a['vy4']); a['vx2']=((Math.abs(above(a['x2'], 0))>0.00001)?(a['vx2']):((Math.abs(a['vx2'])*0.5))); a['vx2']=((Math.abs(below(a['x2'], 1))>0.00001)?(a['vx2']):((-Math.abs(a['vx2'])*0.5))); a['vx3']=((Math.abs(above(a['x3'], 0))>0.00001)?(a['vx3']):((Math.abs(a['vx3'])*0.5))); a['vx3']=((Math.abs(below(a['x3'], 1))>0.00001)?(a['vx3']):((-Math.abs(a['vx3'])*0.5))); a['vx4']=((Math.abs(above(a['x4'], 0))>0.00001)?(a['vx4']):((Math.abs(a['vx4'])*0.5))); a['vx4']=((Math.abs(below(a['x4'], 1))>0.00001)?(a['vx4']):((-Math.abs(a['vx4'])*0.5))); a['vy2']=((Math.abs(above(a['y2'], 0))>0.00001)?(a['vy2']):((Math.abs(a['vy2'])*0.5))); a['vy2']=((Math.abs(below(a['y2'], 1))>0.00001)?(a['vy2']):((-Math.abs(a['vy2'])*0.5))); a['vy3']=((Math.abs(above(a['y3'], 0))>0.00001)?(a['vy3']):((Math.abs(a['vy3'])*0.5))); a['vy3']=((Math.abs(below(a['y3'], 1))>0.00001)?(a['vy3']):((-Math.abs(a['vy3'])*0.5))); a['vy4']=((Math.abs(above(a['y4'], 0))>0.00001)?(a['vy4']):((Math.abs(a['vy4'])*0.5))); a['vy4']=((Math.abs(below(a['y4'], 1))>0.00001)?(a['vy4']):((-Math.abs(a['vy4'])*0.5))); a['q1']=a['x1']; a['q2']=a['x2']; a['q3']=a['x3']; a['q4']=a['x4']; a['q5']=a['y1']; a['q6']=a['y2']; a['q7']=a['y3']; a['q8']=a['y4']; a['q9']=div(1,a['aspectx']); a['q10']=div(1,a['aspecty']); a['q11']=a['aspectx']; a['q12']=a['aspecty']; a['q13']=(sqrt(((a['vx4']*a['vx4'])+(a['vy4']*a['vy4'])))*0.8); a['q14']=Math.atan2(a['vx4'], a['vy4']);}());","pixel_eqs_str":"(function(){a['d']=(pow(sqrt((sqr((a['x']-a['q3']))+sqr((a['y']-a['q4'])))), 2)-0.0); a['v']=0.03; a['dx']=((a['v']*(a['x']-a['q23']))*a['d']); a['dy']=((a['v']*(a['y']-a['q24']))*a['d']);}());","init_eqs_eel":"c_x = 0.5;\nc_y = 0.5;","frame_eqs_eel":"sx=1+.01*(8*bass%8)*equal((time*1.4)%(int(24-2*bass)),0);\nsy=1+.01*(8*mid%8) *equal((time*1.4)%(12+int(24-2*bass)),0);\n\nq1 = aspectx;\nq2 = aspecty;\nrot = 0;\nzoom = 1;\nwarp = 0;\n\n\nvol = bass*8 + mid*4 + treb*2;\nvol = vol*above(vol,17);\nmonitor = vol;\nbeat = above(vol,res);\ndiff = (1-beat)*diff + beat*(vol-res);\nres = beat*(vol+2*diff) + (1-beat)*(res - (diff*0.04 + 0.12)*60/fps);\nres = max(0,res);\nmonitor = res;\n\nr = if(beat, 0.01*(rand(200)-100)*0.01,r);\nrot = r;\n\nc_x = if(beat,0.5 + 0.5*(rand(200)-100)*0.01, c_x);\nc_y = if(beat,0.5 + 0.5*(rand(200)-100)*0.01, c_y);\n\n\nq23 = c_x;\nq24 = c_y;\n\n// elastic thread code by Flexi\n\nxx1 = xx1*0.9 + (bass)*0.01;\nxx2 = xx2*0.9 + (treb)*0.01;\nyy1 = yy1*0.94 + (treb+bass)*0.0075;\nx1 = 0.5 + (xx1-xx2)*2;\ny1 = 0.4 + yy1*1.5;\ndt = 0.03/fps;\nvx2 = vx2*(1-2*dt) + dt*((x1+x3-2*x2)*10);\nvy2 = vy2*(1-2*dt) + dt*((y1+y3-2*y2)*10-0.5);\nvx3 = vx3*(1-2*dt) + dt*((x2+x4-2*x3)*10);\nvy3 = vy3*(1-2*dt) + dt*((y2+y4-2*y3)*10-0.5);\nvx4 = vx4*(1-2*dt) + dt*((x3-x4)*10);\nvy4 = vy4*(1-2*dt) + dt*((y3-y4)*10-0.5);\nx2 = x2 + vx2; y2 = y2 + vy2;\nx3 = x3 + vx3; y3 = y3 + vy3;\nx4 = x4 + vx4; y4 = y4 + vy4;\nvx2 = if(above(x2,0),vx2,abs(vx2)*0.5);\nvx2 = if(below(x2,1),vx2,-abs(vx2)*0.5);\nvx3 = if(above(x3,0),vx3,abs(vx3)*0.5);\nvx3 = if(below(x3,1),vx3,-abs(vx3)*0.5);\nvx4 = if(above(x4,0),vx4,abs(vx4)*0.5);\nvx4 = if(below(x4,1),vx4,-abs(vx4)*0.5);\nvy2 = if(above(y2,0),vy2,abs(vy2)*0.5);\nvy2 = if(below(y2,1),vy2,-abs(vy2)*0.5);\nvy3 = if(above(y3,0),vy3,abs(vy3)*0.5);\nvy3 = if(below(y3,1),vy3,-abs(vy3)*0.5);\nvy4 = if(above(y4,0),vy4,abs(vy4)*0.5);\nvy4 = if(below(y4,1),vy4,-abs(vy4)*0.5);\nq1 = x1;q2 = x2;q3 = x3;q4 = x4;\nq5 = y1;q6 = y2;q7 = y3;q8 = y4;\nq9 = 1/aspectx;\nq10 = 1/aspecty;\nq11 = aspectx;\nq12 = aspecty;\nq13 = sqrt(vx4*vx4 + vy4*vy4)*0.8;\nq14 = atan2(vx4,vy4);","pixel_eqs_eel":"d = (pow(sqrt(sqr(x-q3)+sqr(y-q4)),2)-0.);\nv = 0.03;\ndx = v*(x-q23)*d;\ndy = v*(y-q24)*d;","warp":"vec2 d, uv_y, uv_z;\nvec3 dx, dy;\n\nshader_body\n{\n\n   vec2 dither_uv = uv_orig*texsize.xy*texsize_noise_lq.zw + rand_frame.xy;\n   vec3 rand = texture(sampler_noise_lq, dither_uv).xyz-0.5;\n\n   d = texsize.zw*4;\n   dx = ((texture(sampler_blur1, uv_orig + vec2(1,0)*d).xyz * scale1) + bias1) - ((texture(sampler_blur1, uv_orig - vec2(1,0)*d).xyz * scale1) + bias1);\n   dy = ((texture(sampler_blur1, uv_orig + vec2(0,1)*d).xyz * scale1) + bias1) - ((texture(sampler_blur1, uv_orig - vec2(0,1)*d).xyz * scale1) + bias1);\n   \n   d = mix(uv_orig,uv,1);\n   uv_y = d - vec2(dx.y,dy.y)*texsize.zw*6;\n   uv_z = d - vec2(dx.z,dy.z)*texsize.zw*6;\n\n\n   ret.y = texture(sampler_main, uv_y).xyz.y - 0.008 + (1-texture(sampler_main, uv_orig).xyz.x)*0.018;\n   ret.z = texture(sampler_main, uv_z).xyz.z - 0.008 + (0+texture(sampler_main, uv_orig).xyz.x)*0.018;\n\n    ret.x = texture( sampler_fc_main, uv+rand*texsize.zw*.5 ).x;\n    ret.x += (ret.x - ((texture(sampler_blur3, uv).xyz * scale3) + bias3).x)*0.15 + rand*0.0042;\n}","comp":"shader_body\n{\n    vec2 d = texsize.zw;\n    vec3 dx = ( texture(sampler_main, uv+vec2(1,0)*d).xyz-texture(sampler_main, uv-vec2(1,0)*d).xyz );\n    vec3 dy = ( texture(sampler_main, uv+vec2(0,1)*d).xyz-texture(sampler_main, uv-vec2(0,1)*d).xyz );\nvec2 dz = vec2(dx.y,dy.y)*3;\n\nd = texsize.zw*2;\ndx = ( ((texture(sampler_blur1, uv+vec2(1,0)*d).xyz * scale1) + bias1)-((texture(sampler_blur1, uv-vec2(1,0)*d).xyz * scale1) + bias1) );\ndy = ( ((texture(sampler_blur1, uv+vec2(0,1)*d).xyz * scale1) + bias1)-((texture(sampler_blur1, uv-vec2(0,1)*d).xyz * scale1) + bias1) );\n\ndz +=vec2(dx.y,dy.y);\n\nvec3 bg = pow(length(dz)*0.8+0,0.7) + ((texture(sampler_blur2, uv).xyz * scale2) + bias2).y*0.4-0.1;\n\nret = bg*vec3(0.3,0.5,0.7);\nret = mix(ret,vec3(0.2,0.1,0),texture(sampler_main, uv + vec2(dx.x,dy.x)*texsize.zw*18).xyz.x*6);\nret = mix(ret,1,texture(sampler_main, uv).xyz.z);\n\n//ret = texture(sampler_main, uv).xyz;\n//MilkDrop3 Color Mode:\nret /= vec3(0.6,1.3,1.1);\n}","warp_hlsl":"float2 d, uv_y, uv_z;\nfloat3 dx, dy;\n\nshader_body\n{\n\n   float2 dither_uv = uv_orig*texsize.xy*texsize_noise_lq.zw + rand_frame.xy;\n   float3 rand = tex2D(sampler_noise_lq, dither_uv).xyz-0.5;\n\n   d = texsize.zw*4;\n   dx = GetBlur1(uv_orig + float2(1,0)*d) - GetBlur1(uv_orig - float2(1,0)*d);\n   dy = GetBlur1(uv_orig + float2(0,1)*d) - GetBlur1(uv_orig - float2(0,1)*d);\n   \n   d = lerp(uv_orig,uv,1);\n   uv_y = d - float2(dx.y,dy.y)*texsize.zw*6;\n   uv_z = d - float2(dx.z,dy.z)*texsize.zw*6;\n\n\n   ret.y = GetPixel(uv_y).y - 0.008 + (1-GetPixel(uv_orig).x)*0.018;\n   ret.z = GetPixel(uv_z).z - 0.008 + (0+GetPixel(uv_orig).x)*0.018;\n\n    ret.x = tex2D( sampler_fc_main, uv+rand*texsize.zw*.5 ).x;\n    ret.x += (ret.x - GetBlur3(uv).x)*0.15 + rand*0.0042;\n}","comp_hlsl":"shader_body\n{\n    float2 d = texsize.zw;\n    float3 dx = ( GetPixel(uv+float2(1,0)*d)-GetPixel(uv-float2(1,0)*d) );\n    float3 dy = ( GetPixel(uv+float2(0,1)*d)-GetPixel(uv-float2(0,1)*d) );\nfloat2 dz = float2(dx.y,dy.y)*3;\n\nd = texsize.zw*2;\ndx = ( GetBlur1(uv+float2(1,0)*d)-GetBlur1(uv-float2(1,0)*d) );\ndy = ( GetBlur1(uv+float2(0,1)*d)-GetBlur1(uv-float2(0,1)*d) );\n\ndz +=float2(dx.y,dy.y);\n\nfloat3 bg = pow(length(dz)*0.8+0,0.7) + GetBlur2(uv).y*0.4-0.1;\n\nret = bg*float3(0.3,0.5,0.7);\nret = lerp(ret,float3(0.2,0.1,0),GetPixel(uv + float2(dx.x,dy.x)*texsize.zw*18).x*6);\nret = lerp(ret,1,GetPixel(uv).z);\n\n//ret = GetPixel(uv);\n//MilkDrop3 Color Mode:\nret /= float3(0.6,1.3,1.1);\n}"}