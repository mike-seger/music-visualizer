{"version":2,"baseVals":{"rating":4,"gammaadj":1,"decay":1,"echo_zoom":1.007,"echo_orient":3,"wave_mode":7,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"wave_a":0.001,"wave_scale":1.042,"wave_smoothing":0.63,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpscale":1.331,"zoom":1.00496,"warp":0.00016,"sx":0.99967,"sy":0.9999,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"ob_size":0.011,"ib_g":0.228,"mv_x":64,"mv_y":48,"mv_l":0,"mv_g":1.1,"mv_b":0.97,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":3,"additive":1,"thickoutline":1,"textured":1,"num_inst":311,"rad":0.0334,"tex_ang":0.62832,"g":1,"b":1,"r2":1,"g2":0,"b2":1,"border_g":0,"border_b":0,"border_a":0},"init_eqs_str":"(function(){a['ma'] = 0; a['mx'] = 0; a['my'] = 0; a['pi23'] = 0; a['t1'] = 0; }());","frame_eqs_str":"(function(){a['ma']=(a['ma']+(((above(a['bass'], 1)*3.1415)*0.01)*a['bass'])); a['ma']=(a['ma']-(((above(a['treb'], 1)*3.1415)*0.01)*a['treb'])); a['mx']=(a['mx']+(0.0002*Math.cos(a['ma']))); a['my']=(a['my']+(0.0002*Math.tan(a['ma']))); a['mx']=((Math.abs(above(a['mx'], 0.9))>0.00001)?((0.9-a['mx'])):(a['mx'])); a['my']=((Math.abs(above(a['my'], 0.961))>0.00001)?((0.961-a['my'])):(a['my'])); a['mx']=((Math.abs(below(a['mx'], 0.1))>0.00001)?((0.9+a['mx'])):(a['mx'])); a['my']=((Math.abs(below(a['my'], 0.1))>0.00001)?((0.9+a['my'])):(a['my'])); a['x']=(1-a['mx']); a['y']=(1-a['my']); a['ang']=((Math.sin((a['time']*0.35))+1)*3); a['a']=above(((a['bass']+a['mid'])+a['treb']), 0.8); a['pi23']=((4*Math.asin(1))*0.333333333); a['t1']=((a['bass']+a['mid'])+a['treb']); a['r']=((Math.sin((((a['time']*0.3)+a['t1'])-(0*a['pi23'])))+1)*0.5); a['g']=((Math.sin((((a['time']*0.3)+a['t1'])-(1*a['pi23'])))+1)*0.5); a['b']=((Math.sin((((a['time']*0.3)+a['t1'])-(2*a['pi23'])))+1)*0.5); a['r2']=((Math.sin((((a['time']*0.3)+a['t1'])-(0*a['pi23'])))+1)*0.5); a['g2']=((Math.sin((((a['time']*0.3)+a['t1'])-(1*a['pi23'])))+1)*0.5); a['b2']=((Math.sin((((a['time']*0.3)+a['t1'])-(2*a['pi23'])))+1)*0.5);}());","init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\nma=ma-(above(treb,1)*3.1415*.01*treb);\n\nmx=mx+(.0002*cos(ma));\nmy=my+(.0002*tan(ma));\n\nmx=if(above(mx,.9),(.9-mx),mx);\nmy=if(above(my,0.961),(0.961-my),my);\nmx=if(below(mx,.1),(.9+mx),mx);\nmy=if(below(my,.1),(.9+my),my);\n\nx=1-mx;\ny=1-my;\n\nang=(sin(time*.35)+1)*3;\na=(above(bass+mid+treb,.8));\npi23=4*asin(1)*.333333333;\nt1=bass+mid+treb;\nr=(sin(time*.3+t1-0*pi23)+1)*.5;\ng=(sin(time*.3+t1-1*pi23)+1)*.5;\nb=(sin(time*.3+t1-2*pi23)+1)*.5;\nr2=(sin(time*.3+t1-0*pi23)+1)*.5;\ng2=(sin(time*.3+t1-1*pi23)+1)*.5;\nb2=(sin(time*.3+t1-2*pi23)+1)*.5;"},{"baseVals":{"enabled":1,"sides":3,"thickoutline":1,"num_inst":281,"rad":0.01,"g":1,"b":1,"r2":1,"g2":0,"b2":1,"border_g":0,"border_b":0,"border_a":0},"init_eqs_str":"(function(){a['ma'] = 0; a['mx'] = 0; a['my'] = 0; a['pi23'] = 0; a['t2'] = 0; }());","frame_eqs_str":"(function(){a['ma']=(a['ma']+(((above(a['bass'], 1)*3.1415)*0.05)*a['bass'])); a['ma']=(a['ma']-(((above(a['mid'], 1)*3.1415)*0.05)*a['mid'])); a['mx']=(a['mx']+(0.0001*Math.tan(a['ma']))); a['my']=(a['my']+(0.0001*Math.sin(a['ma']))); a['mx']=((Math.abs(above(a['mx'], 1.05))>0.00001)?((1.05-a['mx'])):(a['mx'])); a['my']=((Math.abs(above(a['my'], 0.9))>0.00001)?((0.9-a['my'])):(a['my'])); a['mx']=((Math.abs(below(a['mx'], 0.12))>0.00001)?((0.77+a['mx'])):(a['mx'])); a['my']=((Math.abs(below(a['my'], 0.1))>0.00001)?((0.9+a['my'])):(a['my'])); a['x']=(1-a['mx']); a['y']=(1-a['my']); a['ang']=((Math.sin((a['time']*0.30))+1)*3.3); a['a']=above(((a['bass']+a['mid'])+a['treb']), 0.8); a['pi23']=((4*Math.asin(1))*0.333333333); a['t2']=0; a['r']=((Math.sin((((a['time']*0.3)+a['t2'])-(0*a['pi23'])))+1)*0.5); a['g']=((Math.sin((((a['time']*0.3)+a['t2'])-(1*a['pi23'])))+1)*0.5); a['b']=((Math.sin((((a['time']*0.3)+a['t2'])-(2*a['pi23'])))+1)*0.5); a['r2']=((Math.sin((((a['time']*0.28)+a['t2'])-(0*a['pi23'])))+1)*0.5); a['g2']=((Math.sin((((a['time']*0.27)+a['t2'])-(1*a['pi23'])))+1)*0.5); a['b2']=((Math.sin((((a['time']*0.3)+a['t2'])-(2*a['pi23'])))+1)*0.5);}());","init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\nma=ma-(above(mid,1)*3.1415*.05*mid);\n\nmx=mx+(.0001*tan(ma));\nmy=my+(.0001*sin(ma));\n\nmx=if(above(mx,1.05),(1.05-mx),mx);\nmy=if(above(my,.9),(.9-my),my);\nmx=if(below(mx,0.12),(0.77+mx),mx);\nmy=if(below(my,.1),(.9+my),my);\n\nx=1-mx;\ny=1-my;\n\nang=(sin(time*.30)+1)*3.3;\na=(above(bass+mid+treb,.8));\npi23=4*asin(1)*.333333333;\nt2=0;//bass+mid+treb;\nr=(sin(time*.3+t2-0*pi23)+1)*.5;\ng=(sin(time*.3+t2-1*pi23)+1)*.5;\nb=(sin(time*.3+t2-2*pi23)+1)*.5;\nr2=(sin(time*0.28+t2-0*pi23)+1)*.5;\ng2=(sin(time*0.27+t2-1*pi23)+1)*0.5;\nb2=(sin(time*.3+t2-2*pi23)+1)*.5;"},{"baseVals":{"border_g":0.95,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"g2":1.01,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"thick":1},"init_eqs_str":"(function(){a['ma'] = 0; a['mx'] = 0; a['my'] = 0; a['pi23'] = 0; a['t1'] = 0; }());","frame_eqs_str":"","point_eqs_str":"(function(){a['ma']=(a['ma']+(((above(a['bass'], 1)*3.1415)*0.01)*a['bass'])); a['ma']=(a['ma']-(((above(a['treb'], 1)*3.1415)*0.01)*a['treb'])); a['mx']=(a['mx']+(0.0002*Math.cos(a['ma']))); a['my']=(a['my']+(0.0002*Math.tan(a['ma']))); a['mx']=((Math.abs(above(a['mx'], 0.9))>0.00001)?((0.9-a['mx'])):(a['mx'])); a['my']=((Math.abs(above(a['my'], 0.9))>0.00001)?((0.9-a['my'])):(a['my'])); a['mx']=((Math.abs(below(a['mx'], 0.1))>0.00001)?((0.9+a['mx'])):(a['mx'])); a['my']=((Math.abs(below(a['my'], 0.1))>0.00001)?((0.9+a['my'])):(a['my'])); a['x']=(1-a['mx']); a['y']=a['my']; a['a']=above(((a['bass']+a['mid'])+a['treb']), 0.93); a['pi23']=((4*Math.asin(1))*0.333333333); a['t1']=((a['bass']+a['mid'])+a['treb']); a['r']=((Math.sin((((a['time']*0.3)+a['t1'])-(0*a['pi23'])))+1)*0.5); a['g']=((Math.sin((((a['time']*0.3)+a['t1'])-(1*a['pi23'])))+1)*0.5); a['b']=((Math.sin((((a['time']*0.3)+a['t1'])-(2*a['pi23'])))+1)*0.5);}());","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\nma=ma-(above(treb,1)*3.1415*.01*treb);\n\nmx=mx+(.0002*cos(ma));\nmy=my+(.0002*tan(ma));\n\nmx=if(above(mx,.9),(.9-mx),mx);\nmy=if(above(my,.9),(.9-my),my);\nmx=if(below(mx,.1),(.9+mx),mx);\nmy=if(below(my,.1),(.9+my),my);\n\nx=1-mx;\ny=my;\n\na=(above(bass+mid+treb,0.93));\npi23=4*asin(1)*.333333333;\nt1=bass+mid+treb;\nr=(sin(time*.3+t1-0*pi23)+1)*.5;\ng=(sin(time*.3+t1-1*pi23)+1)*.5;\nb=(sin(time*.3+t1-2*pi23)+1)*.5;"},{"baseVals":{"enabled":1,"thick":1},"init_eqs_str":"(function(){a['ma'] = 0; a['mx'] = 0; a['my'] = 0; a['pi23'] = 0; a['t1'] = 0; }());","frame_eqs_str":"","point_eqs_str":"(function(){a['ma']=(a['ma']+(((above(a['bass'], 1)*3.1415)*0.05)*a['bass'])); a['ma']=(a['ma']-(((above(a['mid'], 1)*3.1415)*0.05)*a['mid'])); a['mx']=(a['mx']+(0.00011*Math.tan(a['ma']))); a['my']=(a['my']+(0.0001*Math.sin(a['ma']))); a['mx']=((Math.abs(above(a['mx'], 0.9))>0.00001)?((0.9-a['mx'])):(a['mx'])); a['my']=((Math.abs(above(a['my'], 0.75))>0.00001)?((0.75-a['my'])):(a['my'])); a['mx']=((Math.abs(below(a['mx'], 0.1))>0.00001)?((0.9+a['mx'])):(a['mx'])); a['my']=((Math.abs(below(a['my'], 0.1))>0.00001)?((0.9+a['my'])):(a['my'])); a['x']=(1-a['mx']); a['y']=(1-a['my']); a['a']=above(((a['bass']+a['mid'])+a['treb']), 0.11); a['pi23']=((4*Math.asin(1))*0.333333333); a['t1']=((a['bass']+a['mid'])+a['treb']); a['r']=((Math.sin((((a['time']*0.3)+a['t1'])-(0*a['pi23'])))+1)*0.5); a['g']=((Math.sin((((a['time']*0.3)+a['t1'])-(1*a['pi23'])))+1)*0.5); a['b']=((Math.sin((((a['time']*0.3)+a['t1'])-(2*a['pi23'])))+1)*0.5);}());","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\nma=ma-(above(mid,1)*3.1415*.05*mid);\n\nmx=mx+(0.00011*tan(ma));\nmy=my+(.0001*sin(ma));\n\nmx=if(above(mx,.9),(.9-mx),mx);\nmy=if(above(my,0.75),(0.75-my),my);\nmx=if(below(mx,.1),(.9+mx),mx);\nmy=if(below(my,.1),(.9+my),my);\n\nx=1-mx;\ny=1-my;\n\na=(above(bass+mid+treb,0.11));\npi23=4*asin(1)*.333333333;\nt1=bass+mid+treb;\nr=(sin(time*.3+t1-0*pi23)+1)*.5;\ng=(sin(time*.3+t1-1*pi23)+1)*.5;\nb=(sin(time*.3+t1-2*pi23)+1)*.5;"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"(function(){ma=ma+(above(mid,1)*3.1415*.01*mid);\nma=ma-(above(treb,1)*3.1415*.01*treb);\n\nmx=mx+(.0004*cos(ma));\nmy=my+(.0004*sin(ma));\n\nmx=if(above(mx,.9),(.9-mx),mx);\nmy=if(above(my,.9),(.9-my),my);\nmx=if(below(mx,.1),(.9+mx),mx);\nmy=if(below(my,.1),(.9+my),my);\n\nx=mx;\ny=my;\n\na=(above(bass+mid+treb,.3));}());","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"(function(){ma=ma+(above(mid,1)*3.1415*.01*mid);\nma=ma-(above(treb,1)*3.1415*.01*treb);\n\nmx=mx+(.0004*cos(ma));\nmy=my+(.0004*sin(ma));\n\nmx=if(above(mx,.9),(.9-mx),mx);\nmy=if(above(my,.9),(.9-my),my);\nmx=if(below(mx,.1),(.9+mx),mx);\nmy=if(below(my,.1),(.9+my),my);\n\nx=mx;\ny=my;\n\na=(above(bass+mid+treb,.3));}());"},{"baseVals":{"thick":1,"b":1.16,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"(function(){ma=ma+(above(bass,.5)*3.1415*.02*bass);\nma=ma-(above(treb,.5)*3.1415*.02*treb);\n\nmx=mx+(.0008*cos(ma));\nmy=my+(.0008*sin(ma));\n\nmx=if(above(mx,.9),(.9-mx),mx);\nmy=if(above(my,.9),(.9-my),my);\nmx=if(below(mx,.1),(.9+mx),mx);\nmy=if(below(my,.1),(.9+my),my);\n\nx=mx;\ny=my;\n\na=(above(bass+mid+treb,0.22));}());","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"(function(){ma=ma+(above(bass,.5)*3.1415*.02*bass);\nma=ma-(above(treb,.5)*3.1415*.02*treb);\n\nmx=mx+(.0008*cos(ma));\nmy=my+(.0008*sin(ma));\n\nmx=if(above(mx,.9),(.9-mx),mx);\nmy=if(above(my,.9),(.9-my),my);\nmx=if(below(mx,.1),(.9+mx),mx);\nmy=if(below(my,.1),(.9+my),my);\n\nx=mx;\ny=my;\n\na=(above(bass+mid+treb,0.22));}());"}],"init_eqs_str":"(function(){a['trel3'] = 0; a['index2'] = 0; a['q25'] = 0; a['index'] = 0; a['q12'] = 0; a['q18'] = 0; a['q22'] = 0; a['q21'] = 0; a['q13'] = 0; a['q15'] = 0; a['q29'] = 0; a['q6'] = 0; a['movex'] = 0; a['q1'] = 0; a['dec_med'] = 0; a['q5'] = 0; a['q9'] = 0; a['rott'] = 0; a['is_beat'] = 0; a['q23'] = 0; a['k1'] = 0; a['q24'] = 0; a['dec_slow'] = 0; a['q11'] = 0; a['q4'] = 0; a['q16'] = 0; a['q26'] = 0; a['trot'] = 0; a['p2'] = 0; a['mov'] = 0; a['avg'] = 0; a['movez'] = 0; a['trel4'] = 0; a['q19'] = 0; a['beat'] = 0; a['q17'] = 0; a['trel2'] = 0; a['p1'] = 0; a['peak'] = 0; a['q2'] = 0; a['q27'] = 0; a['q14'] = 0; a['movey'] = 0; a['trel1'] = 0; a['q3'] = 0; a['t0'] = 0; a['q7'] = 0; a['q28'] = 0; a['q30'] = 0; a['q20'] = 0; a['q8'] = 0; a['dirx']=1;}());","frame_eqs_str":"(function(){a['dec_med']=pow(0.69, div(30,a['fps'])); a['dec_slow']=pow(0.9, div(30,a['fps'])); a['beat']=Math.max(Math.max(a['bass'], a['mid']), a['treb']); a['avg']=((a['avg']*a['dec_slow'])+(a['beat']*(1-a['dec_slow']))); a['is_beat']=(above(a['beat'], (a['avg']+a['peak']))*above(a['time'], (a['t0']+0.1))); a['t0']=((a['is_beat']*a['time'])+((1-a['is_beat'])*a['t0'])); a['peak']=((a['is_beat']*a['beat'])+(((1-a['is_beat'])*a['peak'])*a['dec_med'])); a['index']=mod((a['index']+a['is_beat']),16); a['index2']=mod((a['index2']+(a['is_beat']*bnot(a['index']))),4); a['q20']=a['avg']; a['q21']=a['beat']; a['q22']=a['peak']; a['q23']=a['index']; a['q24']=a['is_beat']; a['q26']=((a['bass']+a['mid'])+a['treb']); a['q29']=(2*(mod(a['index2'],2)-0.5)); a['q25']=Math.min(1, div(a['q22'],2)); a['k1']=(a['is_beat']*equal(mod(a['index'],4), 0)); a['p1']=((a['k1']*(a['p1']+1))+((1-a['k1'])*a['p1'])); a['p2']=((a['dec_med']*a['p2'])+((1-a['dec_med'])*a['p1'])); a['rott']=div((a['p2']*3.1416),4); a['q1']=Math.cos(a['rott']); a['q2']=Math.sin(a['rott']); a['q3']=-a['q2']; a['q4']=a['q1']; a['q27']=a['index']; a['q28']=a['index2']; a['mov']=((a['mov']*a['dec_med'])+((1-a['dec_med'])*above(mod(a['index'],8), 2))); a['movez']=(a['movez']+(div(1,a['fps'])*a['mov'])); a['q30']=a['movez']; a['q8']=a['movex']; a['q9']=a['movey']; a['trel1']=(a['trel1']+div(((a['q1']*a['q22'])*3),a['fps'])); a['trel2']=(a['trel2']+div(((a['q2']*a['q22'])*2),a['fps'])); a['trel3']=(a['trel3']+div((4*(1-a['mov'])),a['fps'])); a['trel4']=(a['trel4']+div((1*a['mov']),a['fps'])); a['q11']=(0.3*Math.sin(a['trel1'])); a['q12']=(0.1*Math.cos(a['trel2'])); a['q13']=(8+(6*Math.sin(a['trel3']))); a['q14']=(0.3*Math.sin(a['trel2'])); a['q15']=(0.2*Math.cos(a['trel3'])); a['q16']=(6+(3*Math.sin(a['trel1']))); a['q17']=(0.3*Math.sin(a['trel4'])); a['q18']=(0.3*Math.cos(a['trel2'])); a['q19']=(3+Math.sin(a['trel3'])); a['trot']=div(a['trel1'],2); a['trot']=div((a['index2']*6.28),4); a['q5']=Math.cos(a['trot']); a['q6']=Math.sin(a['trot']); a['q7']=-a['q6']; a['q8']=a['q5'];}());","pixel_eqs_str":"","init_eqs_eel":"dirx = 1;","frame_eqs_eel":"dec_med = pow (0.69, 30/fps);\ndec_slow = pow (0.9, 30/fps);\nbeat = max (max (bass, mid), treb); \navg = avg*dec_slow + beat*(1-dec_slow);\nis_beat = above(beat, avg+peak) * above (time, t0+.1);\nt0 = is_beat*time + (1-is_beat)*t0;\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\nindex = (index + is_beat) %16;\nindex2 = (index2 + is_beat*bnot(index))%4;\n\nq20 = avg;\nq21 = beat;\nq22 = peak;\nq23 = index;\nq24 = is_beat;\nq26 = bass + mid + treb;\nq29 = 2 * (index2%2-.5);\nq25 = min(1,q22/2);\n\nk1 =  is_beat*equal(index%4,0);\np1 =  k1*(p1+1) + (1-k1)*p1;\np2 = dec_med * p2+ (1-dec_med)*p1;\nrott = p2 * 3.1416/4;\nq1 = cos(rott);\nq2 = sin(rott);\nq3 = -q2;\nq4 = q1;\n\n\nq27 = index;\nq28 = index2;\n\nmov = mov*dec_med + (1-dec_med)*above(index%8,2);\nmovez = movez + 1/fps*mov;\nq30 = movez;\n//**************************\n\nq8 = movex; q9 = movey;\n\ntrel1 = trel1 + (q1*q22*3)/fps;\ntrel2 = trel2 + (q2*q22*2)/fps;\ntrel3 = trel3 + 4*(1-mov)/fps;\ntrel4 = trel4 + 1 * mov/fps;\n\nq11 = .3*sin(trel1); \nq12 = 0.1*cos(trel2); \nq13 = 8 + 6*sin(trel3);\n\nq14 = .3*sin(trel2); \nq15 = .2*cos(trel3) ; \nq16 = 6 + 3*sin(trel1);\n\nq17 = .3*sin(trel4); \nq18 = .3*cos(trel2); \nq19 = 3 + sin(trel3);\n\ntrot = trel1/2;\ntrot = index2*6.28/4;\nq5 = cos(trot);\nq6 = sin(trot);\nq7 = -q6;\nq8 = q5;","pixel_eqs_eel":"//zoom=1.02-sin(time*q4*3.14*.01+3.14*bass_att)*0.001*(.5-rad*sin(ang+treb-bass_att*3));","warp":"#define MyGet GetPixel //GetBlur1\nshader_body\n{\n    // GROW EFFECT - bright pixels spread radially outward.\n    // BE CAREFUL - this can really thrash the texture cache! (SLOW)\n    float grad_rad = 3;  //TWEAK\n    float str = 2.3;      //TWEAK\n    vec3 d = vec3(texsize.zw, 0) * grad_rad;\n    vec4 lums = 0;\n    lums.x = lum( MyGet(uv + texsize.zw*d.xz) );\n    lums.y = lum( MyGet(uv - texsize.zw*d.xz) );\n    lums.z = lum( MyGet(uv + texsize.zw*d.zy) );\n    lums.w = lum( MyGet(uv - texsize.zw*d.zy) );\n    vec2 grad = vec2(lums.x-lums.y, lums.z-lums.w)*str*1000/grad_rad;\n    grad = (clamp(grad*0.5+0.5, 0.0, 1.0)*2-1)*1.4;\n    // sample previous frame\n    ret = texture( sampler_fc_main, uv + grad*texsize.zw ).xyz;\n\n    // darken (decay) over time\n    ret *= 0.95; //or try: ret -= 0.004;\n}","comp":"shader_body\n{\nvec2 uv2=uv;\nuv2.x=1-uv2.x;\nvec2 uv3=uv;\nuv3.y=1-uv3.y;\n\n    vec2 d = texsize.zw*4;\n    float dx = ( ((texture(sampler_blur1, uv+vec2(1,0)*d).xyz * scale1) + bias1)-((texture(sampler_blur1, uv-vec2(1,0)*d).xyz * scale1) + bias1) ).y;\n    float dy = ( ((texture(sampler_blur1, uv+vec2(0,1)*d).xyz * scale1) + bias1)-((texture(sampler_blur1, uv-vec2(0,1)*d).xyz * scale1) + bias1) ).y;\n    vec2 uv_y = uv-vec2(dx,dy)*0.4;\n\n    vec2 d2 = texsize.zw*4;\n    float dx2 = ( ((texture(sampler_blur1, uv2+vec2(1,0)*d2).xyz * scale1) + bias1)-((texture(sampler_blur1, uv2-vec2(1,0)*d2).xyz * scale1) + bias1) ).y;\n    float dy2 = ( ((texture(sampler_blur1, uv2+vec2(0,1)*d2).xyz * scale1) + bias1)-((texture(sampler_blur1, uv2-vec2(0,1)*d2).xyz * scale1) + bias1) ).y;\n    vec2 uv2_y = uv2-vec2(dx2,dy2)*0.36;\n\n    vec2 d3 = texsize.zw*4;\n    float dx3 = ( ((texture(sampler_blur1, uv3+vec2(1,0)*d3).xyz * scale1) + bias1)-((texture(sampler_blur1, uv3-vec2(1,0)*d3).xyz * scale1) + bias1) ).y;\n    float dy3 = ( ((texture(sampler_blur1, uv3+vec2(0,1)*d3).xyz * scale1) + bias1)-((texture(sampler_blur1, uv3-vec2(0,1)*d3).xyz * scale1) + bias1) ).y;\n    vec2 uv3_y = uv3-vec2(dx3,dy3)*0.36;\n\nret = mix(vec3(1,1.1,1.8)*texture(sampler_fc_main, uv_y).x,\n           mix(vec3(1.8,0.4,2.5),vec3(2.8,2.4,0),texture(sampler_main, uv).xyz.z),\n           ((texture(sampler_blur1, uv).xyz * scale1) + bias1).y*0.5);\nret = mix( ret, vec3(1.4,1,2.3), texture(sampler_main, uv_y).xyz.z);\n\nvec3 ret2= mix(vec3(0,0.5,2.7)*texture(sampler_fc_main, uv2_y).x,\n           mix(vec3(0,2.5,1),vec3(2.9,0.3,2.8),texture(sampler_main, uv2).xyz.z),\n           ((texture(sampler_blur1, uv2).xyz * scale1) + bias1).y*0.5);\nret2= mix( ret2, vec3(0.2,2.2,2.8), texture(sampler_main, uv_y).xyz.z);\n\nvec3 ret3= mix(vec3(1.9,0.9,0.5)*texture(sampler_fc_main, uv3_y).x,\n           mix(vec3(2.1,0.9,2.5),vec3(1.9,0.5,1.9),texture(sampler_main, uv3).xyz.z),\n           ((texture(sampler_blur1, uv3).xyz * scale1) + bias1).y*0.54);\nret3= mix( ret3, vec3(1.7,0.5,1.6), texture(sampler_main, uv3_y).xyz.z);\n\nret+=ret-ret3;\n}\n","warp_hlsl":"#define MyGet GetPixel //GetBlur1\nshader_body\n{\n    // GROW EFFECT - bright pixels spread radially outward.\n    // BE CAREFUL - this can really thrash the texture cache! (SLOW)\n    float grad_rad = 3;  //TWEAK\n    float str = 2.3;      //TWEAK\n    float3 d = float3(texsize.zw, 0) * grad_rad;\n    float4 lums = 0;\n    lums.x = lum( MyGet(uv + texsize.zw*d.xz) );\n    lums.y = lum( MyGet(uv - texsize.zw*d.xz) );\n    lums.z = lum( MyGet(uv + texsize.zw*d.zy) );\n    lums.w = lum( MyGet(uv - texsize.zw*d.zy) );\n    float2 grad = float2(lums.x-lums.y, lums.z-lums.w)*str*1000/grad_rad;\n    grad = (saturate(grad*0.5+0.5)*2-1)*1.4;\n    // sample previous frame\n    ret = tex2D( sampler_fc_main, uv + grad*texsize.zw ).xyz;\n\n    // darken (decay) over time\n    ret *= 0.95; //or try: ret -= 0.004;\n}","comp_hlsl":"shader_body\n{\nfloat2 uv2=uv;\nuv2.x=1-uv2.x;\nfloat2 uv3=uv;\nuv3.y=1-uv3.y;\n\n    float2 d = texsize.zw*4;\n    float1 dx = ( GetBlur1(uv+float2(1,0)*d)-GetBlur1(uv-float2(1,0)*d) ).y;\n    float1 dy = ( GetBlur1(uv+float2(0,1)*d)-GetBlur1(uv-float2(0,1)*d) ).y;\n    float2 uv_y = uv-float2(dx,dy)*0.4;\n\n    float2 d2 = texsize.zw*4;\n    float1 dx2 = ( GetBlur1(uv2+float2(1,0)*d2)-GetBlur1(uv2-float2(1,0)*d2) ).y;\n    float1 dy2 = ( GetBlur1(uv2+float2(0,1)*d2)-GetBlur1(uv2-float2(0,1)*d2) ).y;\n    float2 uv2_y = uv2-float2(dx2,dy2)*0.36;\n\n    float2 d3 = texsize.zw*4;\n    float1 dx3 = ( GetBlur1(uv3+float2(1,0)*d3)-GetBlur1(uv3-float2(1,0)*d3) ).y;\n    float1 dy3 = ( GetBlur1(uv3+float2(0,1)*d3)-GetBlur1(uv3-float2(0,1)*d3) ).y;\n    float2 uv3_y = uv3-float2(dx3,dy3)*0.36;\n\nret = lerp(float3(1,1.1,1.8)*tex2D(sampler_fc_main, uv_y).x,\n           lerp(float3(1.8,0.4,2.5),float3(2.8,2.4,0),GetPixel(uv).z),\n           GetBlur1(uv).y*0.5);\nret = lerp( ret, float3(1.4,1,2.3), GetPixel(uv_y).z);\n\nfloat3 ret2= lerp(float3(0,0.5,2.7)*tex2D(sampler_fc_main, uv2_y).x,\n           lerp(float3(0,2.5,1),float3(2.9,0.3,2.8),GetPixel(uv2).z),\n           GetBlur1(uv2).y*0.5);\nret2= lerp( ret2, float3(0.2,2.2,2.8), GetPixel(uv_y).z);\n\nfloat3 ret3= lerp(float3(1.9,0.9,0.5)*tex2D(sampler_fc_main, uv3_y).x,\n           lerp(float3(2.1,0.9,2.5),float3(1.9,0.5,1.9),GetPixel(uv3).z),\n           GetBlur1(uv3).y*0.54);\nret3= lerp( ret3, float3(1.7,0.5,1.6), GetPixel(uv3_y).z);\n\nret+=ret-ret3;\n}\n"}