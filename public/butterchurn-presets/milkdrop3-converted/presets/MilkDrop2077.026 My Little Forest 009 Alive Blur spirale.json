{"version":2,"baseVals":{"rating":3,"decay":1,"echo_zoom":1,"echo_orient":1,"wave_mode":6,"wave_thick":1,"wave_a":0.5,"wave_scale":3.272,"wave_smoothing":0.9,"zoom":1.3345,"wave_r":0.6,"wave_g":0.6,"wave_b":0.6,"mv_a":0,"b1x":0.97,"b2x":0.78,"b3x":0.79,"b1ed":0.31},"shapes":[{"baseVals":{"enabled":1,"sides":100,"rad":0.2004,"g":1,"b":1,"r2":0.5,"g2":0.445,"b2":0.94,"border_b":0.5,"border_a":0},"init_eqs_str":"(function(){a['sounds'] = 0; a['att'] = 0; }());","frame_eqs_str":"(function(){a['sounds']=((a['bass']+a['treb'])+a['mid']); a['att']=div(((a['bass_att']+a['treb_att'])+a['mid_att']),13); a['att']=div(((a['bass_att']+a['treb_att'])+a['mid_att']),13); a['r2']=((a['r2']+(0.25*Math.sin((a['time']*16.28))))-a['bass']); a['g2']=((a['g2']+(1.25*Math.sin((a['time']*16.28))))-a['bass']); a['rad']=0.2;}());","init_eqs_eel":"","frame_eqs_eel":"sounds=(bass+treb+mid);\natt=(bass_att+treb_att+mid_att)/13;\natt=(bass_att+treb_att+mid_att)/13;\nr2=r2+(0.25*sin(time*16.28))-bass;\ng2=g2+(1.25*sin(time*16.28))-bass;\n\nrad=0.2;\n//x=x+0.243*tan(time/2)+sounds*0.09;\n//y=y+0.217*sin((time/1.5)+(sounds*0.3));"},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"usedots":1,"thick":1,"additive":1,"a":0},"init_eqs_str":"(function(){a['i'] = 0; a['t1'] = 0; a['speed'] = 0; a['z'] = 0; a['out'] = 0; }());","frame_eqs_str":"","point_eqs_str":"(function(){a['i']=a['t1']; a['speed']=0.06; a['z']=a['megabuf'][Math.floor(((3*a['i'])+2))]; a['x']=(div(a['megabuf'][Math.floor((3*a['i']))],a['z'])+0.5); a['y']=((div(a['megabuf'][Math.floor(((3*a['i'])+1))],a['z'])*a['reg32'])+0.15); a['out']=((((((((((a['x']>1)?1:0)||((a['x']<0)?1:0))?1:0)||((a['y']>1)?1:0))?1:0)||((a['y']<0)?1:0))?1:0)||((a['z']<0)?1:0))?1:0); ((Math.abs(a['out'])>0.00001)?((function(){a['megabuf'][Math.floor((3*a['i']))]=div((rand(2)-1),8); a['megabuf'][Math.floor(((3*a['i'])+1))]=div((rand(2)-1),8); return a['megabuf'][Math.floor(((3*a['i'])+2))]=rand(1);})()):(a['megabuf'][Math.floor(((a['i']*3)+2))]-=div(a['speed'],50))); a['a']=div((1-pow(a['z'], 1)),2); a['t1']+=1;}());","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"i=t1;\nspeed=.06;\n\nz=megabuf(3*i+2);\nx = megabuf(3*i)/z+.5;\ny = megabuf(3*i+1)/z*reg32+0.15;\n\nout=(x>1)||(x<0)||(y>1)||(y<0)||(z<0);\nif (out,\n  megabuf(3*i)= (rand(2)-1)/8; //x\n  megabuf(3*i+1)=(rand(2)-1)/8; //y\n  megabuf(3*i+2)=rand(1);\n,\n  megabuf(i*3+2)-=speed/50;\n);\n\na=(1-pow(z,1))/2;\nt1+=1;"},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_str":"(function(){a['oldshift'] = 0; a['shift'] = 0; a['normalframez'] = 0; a['crash'] = 0; a['nex'] = 0; a['rshift'] = 0; a['q1'] = 0; a['zoom1'] = 0;}());","frame_eqs_str":"(function(){a['dx']=0; a['oldshift']=a['shift']; a['normalframez']=(a['normalframez']+1); a['shift']=(above(a['bass_att'], 1)*above(a['treb_att'], 0.9)); a['crash']=Math.abs((a['oldshift']-a['shift'])); a['nex']=((equal(a['rshift'], 0)*1)+(equal(a['rshift'], 1)*2)); a['rshift']=((Math.abs(a['crash'])>0.00001)?(a['nex']):(a['rshift'])); a['monitor']=a['rshift']; a['wave_r']=div(Math.floor(rand(200)),200); a['wave_g']=div(Math.floor(rand(200)),200); a['wave_b']=div(Math.floor(rand(200)),200); a['warp']=0; a['q1']=above(a['bass_att'], 1.3); a['zoom1']=((a['zoom']+0.15)-(0.3*mod(a['normalframez'],2))); a['zoom']=((Math.abs(a['shift'])>0.00001)?(a['zoom1']):(1)); a['rot']=((a['rot']-0.1)+(a['rshift']*0.1));}());","pixel_eqs_str":"(function(){a['dy']=((-below(a['y'], 0.4)*0.007)+(above(a['y'], 0.6)*0.007));}());","init_eqs_eel":"","frame_eqs_eel":"dx=0;\noldshift=shift;\nnormalframez=normalframez+1;\nshift=above(bass_att,1)*above(treb_att,0.9);\ncrash=abs(oldshift-shift);\nnex=equal(rshift,0)*1+equal(rshift,1)*2;\nrshift=if(crash,nex,rshift);\nmonitor=rshift;\nwave_r=int(rand(200))/200;\nwave_g=int(rand(200))/200;\nwave_b=int(rand(200))/200;\nwarp=0;\nq1=above(bass_att,1.3);\nzoom1=zoom+0.15-0.3*(normalframez%2);\nzoom=if(shift,zoom1,1);\nrot=rot-0.1+rshift*0.1;","pixel_eqs_eel":"dy=-below(y,0.4)*0.007+above(y,0.6)*0.007;","warp":"vec2 complex_mul(vec2 factorA, vec2 factorB){\n   return vec2( factorA.x*factorB.x - factorA.y*factorB.y, factorA.x*factorB.y + factorA.y*factorB.x);\n}\n\nvec2 complex_pow(vec2 base, int exponent){\n   vec2 exponentiation = vec2(1,0);\n   for(int i = 0; i<exponent; i++){\n      exponentiation = complex_mul(base,exponentiation);\n   }\n   return exponentiation;\n}\n\nvec2 complex_square(vec2 domain){\n   return complex_mul(domain,domain);\n}\n\nvec2 complex_div(vec2 numerator, vec2 denominator){\n   return vec2( numerator.x*denominator.x + numerator.y*denominator.y,\n                  numerator.y*denominator.x - numerator.x*denominator.y)/\n          (denominator.x*denominator.x + denominator.y*denominator.y);\n}\n\nvec2 uv_aspect(vec2 uvo, vec2 uvm, vec2 aspectr, vec2 motion_scale){\n   return 0.5 + (mix(uvo,uvm,motion_scale)-0.5)*aspectr;\n}\n\nvec2 uv_scale(vec2 domain, vec2 center, vec2 scale){\n   return center + (domain-center)*scale;\n}\n\nvec2 uv_torus_mirror(vec2 domain, float cutoff){\n   return 0.5 + (1.0 - abs( fract( domain * 0.5 ) * 2 - 1.0 )-0.5)*cutoff;\n}\n\nbool mask_rectangle(vec2 domain, vec2 position, vec2 dimensions){\n   return (domain.x>position.x-dimensions.x)*(domain.x<position.x+dimensions.x)*\n          (domain.y>position.y-dimensions.y)*(domain.y<position.y+dimensions.y);\n}\n\nbool mask_circle(vec2 domain, vec2 position, float radius){\n   return length(domain-position)<radius;\n}\n\nbool mask_spiral_logarithmic(vec2 domain, vec2 center, int fins, float thickness, float spiral_factor, float zoom){\n   vec2 c = domain - center;\n   float rad_hq = length(c);\n   float ang_hq = atan(c.x,c.y);\n\n   return fract(fins*ang_hq*M_INV_PI_2 + spiral_factor*log(1/rad_hq)+zoom)<thickness;\n}\n\nfloat figure_spiral_logarithmic(vec2 domain, vec2 center, int fins, float thickness, float spiral_factor, float zoom){\n   vec2 c = domain - center;\n   float rad_hq = length(c);\n   float ang_hq = atan(c.x,c.y);\n\n   return clamp(1-uv_torus_mirror(fins*ang_hq*M_INV_PI_2*2 + spiral_factor*log(1/rad_hq)+zoom,0.999)/thickness, 0.0, 1.0);\n}\n\nfloat figure_circle(vec2 domain, vec2 position, float radius){\n   return clamp(1-length(domain-position)/radius, 0.0, 1.0);\n}\n\nfloat figure_orb_of_3(vec2 domain){\n   vec2 help_uv = domain;\n   help_uv = uv_scale(help_uv, 0.5, 4);\n   help_uv = 0.5 + complex_pow(help_uv-0.5,3);\n   help_uv = uv_scale(help_uv, 0.5, 1);\n\n   return figure_circle(help_uv,vec2(0,0.5),0.6);\n}\n\nfloat figure_orb_of_spiral_of_3(vec2 domain){\n   vec2 help_uv = domain;\n   help_uv = uv_scale(help_uv, 0.5, 0.33);\n   help_uv = 0.5 + complex_pow(help_uv-0.5,3);\n   help_uv = uv_scale(help_uv, 0.5, 640);\n\n   return figure_spiral_logarithmic(help_uv, vec2(0.4,0.5), -4, 1, 2, -time*4);\n}\n\nshader_body\n{\nvec2 base_uv = uv_aspect(uv_orig, uv, aspect.wz, 0);\nret = mask_rectangle(base_uv,0.5,0.1);\nret = mask_spiral_logarithmic(base_uv, 0.5, -1, 0.5, 0.4, time);\nvec2 scaled_uv = uv_scale(base_uv, 0.5, 1);\nvec2 mirrored_uv = uv_torus_mirror(scaled_uv,1);\nret = mask_circle(mirrored_uv,0.5,0.1);\nret = mask_spiral_logarithmic(base_uv, 0.5, -1, 0.5, 0.4, time);\n//ret = figure_circle(mirrored_uv,vec2(-0.5,0.5),1.2);\nret = figure_orb_of_3(base_uv);\nret = figure_orb_of_spiral_of_3(base_uv);\n//ret = figure_spiral_logarithmic(base_uv, 0.5, 4, 0.75, 2, time*2);\n\n}","comp":"shader_body\n{float str=0.24;\n//ret=texture(sampler_main,uv).zyx;\nret=texture(sampler_main, uv).xyz;\nvec2 newuv;\nvec3 m[3];\nm[0]=texture(sampler_main, uv-(0.44-ret.xy)*str).xyz;\nm[1]=texture(sampler_main, uv-(0.38-ret.yz)*str).xyz;\nm[2]=texture(sampler_main, uv-(0.59-ret.xz)*str).xyz;\n//ret=vec3(0.1,2.9,0.5),lum(m[1]),lum(m[2])); //MilkDrop2077 color mod\nret=(m[0]*m[1]*m[2])*1.1;\nret=ret*((texture(sampler_blur2, uv).xyz * scale2) + bias2);\nret/=0.3;\n//MilkDrop3 Color Mode:\nret /= vec3(2.1,2.2,2.6);\n}","warp_hlsl":"float2 complex_mul(float2 factorA, float2 factorB){\n   return float2( factorA.x*factorB.x - factorA.y*factorB.y, factorA.x*factorB.y + factorA.y*factorB.x);\n}\n\nfloat2 complex_pow(float2 base, int exponent){\n   float2 exponentiation = float2(1,0);\n   for(int i = 0; i<exponent; i++){\n      exponentiation = complex_mul(base,exponentiation);\n   }\n   return exponentiation;\n}\n\nfloat2 complex_square(float2 domain){\n   return complex_mul(domain,domain);\n}\n\nfloat2 complex_div(float2 numerator, float2 denominator){\n   return float2( numerator.x*denominator.x + numerator.y*denominator.y,\n                  numerator.y*denominator.x - numerator.x*denominator.y)/\n          (denominator.x*denominator.x + denominator.y*denominator.y);\n}\n\nfloat2 uv_aspect(float2 uvo, float2 uvm, float2 aspectr, float2 motion_scale){\n   return 0.5 + (lerp(uvo,uvm,motion_scale)-0.5)*aspectr;\n}\n\nfloat2 uv_scale(float2 domain, float2 center, float2 scale){\n   return center + (domain-center)*scale;\n}\n\nfloat2 uv_torus_mirror(float2 domain, float cutoff){\n   return 0.5 + (1.0 - abs( frac( domain * 0.5 ) * 2 - 1.0 )-0.5)*cutoff;\n}\n\nbool mask_rectangle(float2 domain, float2 position, float2 dimensions){\n   return (domain.x>position.x-dimensions.x)*(domain.x<position.x+dimensions.x)*\n          (domain.y>position.y-dimensions.y)*(domain.y<position.y+dimensions.y);\n}\n\nbool mask_circle(float2 domain, float2 position, float radius){\n   return length(domain-position)<radius;\n}\n\nbool mask_spiral_logarithmic(float2 domain, float2 center, int fins, float thickness, float spiral_factor, float zoom){\n   float2 c = domain - center;\n   float rad_hq = length(c);\n   float ang_hq = atan2(c.x,c.y);\n\n   return frac(fins*ang_hq*M_INV_PI_2 + spiral_factor*log(1/rad_hq)+zoom)<thickness;\n}\n\nfloat figure_spiral_logarithmic(float2 domain, float2 center, int fins, float thickness, float spiral_factor, float zoom){\n   float2 c = domain - center;\n   float rad_hq = length(c);\n   float ang_hq = atan2(c.x,c.y);\n\n   return saturate(1-uv_torus_mirror(fins*ang_hq*M_INV_PI_2*2 + spiral_factor*log(1/rad_hq)+zoom,0.999)/thickness);\n}\n\nfloat figure_circle(float2 domain, float2 position, float radius){\n   return saturate(1-length(domain-position)/radius);\n}\n\nfloat figure_orb_of_3(float2 domain){\n   float2 help_uv = domain;\n   help_uv = uv_scale(help_uv, 0.5, 4);\n   help_uv = 0.5 + complex_pow(help_uv-0.5,3);\n   help_uv = uv_scale(help_uv, 0.5, 1);\n\n   return figure_circle(help_uv,float2(0,0.5),0.6);\n}\n\nfloat figure_orb_of_spiral_of_3(float2 domain){\n   float2 help_uv = domain;\n   help_uv = uv_scale(help_uv, 0.5, 0.33);\n   help_uv = 0.5 + complex_pow(help_uv-0.5,3);\n   help_uv = uv_scale(help_uv, 0.5, 640);\n\n   return figure_spiral_logarithmic(help_uv, float2(0.4,0.5), -4, 1, 2, -time*4);\n}\n\nshader_body\n{\nfloat2 base_uv = uv_aspect(uv_orig, uv, aspect.wz, 0);\nret = mask_rectangle(base_uv,0.5,0.1);\nret = mask_spiral_logarithmic(base_uv, 0.5, -1, 0.5, 0.4, time);\nfloat2 scaled_uv = uv_scale(base_uv, 0.5, 1);\nfloat2 mirrored_uv = uv_torus_mirror(scaled_uv,1);\nret = mask_circle(mirrored_uv,0.5,0.1);\nret = mask_spiral_logarithmic(base_uv, 0.5, -1, 0.5, 0.4, time);\n//ret = figure_circle(mirrored_uv,float2(-0.5,0.5),1.2);\nret = figure_orb_of_3(base_uv);\nret = figure_orb_of_spiral_of_3(base_uv);\n//ret = figure_spiral_logarithmic(base_uv, 0.5, 4, 0.75, 2, time*2);\n\n}","comp_hlsl":"shader_body\n{float str=0.24;\n//ret=tex2D(sampler_main,uv).zyx;\nret=GetPixel(uv);\nfloat2 newuv;\nfloat3 m[3];\nm[0]=GetPixel(uv-(0.44-ret.xy)*str);\nm[1]=GetPixel(uv-(0.38-ret.yz)*str);\nm[2]=GetPixel(uv-(0.59-ret.xz)*str);\n//ret=float3(0.1,2.9,0.5),lum(m[1]),lum(m[2])); //MilkDrop2077 color mod\nret=(m[0]*m[1]*m[2])*1.1;\nret=ret*GetBlur2(uv);\nret/=0.3;\n//MilkDrop3 Color Mode:\nret /= float3(2.1,2.2,2.6);\n}"}