{"version":2,"baseVals":{"rating":5,"gammaadj":1.98,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wave_mode":2,"wave_dots":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":0.012,"wave_smoothing":0.9,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0.5,"wave_g":0.4,"wave_b":0.3,"ob_size":0,"ob_r":0.4,"ob_g":0.2,"ob_b":0.2,"ob_a":0.1,"ib_size":0.04,"ib_r":0.62,"ib_g":0.55,"ib_b":0.33,"mv_x":3,"mv_y":2,"mv_dx":0.02,"mv_dy":-0.02,"mv_l":0.15,"mv_r":0.49,"mv_g":0.48,"mv_b":0.3,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":13,"textured":1,"rad":0.46753,"tex_zoom":1.17258,"g":1,"b":1,"r2":0.99,"g2":0.99,"b2":0.99,"border_r":0.82,"border_g":0.72,"border_a":0},"init_eqs_str":"(function(){a['tm'] = 0; a['q6'] = 0; }());","frame_eqs_str":"(function(){a['tm']=a['q6']; a['x']=(0.5+(Math.sin(a['tm'])*0.3)); a['y']=(0.5+(Math.cos((a['tm']*0.5))*0.4)); a['ang']=(Math.sin((a['tm']*0.36))*3);}());","init_eqs_eel":"","frame_eqs_eel":"tm=q6;\n\nx=0.5 + sin(tm)*0.3;\ny=0.5 + cos(tm*0.5)*0.4;\n\nang=sin(tm*0.36)*3\n"},{"baseVals":{"enabled":1,"sides":8,"additive":1,"textured":1,"rad":0.35738,"tex_zoom":0.55045,"g":1,"b":1,"r2":1,"b2":1,"border_a":0},"init_eqs_str":"(function(){a['tm'] = 0; a['q6'] = 0; }());","frame_eqs_str":"(function(){a['tm']=a['q6']; a['x']=(0.5+(Math.sin((a['tm']+0.5))*0.3)); a['y']=(0.5+(Math.cos((a['tm']*0.5))*0.4)); a['ang']=(Math.sin((a['tm']*0.36))*3);}());","init_eqs_eel":"","frame_eqs_eel":"tm=q6;\n\nx=0.5 + sin(tm + 0.5)*0.3;\ny=0.5 + cos(tm*0.5)*0.4;\n\nang=sin(tm*0.36)*3"},{"baseVals":{"enabled":1,"sides":8,"additive":1,"rad":0.4629,"g":0.5,"a":0.04,"r2":1,"g2":0.3,"border_r":0,"border_g":0,"border_b":0,"border_a":0},"init_eqs_str":"(function(){a['tm'] = 0; a['q6'] = 0; }());","frame_eqs_str":"(function(){a['tm']=a['q6']; a['x']=(0.5+(Math.sin((a['tm']+1.4))*0.3)); a['y']=(0.5+(Math.cos(((a['tm']*0.5)+0.3))*0.4)); a['ang']=(Math.sin((a['tm']*0.36))*3);}());","init_eqs_eel":"","frame_eqs_eel":"tm=q6;\n\nx=0.5 + sin(tm + 1.4)*0.3;\ny=0.5 + cos(tm*0.5 + 0.3)*0.4;\n\nang=sin(tm*0.36)*3"},{"baseVals":{"enabled":1,"sides":29,"textured":1,"rad":0.46753,"tex_zoom":2.13022,"g":1,"b":1,"r2":0.99,"g2":0.99,"b2":0.99,"a2":0.65,"border_r":0.8,"border_g":0.5,"border_a":1},"init_eqs_str":"(function(){a['tm'] = 0; a['q6'] = 0; a['q8'] = 0; }());","frame_eqs_str":"(function(){a['tm']=a['q6']; a['x']=(0.5+(Math.sin(a['tm'])*0.001)); a['y']=(0.5+(Math.cos((a['tm']*0.5))*0.001)); a['a']=(0.5+(Math.min(a['q8'], 1)*0.5));}());","init_eqs_eel":"","frame_eqs_eel":"tm=q6;\n\nx=0.5 + sin(tm)*0.001;\ny=0.5 + cos(tm*0.5)*0.001;\n\na=0.5 + min(q8,1)*0.5"}],"waves":[{"baseVals":{"enabled":1,"usedots":1,"thick":1,"additive":1,"r":0.6,"g":0.3},"init_eqs_str":"(function(){a['n'] = 0; a['q7'] = 0; a['tm'] = 0; a['phs'] = 0; a['xp'] = 0; a['yp'] = 0; a['z'] = 0; }());","frame_eqs_str":"","point_eqs_str":"(function(){a['n']=((a['sample']*6.283)+(a['q7']*0.0015)); a['tm']=(a['time']*0.1); a['phs']=Math.sin((a['n']*50)); a['xp']=Math.sin((a['n']+a['phs'])); a['yp']=Math.cos((a['n']+a['phs'])); a['z']=(Math.sin(((a['n']*3)+a['tm']))*Math.sin(((a['n']*7)-a['tm']))); a['xp']=(a['xp']*a['z']); a['yp']=(a['yp']*a['z']); a['x']=((a['xp']*0.3)+0.5); a['y']=(((a['yp']*0.3)*1.3)+0.5);}());","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"n=sample*6.283 + q7*0.0015;\ntm=time*0.1;\n\nphs=sin(n*50);\n\nxp=sin(n+phs);\nyp=cos(n+phs);\n\nz=sin(n*3 + tm) * sin(n*7-tm);\n\nxp=xp*z;\nyp=yp*z;\n\nx=xp*0.3 + 0.5;\ny=yp*0.3*1.3 + 0.5;"},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_str":"(function(){a['n'] = 0; a['maxbpm'] = 0; a['ring'] = 0; a['smod'] = 0; a['bindex'] = 0; a['num_res'] = 0; a['prog2'] = 0; a['q25'] = 0; a['index'] = 0; a['q12'] = 0; a['t1'] = 0; a['q22'] = 0; a['fsig'] = 0; a['vc'] = 0; a['scale'] = 0; a['dt'] = 0; a['maxquad'] = 0; a['q1'] = 0; a['r1'] = 0; a['dec_f'] = 0; a['bindex2'] = 0; a['imax'] = 0; a['dec_s'] = 0; a['pu'] = 0; a['minbpm'] = 0; a['push'] = 0; a['maxind'] = 0; a['omega'] = 0; a['ec_steps'] = 0; a['is_beat'] = 0; a['bpm'] = 0; a['prog_'] = 0; a['q23'] = 0; a['q24'] = 0; a['pi'] = 0; a['dec_m'] = 0; a['start'] = 0; a['tc0'] = 0; a['delay'] = 0; a['avg'] = 0; a['ctime'] = 0; a['k'] = 0; a['beatsin'] = 0; a['trig'] = 0; a['pu_'] = 0; a['t2'] = 0; a['vol'] = 0; a['peak'] = 0; a['prog'] = 0; a['wave'] = 0; a['beatcos'] = 0; a['size'] = 0; a['q2'] = 0; a['q14'] = 0; a['q3'] = 0; a['m'] = 0; a['quad'] = 0; a['ran1'] = 0; a['q32'] = 0; a['sm'] = 0; a['test'] = 0; a['excite'] = 0; a['beatct'] = 0; a['ov'] = 0; a['n']=0; for(var mdparser_idx298=0;mdparser_idx298<30000;mdparser_idx298++){a['megabuf'][Math.floor(a['n'])]=0; a['gmegabuf'][Math.floor(a['n'])]=0; a['n']+=1;} a['minbpm']=30; a['maxbpm']=160; a['num_res']=30; a['index']=0; for(var mdparser_idx299=0;mdparser_idx299<a['num_res'];mdparser_idx299++){a['n']=(a['index']*12); a['bpm']=(a['minbpm']*pow(div(a['maxbpm'],a['minbpm']), div(a['index'],(a['num_res']-1)))); a['megabuf'][Math.floor(a['n'])]=a['bpm']; a['index']+=1;} a['pi']=3.1416; a['start']=(rand(5)-5); a['ran1']=(rand(4)-2);}());","frame_eqs_str":"(function(){a['dt']=Math.min(div(1,a['fps']), 0.1); a['dec_f']=0.8; a['dec_m']=(1-(4*a['dt'])); a['dec_s']=(1-(1.25*a['dt'])); a['start']=((a['start']*a['dec_m'])+(1-a['dec_m'])); a['vol']=((a['bass']+a['mid'])+a['treb']); a['avg']=((a['avg']*a['dec_s'])+(a['vol']*(1-a['dec_s']))); a['excite']=(Math.atan((a['vol']-a['avg']))*1.4); a['is_beat']=(above(a['vol'], ((1.5*a['avg'])+(8*a['peak'])))*above(a['time'], (a['tc0']+0.25))); a['tc0']=((Math.abs(a['is_beat'])>0.00001)?(a['time']):(a['tc0'])); a['trig']=(a['is_beat']*((Math.abs((mod(a['beatct'],8))-(0))<0.00001)?1:0)); a['beatct']+=a['is_beat']; a['peak']=((Math.abs(a['is_beat'])>0.00001)?(1):((a['peak']*a['dec_m']))); a['bindex']+=a['is_beat']; a['trig']=(a['is_beat']*((Math.abs((mod(a['bindex'],16))-(0))<0.00001)?1:0)); a['vc']=((a['vc']*a['dec_f'])+(((1-a['dec_f'])*a['excite'])*0.06)); a['pu']=((a['dec_f']*a['pu'])+div((a['trig']*a['vol']),3)); a['pu_']=((a['dec_f']*a['pu_'])+((1-a['dec_f'])*a['pu'])); a['push']=(a['pu_']+(a['vc']*0)); a['bindex2']+=a['trig']; ((Math.abs(a['trig'])>0.00001)?(a['ran1']=((Math.sin(rand(100))*2)+0.5)):(0)); a['prog']+=((Math.min((Math.floor(div(a['bindex'],30))-a['prog']), 0.1)*a['dt'])*20); a['prog_']=((a['prog_']*a['dec_m'])+((1-a['dec_m'])*Math.sin((div(a['pi'],2)*a['prog'])))); a['prog2']+=((Math.min(0.2, Math.max(-0.2, (a['bindex']-a['prog2'])))*a['dt'])*16); a['index']=0; a['maxquad']=0.2; for(var mdparser_idx300=0;mdparser_idx300<a['num_res'];mdparser_idx300++){a['n']=(a['index']*12); a['omega']=div((a['megabuf'][Math.floor(a['n'])]*6.2832),60); a['megabuf'][Math.floor((a['n']+1))]*=(1-(0.29*a['dt'])); a['ec_steps']=(Math.floor(((12*a['omega'])*a['dt']))+1); for(var mdparser_idx301=0;mdparser_idx301<a['ec_steps'];mdparser_idx301++){a['megabuf'][Math.floor((a['n']+1))]+=div(((a['excite']-(sqr(a['omega'])*a['megabuf'][Math.floor((a['n']+2))]))*a['dt']),a['ec_steps']); a['megabuf'][Math.floor((a['n']+2))]+=div((a['megabuf'][Math.floor((a['n']+1))]*a['dt']),a['ec_steps']);} a['beatcos']=a['megabuf'][Math.floor((a['n']+1))]; a['beatsin']=(a['megabuf'][Math.floor((a['n']+2))]*a['omega']); a['quad']=sqrt((pow(a['beatsin'], 2)+pow(a['beatcos'], 2))); ((Math.abs(((a['maxquad']<a['quad'])?1:0))>0.00001)?(a['maxquad']=a['quad']):(0)); a['megabuf'][Math.floor((a['n']+3))]=((a['megabuf'][Math.floor((a['n']+3))]*a['dec_m'])+(a['quad']*(1-a['dec_m']))); a['megabuf'][Math.floor((a['n']+4))]=((a['megabuf'][Math.floor((a['n']+4))]*a['dec_s'])+(((a['beatsin']*a['omega'])*a['dt'])*pow((1-div(a['index'],a['num_res'])), 1))); a['megabuf'][Math.floor((a['n']+5))]=(a['beatsin']*pow((1-div(a['index'],a['num_res'])), 1)); a['megabuf'][Math.floor((a['n']+8))]=a['gmegabuf'][Math.floor((10000+a['n']))]; a['index']+=1;} a['index']=0; a['maxind']=0; for(var mdparser_idx302=0;mdparser_idx302<a['num_res'];mdparser_idx302++){a['n']=(12*a['index']); ((Math.abs(((a['gmegabuf'][Math.floor((a['n']+3))]>a['gmegabuf'][Math.floor((a['maxind']+3))])?1:0))>0.00001)?(a['maxind']=a['n']):(0)); a['index']+=1;} a['bpm']=(a['minbpm']*pow(div(a['maxbpm'],a['minbpm']), div(div(a['maxind'],12),(a['num_res']-1)))); a['ctime']+=((div(a['bpm'],60)*a['dt'])*a['pi']); a['size']=(a['num_res']*12); a['delay']=Math.min(12, Math.max(3, Math.floor(((6*40)*a['dt'])))); a['delay']=5; a['wave']=0; a['n']=(4*a['delay']); for(var mdparser_idx303=0;mdparser_idx303<(4*a['delay']);mdparser_idx303++){memcpy(a['megabuf'], (a['n']*a['size']), ((a['n']-1)*a['size']), a['size']); a['n']-=1;} a['n']=a['num_res']; for(var mdparser_idx304=0;mdparser_idx304<a['num_res'];mdparser_idx304++){a['gmegabuf'][Math.floor((10000+(a['n']*12)))]=a['gmegabuf'][Math.floor((10000+((a['n']-1)*12)))]; a['gmegabuf'][Math.floor((10001+(a['n']*12)))]=a['gmegabuf'][Math.floor((10001+((a['n']-1)*12)))]; a['gmegabuf'][Math.floor((10002+(a['n']*12)))]=a['gmegabuf'][Math.floor((10002+((a['n']-1)*12)))]; a['n']-=1;} a['gmegabuf'][Math.floor(10000)]=a['push']; a['gmegabuf'][Math.floor(10001)]=(a['bindex2']*1.8); a['sm']=((a['sm']*a['dec_m'])+((1-a['dec_m'])*a['ran1'])); a['gmegabuf'][Math.floor(10002)]=a['sm']; a['test']=a['gmegabuf'][Math.floor(10002)]; a['n']=0; a['imax']=0; for(var mdparser_idx305=0;mdparser_idx305<a['num_res'];mdparser_idx305++){a['t1']+=(div((Math.abs(a['megabuf'][Math.floor(((a['n']*12)+4))])*a['dt']),12)*(a['prog_']+((1-Math.abs(a['prog_']))*Math.min(1, Math.max(-1, (2*Math.sin(a['t1']))))))); a['t2']+=(div((Math.abs(a['megabuf'][Math.floor(((a['n']*12)+5))])*a['dt']),6)*(a['prog_']+((1-Math.abs(a['prog_']))*Math.min(1, Math.max(-1, (2*Math.sin(a['t2']))))))); a['n']+=1;} for(var mdparser_idx306=0;mdparser_idx306<4;mdparser_idx306++){a['n']=(a['wave']*1000); a['m']=((a['wave']*a['size'])*a['delay']); a['k']=(a['m']+((a['num_res']-1)*12)); a['ring']=0; for(var mdparser_idx307=0;mdparser_idx307<a['num_res'];mdparser_idx307++){a['scale']=div((a['megabuf'][Math.floor((a['n']+3))]+a['megabuf'][Math.floor((a['k']+3))]),4); a['scale']=1; a['gmegabuf'][Math.floor(a['n'])]=((12-a['wave'])*0.0019); a['gmegabuf'][Math.floor((a['n']+3))]=a['megabuf'][Math.floor((a['m']+3))]; a['smod']=(div((10+(a['wave']*a['gmegabuf'][Math.floor((10002+(a['ring']*12)))])),12)*a['start']); a['gmegabuf'][Math.floor((a['n']+4))]=(div(Math.sin(((div((a['ring']+0.5),a['num_res'])*6.28)+a['t1'])),3)*a['smod']); a['gmegabuf'][Math.floor((a['n']+5))]=(div(Math.cos(((div((a['ring']+0.5),a['num_res'])*6.28)+a['t1'])),6)*a['smod']); a['gmegabuf'][Math.floor((a['n']+4))]+=(Math.atan(((a['megabuf'][Math.floor((a['m']+4))]-a['megabuf'][Math.floor((a['k']+4))])*a['scale']))*0.1); a['gmegabuf'][Math.floor((a['n']+5))]+=(Math.atan(((a['megabuf'][Math.floor((a['m']+5))]+a['megabuf'][Math.floor((a['k']+5))])*a['scale']))*0.2); a['gmegabuf'][Math.floor((a['n']+7))]+=((a['megabuf'][Math.floor((a['m']+5))]*a['dt'])*20); a['gmegabuf'][Math.floor((a['n']+8))]=a['megabuf'][Math.floor((a['m']+8))]; a['gmegabuf'][Math.floor((a['n']+9))]=(div(((2*a['pi'])*a['ring']),a['num_res'])+a['gmegabuf'][Math.floor((10001+(a['ring']*12)))]); a['gmegabuf'][Math.floor((a['n']+10))]=((div(((2*a['pi'])*a['ring']),a['num_res'])+2)+a['gmegabuf'][Math.floor((10001+(a['ring']*12)))]); a['gmegabuf'][Math.floor((a['n']+11))]=((div(((2*a['pi'])*a['ring']),a['num_res'])+4)+a['gmegabuf'][Math.floor((10001+(a['ring']*12)))]); a['n']+=12; a['m']+=12; a['k']-=12; a['ring']+=1;} a['wave']+=1;} a['q1']=0.34; a['q2']=0.35; a['q3']=1.2; a['fsig']=Math.max(0, (a['vol']-(a['avg']*2.2))); a['ov']=((Math.abs(((a['fsig']>a['ov'])?1:0))>0.00001)?(a['fsig']):((a['ov']*a['dec_f']))); a['q22']=(Math.log((1+a['ov']))*0.00003); ((Math.abs(((Math.abs((mod(a['frame'],4))-(0))<0.00001)?1:0))>0.00001)?(a['r1']=rand(1)):(0)); a['q25']=((a['r1']-0.5)*0.5); a['q23']=Math.sin(a['vol']); a['q24']=Math.cos(a['vol']); a['q12']=a['t1']; a['q32']=a['aspecty']; a['q14']=Math.cos(a['ctime']); a['monitor']=a['q14'];}());","pixel_eqs_str":"","init_eqs_eel":"n = 0; loop (30000, megabuf(n)=0; gmegabuf(n)=0; n +=1; );\n\nMINBPM = 30; MAXBPM = 160; num_res = 30; \nindex = 0;\nloop (num_res,\n  n = index*12;\n  BPM      = minbpm * pow(maxbpm/minbpm,index/(num_res-1));\n  megabuf(n) = BPM;\n  index += 1;\n);\n\npi = 3.1416;\nstart = rand(5)-5;\nran1  = rand (4) -2;","frame_eqs_eel":"dt = min (1/fps,0.1) ; //Stability !\ndec_f = 0.8; dec_m = 1 - 4*dt; dec_s = 1 - 1.25*dt;\nstart = start * dec_m + (1-dec_m);\nvol =  bass+mid+treb; avg = avg*dec_s + vol*(1-dec_s);\nexcite = atan ((vol-avg))*1.4;\n\nis_beat = above(vol, 1.5*avg + 8*peak) * above (time, tc0+.25);\ntc0 = if (is_beat, time,tc0);\ntrig = is_beat * (beatct%8==0); beatct += is_beat;\npeak = if (is_beat,1,peak*dec_m);\nbindex += is_beat;\ntrig = is_beat * (bindex%16==0);\nvc = vc*dec_f + (1-dec_f) * excite*0.06;\n\npu = dec_f*pu + trig*vol/3; pu_ = dec_f*pu_+(1-dec_f)*pu; push=pu_+vc*0;\nbindex2 += trig;\n\nif (trig, ran1 = sin(rand (100))*2+0.5, 0);\nprog += min(int (bindex/30)-prog,0.1)*dt*20;\nprog_ = prog_*dec_m + (1-dec_m) * sin (pi/2*prog) ;\nprog2 +=min(0.2, max (-0.2,bindex-prog2))*dt*16;\n\nindex=0; maxquad = 0.2;\nloop (num_res, n = index*12;  omega=megabuf(n) * 6.2832/60;\n  megabuf (n+1) *= 1-0.29*dt; \n  EC_Steps = int (12*omega*dt)+1; //10=ok, aber hier nur wenige res\n  loop (EC_Steps, // Euler-Cauchy \n    megabuf (n+1) += (excite - sqr(omega)*megabuf(n+2)) * dt/EC_Steps;\n    megabuf (n+2) += megabuf(n+1) * dt/EC_Steps);\n  beatcos  = megabuf(n+1);  beatsin = megabuf(n+2)*omega;\n  quad     = sqrt (pow(beatsin,2) + pow(beatcos,2)) ;\n  if (maxquad < quad,  maxquad = quad, 0);\n  megabuf (n+3) = megabuf(n+3) *dec_m +  quad* (1-dec_m);\n//  megabuf (n+4) = beatcos * pow(1-index/num_res,1);\n  megabuf (n+4) = megabuf (n+4)*dec_s + beatsin * omega*dt* pow(1-index/num_res,1);\n  megabuf (n+5) = beatsin * pow(1-index/num_res,1);;\n  megabuf (n+8) = gmegabuf (10000+n) ; //size pusher\n  index += 1;\n);\n\nindex = 0; maxind = 0;\nloop (num_res,\n  n = 12*index;\n  if (gmegabuf(n+3) > gmegabuf(maxind+3) ,  maxind = n, 0);\nindex+=1);\nBPM      = minbpm * pow(maxbpm/minbpm,maxind/12/(num_res-1));\nctime += BPM/60*dt*pi;\n\n//Buffer !\nsize = num_res*12;\ndelay = min (12, max (3, int (6*40*dt))); delay = 5; wave = 0;\nn = 4*delay; loop (4*delay, memcpy (n*size, (n-1)*size, size); n -= 1);\n\n//Pusher Queue\nn = num_res;\nloop (num_res, \n  gmegabuf (10000+n*12) = gmegabuf(10000+(n-1)*12); //size\n  gmegabuf (10001+n*12) = gmegabuf(10001+(n-1)*12); //col\n  gmegabuf (10002+n*12) = gmegabuf(10002+(n-1)*12); //smod ?\nn-=1;);\ngmegabuf (10000) = push; //size\ngmegabuf (10001) = bindex2*1.8; //col\n//gmegabuf (10002) = min(2,max(-1,8*cos(ctime/16)));\nsm = sm*dec_m + (1-dec_m) * ran1;\ngmegabuf (10002) = sm;\ntest = gmegabuf(10002);\n\nn = 0; imax = 0;\nloop (num_res,\n  t1 += abs(megabuf(n*12+4))*dt/12 * (prog_ + (1-abs(prog_))* min(1,max(-1,2*sin(t1))));\n  t2 += abs(megabuf(n*12+5))*dt/6 * (prog_ + (1-abs(prog_))* min(1,max(-1,2*sin(t2))));\nn+=1;);\n\nloop (4,\n  n = wave * 1000; m = wave * size*delay; k = m + (num_res-1)*12; ring = 0;\n  loop (num_res,\n  scale =  (megabuf(n+3) +megabuf(k+3))/4; \n  scale = 1;\n  gmegabuf(n) = (12-wave) * 0.0019; //Rad\n  gmegabuf(n+3) = megabuf(m+3) ;\n  smod =  (10+wave* gmegabuf(10002+ring*12))/12 *start ;\n  gmegabuf(n+4) = sin((ring+0.5)/num_res*6.28+t1)/3 * smod;\n  gmegabuf(n+5) = cos((ring+0.5)/num_res*6.28+t1)/6 * smod;\n  gmegabuf(n+4) += atan((megabuf(m+4) - megabuf (k+4))* scale) *0.1;\n  gmegabuf(n+5) += atan((megabuf(m+5) + megabuf (k+5))* scale) *0.2;\n  gmegabuf(n+7) += megabuf (m+5)*dt*20;\n  gmegabuf(n+8)  = megabuf(m+8);\n  //Colours\n  gmegabuf (n+9)  = 2*pi*ring/num_res + gmegabuf (10001+ring*12);\n  gmegabuf (n+10) = 2*pi*ring/num_res+2+ gmegabuf (10001+ring*12) ; \n  gmegabuf (n+11) = 2*pi*ring/num_res+4+ gmegabuf (10001+ring*12) ;\n  n+=12; m+=12; k -= 12; ring +=1);\nwave +=1);\n\nq1 = 0.34; //mod. col\nq2 = 0.35; //mod a - shift\nq3 = 1.2; //mod a - scale\n\n//flash2 pos\nfsig = max (0,vol-avg*2.2);\nov = if (fsig > ov, fsig, ov*dec_f);\nq22 = log (1+ov) * 0.00003; \nif (frame%4==0, r1 = rand(1), 0);\nq25 = (r1-0.5)*0.5;\n\nq23 = sin(vol);\nq24 = cos(vol);\n\nq12 = t1;\nq32 = aspecty;\n\nq14 = cos(ctime);\nmonitor = q14;\n//Created 2015 by Martin","pixel_eqs_eel":"","warp":"uniform sampler2D sampler_worms;\nvec3 color, mus;\nfloat dx,dy;\nshader_body {\nvec2 uv1 = (uv-.2) * aspect.xy;\n\n\nvec2 uv6 = uv1;\nfloat z = q29*2*length(uv1)+rand_frame * 32;\nvec2 d = normalize(uv1);\nvec2 rs = clamp(tan(z)*d,-8,8);\nuv += .004*((texture(sampler_blur1, uv).xyz * scale1) + bias1)*vec2 (0,1);//rs/20;\n\n\nuv6 = .4*sin(uv1*18*rand_frame);\nmus = .051/(length(uv6));\nmus *= vec3 (1,.8,.5);\n\nvec3 blur = ((texture(sampler_blur2, fract(uv)).xyz * scale2) + bias2);\n\nvec3 crisp= texture(sampler_main,uv).xyz;\n\nvec3 ret1 = crisp - blur*.03 + .15*mus;\nvec2 uv2 = (uv_orig-.5)-vec2(.5,.5+0.1*q25);\n\nq25 = 1;\nret = q25*(ret1*.99-.02) + (1-q25)* texture(sampler_main, uv_orig).xyz;\n\n}","comp":"vec2 complex_div(vec2 numerator, vec2 denominator){\n   return vec2( numerator.x*denominator.x + numerator.y*denominator.y,\n                  numerator.y*denominator.x - numerator.x*denominator.y)/\n          (denominator.x*denominator.x + denominator.y*denominator.y);\n}\n\nvec2 uv_polar(vec2 domain, vec2 center){\n   vec2 c = domain - center;\n   float rad_hq = length(c);\n   float ang_hq = atan(c.x,c.y);\n   return vec2(ang_hq*M_INV_PI_2, rad_hq);\n}\n\nvec2 uv_polar_logarithmic(vec2 domain, vec2 center, int fins, float log_factor, vec2 coord){\n   vec2 polar = uv_polar(domain, center);\n   return vec2(polar.x*fins+coord.x, log_factor*log(polar.y) + coord.y);\n}\n\nvec2 uv_moebius_transformation(vec2 domain, vec2 zeroPoint, vec2 infinityPoint,float zoom){\n   return complex_div((domain - zeroPoint)*zoom, domain - infinityPoint)+0.5;\n}\n\nvec2 uv_bipolar(vec2 domain, vec2 northPole, vec2 southPole, int fins, float log_factor, vec2 coord){\n   vec2 help_uv = uv_moebius_transformation(domain, northPole, southPole, 1);\n   return uv_polar_logarithmic(help_uv,0.5,fins,log_factor,coord);\n}\n\n\nvec2 uv_rotate( vec2 domain, vec2 center, float sinw, float cosw, float scale){\n   vec2 uv_r = (domain-center);\n   return center + vec2( cosw*uv_r.x - sinw*uv_r.y, sinw*uv_r.x + cosw*uv_r.y)*scale;\n}\n\n\nshader_body\n{\nvec2 uvo = uv;\nuv = 0.5 + (uv-0.5)*1.5;\nvec2 rotate_uv = 0.5+uv_rotate(0 + (uv-0.5)*aspect.xy, 0, q3, q4, 2);\nvec2 bipolar_uv = uv_bipolar(rotate_uv,vec2(0,0.5),vec2(1,0.5), 2, 0.35, vec2(q11,q12));\nvec2 mirror_uv = 0.5 + (0.5 - abs( fract( bipolar_uv * 0.5 ) * 2.0 - 1.0 ));\nuv = mirror_uv;\n    vec2 uv_grid=uv+0.03*vec2(sin(uv.y*31+0.59*time),sin(uv.x*26+0.37*time));\n    ret = texture(sampler_main, uv).xyz;\n    ret=max(ret,texture(sampler_main,uv_grid).xyz); //video distort\n    ret *= .93; //gamma\n    ret=lum(ret);\n    ret=pow(ret,3.5);\n    ret+=((texture(sampler_blur1, (uv+uv_grid)/2).xyz * scale1) + bias1);\nret /= vec3(1.3,2.2,1.23); \n}","warp_hlsl":"sampler sampler_worms;\nfloat3 color, mus;\nfloat dx,dy;\nshader_body {\nfloat2 uv1 = (uv-.2) * aspect.xy;\n\n\nfloat2 uv6 = uv1;\nfloat z = q29*2*length(uv1)+rand_frame * 32;\nfloat2 d = normalize(uv1);\nfloat2 rs = clamp(tan(z)*d,-8,8);\nuv += .004*GetBlur1(uv)*float2 (0,1);//rs/20;\n\n\nuv6 = .4*sin(uv1*18*rand_frame);\nmus = .051/(length(uv6));\nmus *= float3 (1,.8,.5);\n\nfloat3 blur = GetBlur2(frac(uv));\n\nfloat3 crisp= tex2D(sampler_main,uv);\n\nfloat3 ret1 = crisp - blur*.03 + .15*mus;\nfloat2 uv2 = (uv_orig-.5)-float2(.5,.5+0.1*q25);\n\nq25 = 1;\nret = q25*(ret1*.99-.02) + (1-q25)* GetPixel(uv_orig);\n\n}","comp_hlsl":"float2 complex_div(float2 numerator, float2 denominator){\n   return float2( numerator.x*denominator.x + numerator.y*denominator.y,\n                  numerator.y*denominator.x - numerator.x*denominator.y)/\n          (denominator.x*denominator.x + denominator.y*denominator.y);\n}\n\nfloat2 uv_polar(float2 domain, float2 center){\n   float2 c = domain - center;\n   float rad_hq = length(c);\n   float ang_hq = atan2(c.x,c.y);\n   return float2(ang_hq*M_INV_PI_2, rad_hq);\n}\n\nfloat2 uv_polar_logarithmic(float2 domain, float2 center, int fins, float log_factor, float2 coord){\n   float2 polar = uv_polar(domain, center);\n   return float2(polar.x*fins+coord.x, log_factor*log(polar.y) + coord.y);\n}\n\nfloat2 uv_moebius_transformation(float2 domain, float2 zeroPoint, float2 infinityPoint,float zoom){\n   return complex_div((domain - zeroPoint)*zoom, domain - infinityPoint)+0.5;\n}\n\nfloat2 uv_bipolar(float2 domain, float2 northPole, float2 southPole, int fins, float log_factor, float2 coord){\n   float2 help_uv = uv_moebius_transformation(domain, northPole, southPole, 1);\n   return uv_polar_logarithmic(help_uv,0.5,fins,log_factor,coord);\n}\n\n\nfloat2 uv_rotate( float2 domain, float2 center, float sinw, float cosw, float scale){\n   float2 uv_r = (domain-center);\n   return center + float2( cosw*uv_r.x - sinw*uv_r.y, sinw*uv_r.x + cosw*uv_r.y)*scale;\n}\n\n\nshader_body\n{\nfloat2 uvo = uv;\nuv = 0.5 + (uv-0.5)*1.5;\nfloat2 rotate_uv = 0.5+uv_rotate(0 + (uv-0.5)*aspect.xy, 0, q3, q4, 2);\nfloat2 bipolar_uv = uv_bipolar(rotate_uv,float2(0,0.5),float2(1,0.5), 2, 0.35, float2(q11,q12));\nfloat2 mirror_uv = 0.5 + (0.5 - abs( frac( bipolar_uv * 0.5 ) * 2.0 - 1.0 ));\nuv = mirror_uv;\n    float2 uv_grid=uv+0.03*float2(sin(uv.y*31+0.59*time),sin(uv.x*26+0.37*time));\n    ret = tex2D(sampler_main, uv).xyz;\n    ret=max(ret,tex2D(sampler_main,uv_grid).xyz); //video distort\n    ret *= .93; //gamma\n    ret=lum(ret);\n    ret=pow(ret,3.5);\n    ret+=GetBlur1((uv+uv_grid)/2);\nret /= float3(1.3,2.2,1.23); \n}"}