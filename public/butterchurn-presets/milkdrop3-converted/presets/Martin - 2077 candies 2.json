{"version":2,"baseVals":{"rating":5,"gammaadj":1.07,"decay":0.955,"echo_zoom":100,"echo_alpha":0.65,"wave_mode":15,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"darken":1,"wave_a":0.004,"wave_scale":0.418,"wave_smoothing":0,"modwavealphastart":1.4,"modwavealphaend":1.4,"warpscale":1.331,"zoomexp":0.9999,"zoom":0.99951,"warp":0.01,"ob_size":0.005,"ob_a":0.3,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":0.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":24,"additive":1,"num_inst":3,"x":0.48,"rad":0.01348,"tex_zoom":4.36077,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0},"init_eqs_str":" ","frame_eqs_str":"(function(){a['x']=div(Math.floor(rand(1000)),1000); a['y']=div(Math.floor(rand(1000)),1000); a['r']=div(Math.floor(rand(1200)),1000); a['g']=div(Math.floor(rand(1200)),1000); a['b']=div(Math.floor(rand(1200)),1000); a['r2']=a['r']; a['g2']=a['g']; a['b2']=a['b'];}())","init_eqs_eel":"","frame_eqs_eel":"x = int(rand(1000))/1000;\ny = int(rand(1000))/1000;\n\nr = int(rand(1200))/1000;\ng = int(rand(1200))/1000;\nb = int(rand(1200))/1000;\n\nr2 = r;\ng2 = g;\nb2 = b;"},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"thick":1,"additive":1,"scaling":2.0231,"smoothing":0},"init_eqs_str":"(function(){a['d'] = 0; a['tt2'] = 0; a['res'] = 0; a['tt1'] = 0; a['diff'] = 0; a['tt3'] = 0; a['beat'] = 0; a['vol'] = 0; a['m'] = 0; a['monitor'] = 0; a['t2']=0; a['t3']=0; a['t4']=0; a['cl']=0;}())","frame_eqs_str":"(function(){a['vol']=(((a['bass']*8)+(a['mid']*5))+(a['treb']*3)); a['m']=((a['m']*0.97)+(a['vol']*0.08)); a['monitor']=a['vol']; a['beat']=((above(a['vol'], a['res'])*above(a['vol'], a['m']))*above(a['vol'], 16)); a['diff']=(((1-a['beat'])*a['diff'])+(a['beat']*(a['vol']-a['res']))); a['res']=((a['beat']*(a['vol']+(a['m']*0.04)))+((1-a['beat'])*(a['res']-div(((0.1+(a['diff']*0.02))*60),a['fps'])))); a['res']=Math.max(0, a['res']); a['a']=a['beat'];}())","point_eqs_str":"(function(){a['tt3']=((a['tt3']*0.6)+(a['value1']*1)); a['tt2']=((a['tt2']*0.7)+(a['tt3']*0.2)); a['tt1']=((a['tt1']*0.8)+(a['tt2']*0.1)); a['d']=((a['d']*0.9)+(a['tt1']*0.2)); a['y']=(0.5+(((a['d']*a['sample'])*(1-a['sample']))*2)); a['x']=(-0.05+(a['sample']*1.1));}())","init_eqs_eel":"t2 = 0;\nt3 = 0;\nt4 = 0;\ncl = 0;","frame_eqs_eel":"vol = bass*8 + mid*5 + treb*3;\nm = m*0.97 + vol*0.08;\nmonitor = vol;\nbeat = above(vol,res)*above(vol,m)*above(vol,16);\ndiff = (1-beat)*diff + beat*(vol-res);\nres = beat*(vol + m*0.04) + (1-beat)*(res -  (0.1+diff*0.02)*60/fps);\nres = max(0,res);\n\na = beat;\n","point_eqs_eel":"tt3 = tt3*0.6 + (value1)*1;\ntt2 = tt2*0.7 + tt3*0.2;\ntt1 = tt1*0.8 + tt2*0.1;\nd = d*0.9 + tt1*0.2;\n\ny = 0.5 + d*sample*(1-sample)*2;\nx =  -0.05 + sample*1.1;"},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_str":"(function(){a['tic'] = 0; a['slide'] = 0; a['toc'] = 0; a['dsign'] = 0; a['vt'] = 0; a['q6'] = 0; a['bt'] = 0; a['q1'] = 0; a['q5'] = 0; a['mid_avg'] = 0; a['dis'] = 0; a['tt'] = 0; a['my'] = 0; a['tin'] = 0; a['limit'] = 0; a['bass_avg'] = 0; a['vav'] = 0; a['q4'] = 0; a['a'] = 0; a['zm'] = 0; a['mt'] = 0; a['q1sgn'] = 0; a['b'] = 0; a['ra'] = 0; a['tm'] = 0; a['mx'] = 0; a['treb_avg'] = 0; a['sp'] = 0; a['q2'] = 0; a['q3'] = 0; a['rmod'] = 0; a['q7'] = 0; a['rb'] = 0; a['q8'] = 0;}())","frame_eqs_str":"(function(){a['warp']=0; a['decay']=0.999; a['q1']=Math.sin(a['time']); a['q1sgn']=sign(a['q1']); a['q1']=Math.abs(a['q1']); a['q1']=pow(a['q1'], 6); a['q1']=(a['q1']*a['q1sgn']); a['q1']=((a['q1']*0.4)+0.5); a['q2']=(0.5+(0.1*Math.sin((a['time']*0.548)))); a['tic']=Math.min((a['time']-a['tin']), 0.1); a['tin']=a['time']; a['ra']=1; a['treb_avg']=(a['tic']*((a['treb_avg']*(div(1,a['tic'])-a['ra']))+(a['ra']*a['treb']))); a['mid_avg']=(a['tic']*((a['mid_avg']*(div(1,a['tic'])-a['ra']))+(a['ra']*a['mid']))); a['bass_avg']=(a['tic']*((a['bass_avg']*(div(1,a['tic'])-a['ra']))+(a['ra']*a['bass']))); a['rb']=1; a['vav']=(a['tic']*((a['vav']*(div(1,a['tic'])-a['rb']))+((a['rb']*((a['bass']+a['treb'])+a['mid']))*0.33333))); a['tt']=(a['tt']+(a['tic']*a['treb_avg'])); a['mt']=(a['mt']+(a['tic']*a['mid_avg'])); a['bt']=(a['bt']+(a['tic']*a['bass_avg'])); a['vt']=(a['vt']+((a['tic']*((a['treb_avg']+a['mid_avg'])+a['bass_avg']))*0.33333)); a['sp']=(Math.abs((a['vav']-a['slide']))*0.1); a['slide']=(((Math.abs(above(a['slide'], a['vav']))>0.00001)?((a['slide']-(a['tic']*a['sp']))):((a['slide']+(a['tic']*a['sp']))))+((1-a['toc'])*a['vav'])); a['toc']=1; a['q3']=(((a['treb']+a['bass'])+a['mid'])*0.3333); a['q3']=(((a['q3']*a['q3'])*0.5)+0.1); a['q3']=Math.min(a['q3'], 1.0); a['monitor']=div(Math.floor((a['q3']*4)),4); a['q4']=a['mt']; a['q5']=a['bt']; a['cx']=a['q1']; a['cy']=a['q2']; a['rmod']=((((a['treb_avg']+a['mid_avg'])*0.5)-(a['bass_avg']*0.5))*0.01); a['rmod']=((0.02*pow(div(a['rmod'],0.02), 2))*7); a['rmod']=Math.min(0.001, Math.max(a['rmod'], -0.001)); a['rmod']=(a['rmod']*pow((Math.sin(a['time'])*1.1), 2)); a['rot']=((0.02*pow(div(a['rmod'],0.02), 2))*40); a['q6']=a['rmod']; a['q7']=(a['slide']-((below(a['q3'], 0.5)*(6+(2*Math.sin((a['time']*24)))))*pow(Math.min(1, ((0.5-a['q3'])*2)), 5))); a['q8']=((Math.abs(above(Math.sin((a['time']*0.5)), 0))>0.00001)?(-1):(1));}())","pixel_eqs_str":"(function(){a['tm']=div(a['time'],a['rad']); a['a']=a['q1']; a['b']=a['q2']; a['mx']=(a['x']-a['a']); a['my']=(a['y']-a['b']); a['zm']=-0.45; a['zm']=((Math.abs(above(Math.sin((a['time']*2.1)), 0.95))>0.00001)?((0.45*Math.max((1-(a['q3']*0.5)), 0))):(a['zm'])); a['dis']=(pow(((a['mx']*a['mx'])+(a['my']*a['my'])), 0.5)*0.70710678); a['rot']=(a['rot']*(1-a['dis'])); a['rot']=((a['rot']*20)*a['q8']); a['limit']=0.05; a['dx']=((((a['zm']*a['mx'])*a['dis'])*Math.cos((a['my']*3.14)))*a['q3']); a['dsign']=sign(a['dx']); a['dx']=(a['dx']-(Math.max((Math.abs(a['dx'])-a['limit']), 0)*a['dsign'])); a['dy']=((((a['zm']*a['my'])*a['dis'])*Math.cos((a['mx']*3.14)))*a['q3']); a['dsign']=sign(a['dy']); a['dy']=(a['dy']-(Math.max((Math.abs(a['dy'])-a['limit']), 0)*a['dsign']));}())","init_eqs_eel":"","frame_eqs_eel":"warp = 0;\ndecay=.999;\n//q1 = .1*tan(time);\n//q1 = min(0.5,max(0.0,q1));\n//q1 = q1+0.5;\n\nq1=sin(time);\nq1sgn = sign(q1);\nq1=abs(q1);\nq1=pow(q1,6);\nq1=q1*q1sgn;\nq1=q1*0.4 + 0.5;\n\n\n\nq2 = .5 + .1*sin(time*.548);\n\ntic = min(time - tin,.1);\ntin = time;\n\nra = 1;\ntreb_avg = tic*(treb_avg*(1/tic - ra) + ra*treb);\nmid_avg = tic*(mid_avg*(1/tic - ra) + ra*mid);\nbass_avg = tic*(bass_avg*(1/tic - ra) + ra*bass);\n\nrb = 1;\nvav = tic*(vav*(1/tic - rb) + rb*(bass+treb+mid)*.33333);\n\ntt = tt + tic*treb_avg;\nmt = mt + tic*mid_avg;\nbt = bt + tic*bass_avg;\nvt = vt + tic*(treb_avg+mid_avg+bass_avg)*.33333;\n\nsp = abs(vav - slide)*.1;\nslide = if(above(slide,vav),slide-tic*sp,slide+tic*sp) + (1-toc)*vav;\ntoc = 1;\n\nq3 = (treb + bass + mid)*.3333;\nq3 = q3*q3*0.5 + 0.1;\nq3 = min(q3,1.0);\n//q3=1.25;\nmonitor = int(q3*4)/4;\n\nq4 = mt;\nq5 = bt;\n\ncx = q1;\ncy = q2;\n\nrmod = ((treb_avg + mid_avg)*.5 - bass_avg*0.5)*.01;\nrmod = 0.02 * pow(rmod/0.02 , 2)*7;\nrmod = min(0.001 , max(rmod, -0.001));\nrmod=rmod*pow(sin(time)*1.1,2);\nrot = 0.02 * pow(rmod/0.02 , 2) *40;\n\nq6 = rmod;\n\nq7 = slide - below(q3,.5)*(6 + 2*sin(time*24))*pow(min(1,(.5 - q3)*2),5);\n\nq8=if( above(sin(time*0.5),0) , -1 , 1);\n\n//echo_zoom=1+(above(treb,.8)+treb);","pixel_eqs_eel":"tm=time/rad;\na = q1;\nb = q2;\n\n//testcode\n//a=0.0;b=0.5;\n\nmx = x-a;\nmy = y-b;\nzm = -.45;\nzm= if( above(sin(time*2.1),0.95) , 0.45 * max(1-q3*.5,0) , zm);\n\n//test code\n//zm= -0.5;\n\ndis = pow(mx*mx + my*my,.5)*.70710678;\n\nrot = rot*(1-dis);\nrot=rot*20*q8 ;\n\n//testcode\n//q3=3.1;\n\nlimit=0.05;\n\ndx = zm*mx*dis*cos(my*3.14)*q3;\ndsign=sign(dx);\ndx = dx -  ( max(abs(dx)-limit,0) )*dsign;\n\ndy = zm*my*dis*cos(mx*3.14)*q3;\ndsign=sign(dy);\ndy = dy -  ( max(abs(dy)-limit,0) )*dsign;","warp":"uniform sampler2D sampler_fw_clouds;\nshader_body\n{// sample previous frame\nret = texture( sampler_main, uv ).xyz;\nfloat blur =sin(bass*90)*rad;\nret=0.125*(\ntexture(sampler_main, vec2(uv.x-0.01*blur,uv.y-0.01*blur)).xyz +\ntexture(sampler_main, vec2(uv.x+0.01*blur,uv.y+0.01*blur)).xyz +\ntexture(sampler_main, vec2(uv.x-0.01*blur,uv.y+0.01*blur)).xyz +\ntexture(sampler_main, vec2(uv.x+0.01*blur,uv.y-0.01*blur)).xyz +\ntexture(sampler_main, vec2(uv.x,uv.y-0.01*blur)).xyz +\ntexture(sampler_main, vec2(uv.x,uv.y+0.01*blur)).xyz +\ntexture(sampler_main, vec2(uv.x-0.01*blur,uv.y)).xyz +\ntexture(sampler_main, vec2(uv.x+0.01*blur,uv.y)).xyz);\n//add a 'bass overbright' effect:\nret-=-(lum(ret)<sin(time*90))*ret*blur+(lum(ret)>sin(-time*90))*ret*blur;\n}","comp":"vec2 hor = vec2 (texsize.z,0);\nvec2 ver = vec2 (0, texsize.w);\nmat2 rot45 = mat2(0.7,0.7,-0.7,0.7);\nvec2 rs, rs0, uv2, uv3,uv4,dz;\nvec3 noise, ret1, neu;\n#define GP GetPixel\n\nshader_body {\nvec2 center = vec2(.5,.2+rand_preset.x*0.4);\nvec2 uv1 = (uv-center );\n\nret1 = 0;\nint anz = 3;\nint n = 0;\ndz=0;\nwhile (n < anz) {\n  float dist = 1-fract(1.0/anz*n); //evtl sqrt !;\n  float inten =  clamp(1-dist, 0.0, 1.0);\n  uv3 = .5*anz*uv1*dist + center;\n  float mask = (uv3.x>0) && (uv3.x<1) &&  (uv3.y>0) && (uv3.y<1);\n  mask = max(0.5,mask);\n  dz.x += inten*(lum(GP(uv3+hor))- lum(GP (uv3-hor)));\n  dz.y += inten*(lum(GP(uv3+ver))- lum(GP (uv3-ver)));\n  dz *= length(dz)>length(texsize.zw)*8;\n  neu = max(GP(uv3+dz*0.1*inten),((texture(sampler_blur3, uv3).xyz * scale3) + bias3)*.50*rand_preset.y);\n  ret1 = max(ret1,neu*inten*mask);\nn++;\n}\n\nuv1= (rot45 * uv1);\ndz = (rot45 * dz);\nvec2 uv6 = sin(10*uv1+dz*12 + time*.2);\nvec3 mus = .06/length(uv6) * (1+length(dz)*length(texsize.xy)*0.012*(0.25+2*((texture(sampler_blur1, fract(1-2*uv)).xyz * scale1) + bias1)));\n\nret = sqrt(ret1)*(.1+rand_preset.z*0.4+8*mus*clamp(1-rad, 0.0, 1.0));\nret = 1-exp(-ret*1.3);\n//ret = texture(sampler_main, uv0).xyz;\n//MilkDrop3 Solarize Mode:\nret = ret*(1-ret)*4;\n}","warp_hlsl":"sampler sampler_fw_clouds;\nshader_body\n{// sample previous frame\nret = tex2D( sampler_main, uv ).xyz;\nfloat blur =sin(bass*90)*rad;\nret=0.125*(\nGetPixel(float2(uv.x-0.01*blur,uv.y-0.01*blur)) +\nGetPixel(float2(uv.x+0.01*blur,uv.y+0.01*blur)) +\nGetPixel(float2(uv.x-0.01*blur,uv.y+0.01*blur)) +\nGetPixel(float2(uv.x+0.01*blur,uv.y-0.01*blur)) +\nGetPixel(float2(uv.x,uv.y-0.01*blur)) +\nGetPixel(float2(uv.x,uv.y+0.01*blur)) +\nGetPixel(float2(uv.x-0.01*blur,uv.y)) +\nGetPixel(float2(uv.x+0.01*blur,uv.y)));\n//add a 'bass overbright' effect:\nret-=-(lum(ret)<sin(time*90))*ret*blur+(lum(ret)>sin(-time*90))*ret*blur;\n}","comp_hlsl":"static float2 hor = float2 (texsize.z,0);\nstatic float2 ver = float2 (0, texsize.w);\nstatic float2x2 rot45 = float2x2(0.7,0.7,-0.7,0.7);\nfloat2 rs, rs0, uv2, uv3,uv4,dz;\nfloat3 noise, ret1, neu;\n#define GP GetPixel\n\nshader_body {\nstatic float2 center = float2(.5,.2+rand_preset.x*0.4);\nfloat2 uv1 = (uv-center );\n\nret1 = 0;\nint anz = 3;\nint n = 0;\ndz=0;\nwhile (n < anz) {\n  float dist = 1-frac(1.0/anz*n); //evtl sqrt !;\n  float inten =  saturate(1-dist);\n  uv3 = .5*anz*uv1*dist + center;\n  float mask = (uv3.x>0) && (uv3.x<1) &&  (uv3.y>0) && (uv3.y<1);\n  mask = max(0.5,mask);\n  dz.x += inten*(lum(GP(uv3+hor))- lum(GP (uv3-hor)));\n  dz.y += inten*(lum(GP(uv3+ver))- lum(GP (uv3-ver)));\n  dz *= length(dz)>length(texsize.zw)*8;\n  neu = max(GP(uv3+dz*0.1*inten),GetBlur3(uv3)*.50*rand_preset.y);\n  ret1 = max(ret1,neu*inten*mask);\nn++;\n}\n\nuv1= mul(uv1,rot45);\ndz = mul(dz ,rot45);\nfloat2 uv6 = sin(10*uv1+dz*12 + time*.2);\nfloat3 mus = .06/length(uv6) * (1+length(dz)*length(texsize.xy)*0.012*(0.25+2*GetBlur1(frac(1-2*uv))));\n\nret = sqrt(ret1)*(.1+rand_preset.z*0.4+8*mus*saturate(1-rad));\nret = 1-exp(-ret*1.3);\n//ret = GetPixel(uv0);\n//MilkDrop3 Solarize Mode:\nret = ret*(1-ret)*4;\n}"}