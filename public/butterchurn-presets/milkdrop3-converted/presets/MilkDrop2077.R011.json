{"version":2,"baseVals":{"rating":1,"gammaadj":1.98,"decay":0.5,"echo_zoom":0.952,"echo_alpha":0.5,"echo_orient":3,"wave_mode":10,"wave_thick":1,"darken":1,"wave_a":100,"wave_scale":4.96,"wave_smoothing":0,"modwavealphastart":2,"warpanimspeed":1.2,"warpscale":0.94,"zoomexp":3.04777,"zoom":1.0173,"warp":0.01605,"wave_b":0.471,"wave_y":0.405,"ob_size":0,"ob_a":1,"ib_b":0.192,"mv_x":64,"mv_y":51.84,"mv_l":5,"mv_r":0.375,"mv_g":0.35,"mv_b":0.396,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_str":"(function(){a['z'] = 0; a['d_x'] = 0; a['q25'] = 0; a['index'] = 0; a['q29'] = 0; a['q1'] = 0; a['dec_med'] = 0; a['is_beat'] = 0; a['q31'] = 0; a['q23'] = 0; a['q24'] = 0; a['dec_slow'] = 0; a['q26'] = 0; a['avg'] = 0; a['r'] = 0; a['beat'] = 0; a['vol'] = 0; a['d_y'] = 0; a['peak'] = 0; a['q2'] = 0; a['q27'] = 0; a['q3'] = 0; a['t0'] = 0; a['q32'] = 0; a['q28'] = 0; a['q30'] = 0;}());","frame_eqs_str":"(function(){a['dec_med']=pow(0.9, div(30,a['fps'])); a['dec_slow']=pow(1.148, div(30,a['fps'])); a['beat']=Math.max(Math.max(a['bass'], a['mid']), a['treb']); a['avg']=((a['avg']*a['dec_slow'])+(a['beat']*(1-a['dec_slow']))); a['is_beat']=(above(a['beat'], ((0.53+a['avg'])+a['peak']))*above(a['time'], (a['t0']+0.2))); a['t0']=((a['is_beat']*a['time'])+((1-a['is_beat'])*a['t0'])); a['peak']=((a['is_beat']*a['beat'])+(((1-a['is_beat'])*a['peak'])*a['dec_med'])); a['index']=mod((a['index']+a['is_beat']),2); a['d_x']=((Math.abs(a['is_beat'])>0.00001)?(((Math.floor(rand(2000))-1000)*0.001)):(a['d_x'])); a['d_y']=((Math.abs(a['is_beat'])>0.00001)?(((Math.floor(rand(2000))-1000)*0.001)):(a['d_y'])); a['r']=((Math.abs(a['is_beat'])>0.00001)?(((Math.floor(rand(2000))-1000)*0.0008)):(a['r'])); a['z']=((Math.abs(a['is_beat'])>0.00001)?((Math.floor(rand(1000))*0.001)):(a['z'])); a['zoom']=(1.03+(a['z']*0.06)); a['rot']=(a['r']*0.06); a['dx']=(a['d_x']*0.008); a['dy']=(a['d_y']*0.01); a['q1']=1; a['q23']=div(Math.floor(rand(1000)),1000); a['q24']=div(Math.floor(rand(1000)),1000); a['q25']=(div(Math.floor(rand(1000)),1000)*6.28); a['q26']=(a['q25']-3.611); a['q27']=(div(Math.floor(rand(1000)),12000)+0.04); a['q28']=div(Math.floor(rand(1000)),1000); a['q29']=div(Math.floor(rand(1000)),1000); a['q30']=(div(Math.floor(rand(1000)),1000)*6.468); a['q31']=(a['q30']-3.14); a['q32']=(div(Math.floor(rand(1000)),14000)+0.04); a['vol']=((a['bass']+a['treb'])+a['mid']); a['q30']=(a['vol']*2); a['q3']=(a['vol']*4); a['q1']=0.5; a['q2']=0.5;}());","pixel_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"dec_med = pow (0.9, 30/fps);\ndec_slow = pow (1.148, 30/fps);\nbeat = max (max (bass, mid), treb); \navg = avg*dec_slow + beat*(1-dec_slow);\nis_beat = above(beat, 0.53+avg+peak) * above (time, t0+.2);\nt0 = is_beat*time + (1-is_beat)*t0;\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\nindex = (index + is_beat) %2;\n\n\nd_x = if(is_beat, (int(rand(2000))-1000)*0.001 , d_x);\nd_y = if(is_beat, (int(rand(2000))-1000)*0.001 , d_y);\nr = if(is_beat, (int(rand(2000))-1000)*0.0008 , r);\nz = if(is_beat, int(rand(1000))*0.001 , z);\nzoom = 1.03 + z*0.06;\nrot = r*0.06;\ndx = d_x*0.008;\ndy = d_y*0.01;\nq1 = 1;\n\nq23 = int(rand(1000))/1000;\nq24 = int(rand(1000))/1000;\nq25 = (int(rand(1000))/1000)*6.28;\nq26 = q25 - 3.611;\nq27 = (int(rand(1000))/12000)+0.04;\n\nq28 = int(rand(1000))/1000;\nq29 = int(rand(1000))/1000;\nq30 = (int(rand(1000))/1000)*6.468;\nq31 = q30 - 3.14;\nq32 = (int(rand(1000))/14000)+0.04;\n\nvol=bass+treb+mid;\nq30=vol*2;\nq3=vol*4;\nq1=.5;q2=.5;","pixel_eqs_eel":"","warp":"shader_body\n{ret=texture(sampler_main, uv).xyz;\nvec2 mo=uv-uv_orig;\nret=texture(sampler_main, uv_orig+mo*lum(ret)).xyz;\nret=ret*0.97-0.0018;\n}","comp":"uniform sampler2D sampler_pw_noise_lq;\nvec3 ret1;\nvec2 zz, uv0, uv1,uv2,uv3,uv4;\nfloat smask;\n\nfloat aTan2(float y, float x) {float angle;\t float abs_y = abs(y);\nif (x >= 0) {float r = (x - abs_y) / (x + abs_y); angle = 1-r;} \nelse {float r = (x + abs_y) / (abs_y - x); angle = 3-r; }\t\nangle = angle * .25;\nreturn y < 0 ? -angle : angle;}\n\nshader_body { ;\nuv0 = uv;\nuv1 = (uv-.5)*aspect.xy;\n\nuv1 = (uv - .5) * aspect.xy;    \nfloat stars = 0; float dist, inten;\nint n = 1;\nint anz = 4;\nwhile (n <= anz) {\n  dist = (1-fract(0.97/anz*n+0.109*time)) * (1-0.24*rad);\n  inten =  (1-dist);\n  uv3 = (uv1+vec2(q1,q2));\n   uv4 = 64*dist*uv3;\n  smask = (texture (sampler_pw_noise_lq,uv4/256).xyz).g-0.81;\n  stars += max(stars,clamp(inten*(.1/length(abs(fract(uv4)-.5))*smask), 0.0, 1.0));\nn++;\n}\nuv2 = uv1 - vec2(q5,q6);\nfloat beat = (mid - .5) * (mid > 0.5)*2;\nfloat flash = 0.012/(length(uv2))*min(3,pow(beat,1));\nflash *= flash/(abs(fract(3*aTan2(uv2.x,uv2.y)+time*2)-.5));\nret1 = max(texture(sampler_main, uv0).xyz*2,((texture(sampler_blur2, uv0).xyz * scale2) + bias2)*2);\n//ret = clamp(.025/length(sin(uv3)), 0.0, 1.0)*vec3(0.4,2.8,2.9); //MilkDrop2077 color mod\nret += clamp(pow(stars,2), 0.0, 1.0);\n//ret *= clamp(1-2*lum(ret1), 0.0, 1.0);\nret +=  ret1;\nret -= 0.3;\n//ret += 2*clamp(flash, 0.0, 1.0)*vec3(2.9,2.3,2.7); //MilkDrop2077 color mod\n}","warp_hlsl":"shader_body\n{ret=GetPixel(uv);\nfloat2 mo=uv-uv_orig;\nret=GetPixel(uv_orig+mo*lum(ret));\nret=ret*0.97-0.0018;\n}","comp_hlsl":"sampler sampler_pw_noise_lq;\nfloat3 ret1;\nfloat2 zz, uv0, uv1,uv2,uv3,uv4;\nfloat smask;\n\nfloat aTan2(float y, float x) {float angle;\t float abs_y = abs(y);\nif (x >= 0) {float r = (x - abs_y) / (x + abs_y); angle = 1-r;} \nelse {float r = (x + abs_y) / (abs_y - x); angle = 3-r; }\t\nangle = angle * .25;\nreturn y < 0 ? -angle : angle;}\n\nshader_body { ;\nuv0 = uv;\nuv1 = (uv-.5)*aspect.xy;\n\nuv1 = (uv - .5) * aspect.xy;    \nfloat stars = 0; float dist, inten;\nint n = 1;\nint anz = 4;\nwhile (n <= anz) {\n  dist = (1-frac(0.97/anz*n+0.109*time)) * (1-0.24*rad);\n  inten =  (1-dist);\n  uv3 = (uv1+float2(q1,q2));\n   uv4 = 64*dist*uv3;\n  smask = (tex2D (sampler_pw_noise_lq,uv4/256)).g-0.81;\n  stars += max(stars,saturate(inten*(.1/length(abs(frac(uv4)-.5))*smask)));\nn++;\n}\nuv2 = uv1 - float2(q5,q6);\nfloat beat = (mid - .5) * (mid > 0.5)*2;\nfloat flash = 0.012/(length(uv2))*min(3,pow(beat,1));\nflash *= flash/(abs(frac(3*aTan2(uv2.x,uv2.y)+time*2)-.5));\nret1 = max(GetPixel(uv0)*2,GetBlur2(uv0)*2);\n//ret = saturate(.025/length(sin(uv3)))*float3(0.4,2.8,2.9); //MilkDrop2077 color mod\nret += saturate(pow(stars,2));\n//ret *= saturate(1-2*lum(ret1));\nret +=  ret1;\nret -= 0.3;\n//ret += 2*saturate(flash)*float3(2.9,2.3,2.7); //MilkDrop2077 color mod\n}"}