{"version":2,"baseVals":{"rating":5,"gammaadj":1.98,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"darken":1,"wave_a":0.001,"wave_scale":1.286,"wave_smoothing":0.63,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpscale":1.331,"zoomexp":60.80368,"zoom":0.99951,"warp":0.01,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"ob_size":0.005,"ob_r":0.01,"ob_a":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":0,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"textured":1,"rad":1.79142,"tex_ang":0.62832,"g":1,"b":1,"a":0,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"thick":1},"init_eqs_str":"(function(){a['ma'] = 0; a['mx'] = 0; a['my'] = 0; }())","frame_eqs_str":"","point_eqs_str":"(function(){a['ma']=(a['ma']+(((above(a['bass'], 1)*3.1415)*0.01)*a['bass'])); a['ma']=(a['ma']-(((above(a['treb'], 1)*3.1415)*0.01)*a['treb'])); a['mx']=(a['mx']+(0.0002*Math.cos(a['ma']))); a['my']=(a['my']+(0.0002*Math.sin(a['ma']))); a['mx']=((Math.abs(above(a['mx'], 0.9))>0.00001)?((0.9-a['mx'])):(a['mx'])); a['my']=((Math.abs(above(a['my'], 0.9))>0.00001)?((0.9-a['my'])):(a['my'])); a['mx']=((Math.abs(below(a['mx'], 0.1))>0.00001)?((0.9+a['mx'])):(a['mx'])); a['my']=((Math.abs(below(a['my'], 0.1))>0.00001)?((0.9+a['my'])):(a['my'])); a['x']=a['mx']; a['y']=a['my']; a['a']=above(((a['bass']+a['mid'])+a['treb']), 0.8);}())","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\nma=ma-(above(treb,1)*3.1415*.01*treb);\n\nmx=mx+(.0002*cos(ma));\nmy=my+(.0002*sin(ma));\n\nmx=if(above(mx,.9),(.9-mx),mx);\nmy=if(above(my,.9),(.9-my),my);\nmx=if(below(mx,.1),(.9+mx),mx);\nmy=if(below(my,.1),(.9+my),my);\n\nx=mx;\ny=my;\n\na=(above(bass+mid+treb,.8));"},{"baseVals":{"enabled":1,"thick":1},"init_eqs_str":"(function(){a['ma'] = 0; a['mx'] = 0; a['my'] = 0; }())","frame_eqs_str":"","point_eqs_str":"(function(){a['ma']=(a['ma']+(((above(a['bass'], 1)*3.1415)*0.05)*a['bass'])); a['ma']=(a['ma']-(((above(a['mid'], 1)*3.1415)*0.05)*a['mid'])); a['mx']=(a['mx']+(0.0001*Math.cos(a['ma']))); a['my']=(a['my']+(0.0001*Math.sin(a['ma']))); a['mx']=((Math.abs(above(a['mx'], 0.9))>0.00001)?((0.9-a['mx'])):(a['mx'])); a['my']=((Math.abs(above(a['my'], 0.9))>0.00001)?((0.9-a['my'])):(a['my'])); a['mx']=((Math.abs(below(a['mx'], 0.1))>0.00001)?((0.9+a['mx'])):(a['mx'])); a['my']=((Math.abs(below(a['my'], 0.1))>0.00001)?((0.9+a['my'])):(a['my'])); a['x']=a['mx']; a['y']=a['my']; a['a']=above(((a['bass']+a['mid'])+a['treb']), 0.1);}())","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\nma=ma-(above(mid,1)*3.1415*.05*mid);\n\nmx=mx+(.0001*cos(ma));\nmy=my+(.0001*sin(ma));\n\nmx=if(above(mx,.9),(.9-mx),mx);\nmy=if(above(my,.9),(.9-my),my);\nmx=if(below(mx,.1),(.9+mx),mx);\nmy=if(below(my,.1),(.9+my),my);\n\nx=mx;\ny=my;\n\na=(above(bass+mid+treb,.1));"},{"baseVals":{"enabled":1,"usedots":1,"thick":1},"init_eqs_str":"(function(){a['ma'] = 0; a['mx'] = 0; a['my'] = 0; }())","frame_eqs_str":"","point_eqs_str":"(function(){a['ma']=(a['ma']+(((above(a['mid'], 1)*3.1415)*0.01)*a['mid'])); a['ma']=(a['ma']-(((above(a['treb'], 1)*3.1415)*0.01)*a['treb'])); a['mx']=(a['mx']+(0.0004*Math.cos(a['ma']))); a['my']=(a['my']+(0.0004*Math.sin(a['ma']))); a['mx']=((Math.abs(above(a['mx'], 0.9))>0.00001)?((0.9-a['mx'])):(a['mx'])); a['my']=((Math.abs(above(a['my'], 0.9))>0.00001)?((0.9-a['my'])):(a['my'])); a['mx']=((Math.abs(below(a['mx'], 0.1))>0.00001)?((0.9+a['mx'])):(a['mx'])); a['my']=((Math.abs(below(a['my'], 0.1))>0.00001)?((0.9+a['my'])):(a['my'])); a['x']=a['mx']; a['y']=a['my']; a['a']=above(((a['bass']+a['mid'])+a['treb']), 0.3);}())","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\nma=ma-(above(treb,1)*3.1415*.01*treb);\n\nmx=mx+(.0004*cos(ma));\nmy=my+(.0004*sin(ma));\n\nmx=if(above(mx,.9),(.9-mx),mx);\nmy=if(above(my,.9),(.9-my),my);\nmx=if(below(mx,.1),(.9+mx),mx);\nmy=if(below(my,.1),(.9+my),my);\n\nx=mx;\ny=my;\n\na=(above(bass+mid+treb,.3));"},{"baseVals":{"enabled":1,"thick":1},"init_eqs_str":"(function(){a['ma'] = 0; a['mx'] = 0; a['my'] = 0; }())","frame_eqs_str":"","point_eqs_str":"(function(){a['ma']=(a['ma']+(((above(a['bass'], 0.5)*3.1415)*0.02)*a['bass'])); a['ma']=(a['ma']-(((above(a['treb'], 0.5)*3.1415)*0.02)*a['treb'])); a['mx']=(a['mx']+(0.0008*Math.cos(a['ma']))); a['my']=(a['my']+(0.0008*Math.sin(a['ma']))); a['mx']=((Math.abs(above(a['mx'], 0.9))>0.00001)?((0.9-a['mx'])):(a['mx'])); a['my']=((Math.abs(above(a['my'], 0.9))>0.00001)?((0.9-a['my'])):(a['my'])); a['mx']=((Math.abs(below(a['mx'], 0.1))>0.00001)?((0.9+a['mx'])):(a['mx'])); a['my']=((Math.abs(below(a['my'], 0.1))>0.00001)?((0.9+a['my'])):(a['my'])); a['x']=a['mx']; a['y']=a['my']; a['a']=above(((a['bass']+a['mid'])+a['treb']), 0.2);}())","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,.5)*3.1415*.02*bass);\nma=ma-(above(treb,.5)*3.1415*.02*treb);\n\nmx=mx+(.0008*cos(ma));\nmy=my+(.0008*sin(ma));\n\nmx=if(above(mx,.9),(.9-mx),mx);\nmy=if(above(my,.9),(.9-my),my);\nmx=if(below(mx,.1),(.9+mx),mx);\nmy=if(below(my,.1),(.9+my),my);\n\nx=mx;\ny=my;\n\na=(above(bass+mid+treb,.2));"}],"init_eqs_str":"(function(){a['bl'] = 0; a['tic'] = 0; a['st'] = 0; a['slide'] = 0; a['toc'] = 0; a['sw'] = 0; a['br'] = 0; a['vt'] = 0; a['swi'] = 0; a['meanbass_att'] = 0; a['tr'] = 0; a['tim'] = 0; a['bt'] = 0; a['q1'] = 0; a['bet'] = 0; a['mid_avg'] = 0; a['tt'] = 0; a['tin'] = 0; a['lastbeat'] = 0; a['beatrate'] = 0; a['bass_avg'] = 0; a['peakbass_att'] = 0; a['vav'] = 0; a['q4'] = 0; a['zm'] = 0; a['rd'] = 0; a['mt'] = 0; a['att'] = 0; a['treb_avg'] = 0; a['volume'] = 0; a['beat'] = 0; a['vol'] = 0; a['sp'] = 0; a['q2'] = 0; a['q3'] = 0;}())","frame_eqs_str":"(function(){a['volume']=(0.3*((a['bass']+a['mid'])+a['att'])); a['beatrate']=(equal(a['beatrate'], 0)+((1-equal(a['beatrate'], 0))*(below(a['volume'], 0.01)+((1-below(a['volume'], 0.01))*a['beatrate'])))); a['lastbeat']=(a['lastbeat']+(equal(a['lastbeat'], 0)*a['time'])); a['meanbass_att']=(0.1*((a['meanbass_att']*9)+a['bass_att'])); a['peakbass_att']=Math.max(a['bass_att'], a['peakbass_att']); a['beatrate']=Math.max(((Math.abs(a['beat'])>0.00001)?(((Math.abs(below((a['time']-a['lastbeat']), (2*a['beatrate'])))>0.00001)?((0.1*(((a['beatrate']*9)+a['time'])-a['lastbeat']))):(a['beatrate']))):(a['beatrate'])), 0.1); a['peakbass_att']=((a['beat']*a['bass_att'])+(((1-a['beat'])*a['peakbass_att'])*((above((a['time']-a['lastbeat']), (2*a['beatrate']))*0.95)+((1-above((a['time']-a['lastbeat']), (2*a['beatrate'])))*0.995)))); a['lastbeat']=((a['beat']*a['time'])+((1-a['beat'])*a['lastbeat'])); a['peakbass_att']=Math.max(a['peakbass_att'], (1.1*a['meanbass_att'])); a['beat']=((above(a['volume'], 0.8)*below((a['peakbass_att']-a['bass_att']), (0.05*a['peakbass_att'])))*above((a['time']-a['lastbeat']), (0.1+(0.5*(a['beatrate']-0.1))))); a['warp']=0; a['tic']=Math.min((a['time']-a['tin']), 0.1); a['tin']=a['time']; a['vol']=(((a['bass_att']+a['treb_att'])+a['mid_att'])*0.333333); a['treb_avg']=(a['tic']*((a['treb_avg']*(div(1,a['tic'])-10))+(10*a['treb']))); a['mid_avg']=(a['tic']*((a['mid_avg']*(div(1,a['tic'])-10))+(10*a['mid']))); a['bass_avg']=(a['tic']*((a['bass_avg']*(div(1,a['tic'])-10))+(10*a['bass']))); a['vav']=(a['tic']*((a['vav']*(div(1,a['tic'])-10))+((10*((a['bass']+a['treb'])+a['mid']))*0.33333))); a['tt']=(a['tt']+(a['tic']*a['treb'])); a['mt']=(a['mt']+(a['tic']*a['mid'])); a['bet']=Math.min(pow(a['bass'], 9), 4); a['bt']=(a['bt']+(a['tic']*a['bet'])); a['vt']=(a['vt']+(a['tic']*a['vav'])); a['sp']=(Math.abs((a['vav']-a['slide']))*0.1); a['slide']=(((Math.abs(above(a['slide'], a['vav']))>0.00001)?((a['slide']-(a['tic']*a['sp']))):((a['slide']+(a['tic']*a['sp']))))+(((1-a['toc'])*a['vav'])*0.2)); a['toc']=1; a['tr']=((Math.abs(above(a['st'], 0))>0.00001)?(0.999):((a['tr']+(a['tic']*a['mid'])))); a['tr']=(a['tr']-Math.floor(a['tr'])); a['st']=((Math.abs(above(a['st'], 0))>0.00001)?((a['st']-a['tic'])):((above(a['tr'], 0.9)*0.1))); a['q1']=a['tt']; a['q2']=a['bt']; a['q3']=((a['tt']+a['mt'])*0.1); a['q4']=a['vt']; a['br']=(a['beatrate']*0.5); a['sw']=above(a['tim'], a['br']); a['tim']=((Math.abs(a['sw'])>0.00001)?((a['tim']-a['br'])):(a['tim'])); a['tim']=(a['tim']+a['tic']); a['swi']=((Math.abs(a['sw'])>0.00001)?((1-a['swi'])):(a['swi'])); a['monitor']=a['beatrate'];}())","pixel_eqs_str":"(function(){a['sw']=(div(a['ang'],6.2832)+1); a['sw']=((a['sw']*8)+(a['q4']*0.1)); a['bl']=equal(mod(Math.floor(a['sw']),2), 0); a['sw']=(a['sw']-Math.floor(a['sw'])); a['sw']=(((Math.abs(a['bl'])>0.00001)?(a['sw']):((1-a['sw'])))*3); a['rd']=pow((a['rad']*0.8), 0.9); a['rd']=(((a['rd']*6.2832)*2)-((a['q2']+a['sw'])*3)); a['zm']=(0.01+(0.01*Math.sin(a['rd']))); a['dx']=((a['x']-0.5)*a['zm']); a['dy']=((a['y']-0.5)*a['zm']);}())","init_eqs_eel":"","frame_eqs_eel":"//krash's beat detection code\nvolume = 0.3*(bass+mid+att);\nbeatrate = equal(beatrate,0) + (1-equal(beatrate,0))*(below(volume,0.01) + (1-below(volume,0.01))*beatrate);\nlastbeat = lastbeat + equal(lastbeat,0)*time;\nmeanbass_att = 0.1*(meanbass_att*9 + bass_att);\npeakbass_att = max(bass_att,peakbass_att);\nbeatrate = max(if(beat,if(below(time-lastbeat,2*beatrate),0.1*(beatrate*9 + time - lastbeat),beatrate),beatrate),0.1);\npeakbass_att = beat*bass_att + (1-beat)*peakbass_att*(above(time - lastbeat, 2*beatrate)*0.95 + (1-above(time - lastbeat, 2*beatrate))*0.995);\nlastbeat = beat*time + (1-beat)*lastbeat;\npeakbass_att = max(peakbass_att,1.1*meanbass_att);\nbeat = above(volume,0.8)*below(peakbass_att - bass_att, 0.05*peakbass_att)*above(time - lastbeat, 0.1 + 0.5*(beatrate - 0.1));\n\nwarp = 0;\n\ntic = min(time-tin,.1);\ntin = time;\n\nvol = (bass_att + treb_att + mid_att)*.333333;\n\ntreb_avg = tic*(treb_avg*(1/tic - 10) + 10*treb);\nmid_avg = tic*(mid_avg*(1/tic - 10) + 10*mid);\nbass_avg = tic*(bass_avg*(1/tic - 10) + 10*bass);\nvav = tic*(vav*(1/tic - 10) + 10*(bass+treb+mid)*.33333);\n\ntt = tt + tic*treb;\nmt = mt + tic*mid;\n\nbet = min(pow(bass,9),4);\nbt = bt + tic*bet;\nvt = vt + tic*vav;\n\nsp = abs(vav - slide)*.1;\nslide = if(above(slide,vav),slide-tic*sp,slide+tic*sp) + (1-toc)*vav*.2;\ntoc = 1;\n\n\ntr = if(above(st,0),.999,tr + tic*mid);\ntr = tr - int(tr);\nst = if(above(st,0),st - tic,above(tr,.9)*.1);\n\n\nq1 = tt; // speed of comets\nq2 = bt; // speed of ripples\n//q2 = .5;\nq3 = (tt + mt)*.1; //speed of bands\nq4 = vt; // speed of rotation\n\nbr = beatrate*.5;\nsw = above(tim,br);\ntim = if(sw,tim-br,tim);\ntim = tim + tic;\nswi = if(sw,1-swi,swi);\n//invert = swi;\n\nmonitor = beatrate;","pixel_eqs_eel":"sw = ang/6.2832 + 1;\nsw = sw*8 + q4*.1;\n\nbl = equal(int(sw)%2,0);\nsw = sw - int(sw);\nsw = if(bl,sw,1-sw)*3;\n\n\nrd = pow(rad*.8,.9);\nrd = rd*6.2832*2 - (q2+sw)*3;\nzm = .01 + .01*sin(rd);\n\ndx = (x-.5)*zm;\ndy = (y-.5)*zm;","warp":"uniform sampler2D sampler_worms;\nvec3 color, mus;\nfloat dx,dy;\nshader_body {\nvec2 uv1 = (uv-.2) * aspect.xy;\n\n\nvec2 uv6 = uv1;\nfloat z = q29*2*length(uv1)+rand_frame * 32;\nvec2 d = normalize(uv1);\nvec2 rs = clamp(tan(z)*d,-8,8);\nuv += .004*((texture(sampler_blur1, uv).xyz * scale1) + bias1)*vec2 (0,1);//rs/20;\n\n\nuv6 = .4*sin(uv1*18*rand_frame);\nmus = .051/(length(uv6));\nmus *= vec3 (1,.8,.5);\n\nvec3 blur = ((texture(sampler_blur2, fract(uv)).xyz * scale2) + bias2);\n\nvec3 crisp= texture(sampler_main,uv).xyz;\n\nvec3 ret1 = crisp - blur*.03 + .15*mus;\nvec2 uv2 = (uv_orig-.5)-vec2(.5,.5+0.1*q25);\n\nq25 = 1;\nret = q25*(ret1*.99-.02) + (1-q25)* texture(sampler_main, uv_orig).xyz;\n\n}","comp":"shader_body\n{\n\n\n\nvec2 uva = uv;\nvec2 uvb = vec2(1-uv.x,uv.y);\n\nret = texture(sampler_main, uva).x + texture(sampler_main, uvb).x;\n\nvec3 blurs = ((texture(sampler_blur1, uva).xyz * scale1) + bias1).x + ((texture(sampler_blur3, uva).xyz * scale3) + bias3).x;\nblurs += ((texture(sampler_blur1, uvb).xyz * scale1) + bias1).x + ((texture(sampler_blur3, uvb).xyz * scale3) + bias3).x;\n\n\nvec2 uv3 = (uv-.5)*(1-((texture(sampler_blur1, uv).xyz * scale1) + bias1).zzz)+.5;\nret += clamp(pow(texture(sampler_main, uv3).zzz,.5)*(1-ret.x*2), 0.0, 1.0),\nret += clamp(pow(((texture(sampler_blur1, uv3).xyz * scale1) + bias1).zzz,.5)*(1-ret.x*2), 0.0, 1.0),\n\n\nret = mix (\nblurs,\nret,\npow(ret,1));\n\nret = pow(ret,vec3(5,1,.5));\n\nret += pow(texture(sampler_main, vec2(uv.x,1-uv.y)).yyy+texture(sampler_main, 1-uv).yyy,vec3(.6,.95,5));\nvec4 noise9 = texture(sampler_noisevol_hq, \n                      ((uv3.xyy*q28\n                       )*texsize.xyy*texsize_noisevol_hq.zww\n                      ).xyz*\n                      vec3(1,1,0)*0.05 + \n                      time*vec3(0,0,1)*q31\n                     ).xyz;\nif(ret.x> q26*q13         && ret.x<= q23*q11        )ret.z -= (noise9).x*.5; \nif(ret.y> q25*q11         && ret.y<= q22*q12        )ret.x -= (noise9).y*.5; \nif(ret.z> q24*q12         && ret.z<= q21*q13        )ret.y -= (noise9).z*.5; \n\nret-=slow_roam_sin*roam_cos.zxy*.5;\n\n}","warp_hlsl":"sampler sampler_worms;\nfloat3 color, mus;\nfloat dx,dy;\nshader_body {\nfloat2 uv1 = (uv-.2) * aspect.xy;\n\n\nfloat2 uv6 = uv1;\nfloat z = q29*2*length(uv1)+rand_frame * 32;\nfloat2 d = normalize(uv1);\nfloat2 rs = clamp(tan(z)*d,-8,8);\nuv += .004*GetBlur1(uv)*float2 (0,1);//rs/20;\n\n\nuv6 = .4*sin(uv1*18*rand_frame);\nmus = .051/(length(uv6));\nmus *= float3 (1,.8,.5);\n\nfloat3 blur = GetBlur2(frac(uv));\n\nfloat3 crisp= tex2D(sampler_main,uv);\n\nfloat3 ret1 = crisp - blur*.03 + .15*mus;\nfloat2 uv2 = (uv_orig-.5)-float2(.5,.5+0.1*q25);\n\nq25 = 1;\nret = q25*(ret1*.99-.02) + (1-q25)* GetPixel(uv_orig);\n\n}","comp_hlsl":"shader_body\n{\n\n\n\nfloat2 uva = uv;\nfloat2 uvb = float2(1-uv.x,uv.y);\n\nret = tex2D(sampler_main, uva).x + tex2D(sampler_main, uvb).x;\n\nfloat3 blurs = GetBlur1(uva).x + GetBlur3(uva).x;\nblurs += GetBlur1(uvb).x + GetBlur3(uvb).x;\n\n\nfloat2 uv3 = (uv-.5)*(1-GetBlur1(uv).zzz)+.5;\nret += saturate(pow(tex2D(sampler_main, uv3).zzz,.5)*(1-ret.x*2)),\nret += saturate(pow(GetBlur1(uv3).zzz,.5)*(1-ret.x*2)),\n\n\nret = lerp (\nblurs,\nret,\npow(ret,1));\n\nret = pow(ret,float3(5,1,.5));\n\nret += pow(tex2D(sampler_main, float2(uv.x,1-uv.y)).yyy+tex2D(sampler_main, 1-uv).yyy,float3(.6,.95,5));\nfloat4 noise9 = tex3D(sampler_noisevol_hq, \n                      ((uv3.xyy*q28\n                       )*texsize.xyy*texsize_noisevol_hq.zww\n                      ).xyz*\n                      float3(1,1,0)*0.05 + \n                      time*float3(0,0,1)*q31\n                     );\nif(ret.x> q26*q13         && ret.x<= q23*q11        )ret.z -= (noise9).x*.5; \nif(ret.y> q25*q11         && ret.y<= q22*q12        )ret.x -= (noise9).y*.5; \nif(ret.z> q24*q12         && ret.z<= q21*q13        )ret.y -= (noise9).z*.5; \n\nret-=slow_roam_sin*roam_cos.zxy*.5;\n\n}"}