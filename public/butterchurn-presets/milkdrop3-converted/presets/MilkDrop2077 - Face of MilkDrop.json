{"version":1,"baseVals":{"rating":4,"gammaadj":1.46,"decay":0.935,"echo_zoom":1.007,"echo_alpha":0.5,"echo_orient":2,"wave_mode":7,"additivewave":1,"wave_thick":1,"brighten":1,"darken":1,"wave_a":1,"wave_scale":1.29,"wave_smoothing":0.05,"wave_mystery":1,"warpscale":3.138,"zoomexp":2.00676,"fshader":1,"zoom":1.033,"warp":0.04298,"wave_g":0.4,"wave_b":0.1,"wave_y":0.88,"mv_a":0},"shapes":[{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_str":"(function(){a['q25'] = 0; a['q12'] = 0; a['q18'] = 0; a['q22'] = 0; a['q21'] = 0; a['vt'] = 0; a['q13'] = 0; a['q15'] = 0; a['q29'] = 0; a['q6'] = 0; a['q1'] = 0; a['q5'] = 0; a['vb'] = 0; a['q9'] = 0; a['bass_thresh'] = 0; a['v'] = 0; a['mm'] = 0; a['tt'] = 0; a['q31'] = 0; a['q23'] = 0; a['q24'] = 0; a['q11'] = 0; a['q10'] = 0; a['q4'] = 0; a['dx_residual'] = 0; a['q16'] = 0; a['q26'] = 0; a['q19'] = 0; a['q17'] = 0; a['bb'] = 0; a['q2'] = 0; a['q27'] = 0; a['q14'] = 0; a['q3'] = 0; a['vvm'] = 0; a['q32'] = 0; a['vvb'] = 0; a['q7'] = 0; a['q28'] = 0; a['vm'] = 0; a['q30'] = 0; a['q20'] = 0; a['vvt'] = 0; a['q8'] = 0; a['dy_residual'] = 0;}())","frame_eqs_str":"(function(){a['vb']=((a['vb']*0.95)+(((1-a['vb'])*pow(((a['bass_att']*a['treb_att'])*a['mid_att']), 2))*0.02)); a['vvb']=((a['vvb']*0.95)+(((1-a['vvb'])*a['vb'])*0.01)); a['vm']=((a['vm']*0.95)+(((1-a['vm'])*pow(a['mid_att'], 2))*0.02)); a['vvm']=((a['vvm']*0.95)+(((1-a['vvm'])*a['vm'])*0.01)); a['vt']=((a['vt']*0.95)+(((1-a['vt'])*pow(a['treb_att'], 2))*0.02)); a['vvt']=((a['vvt']*0.95)+(((1-a['vvt'])*a['vt'])*0.01)); a['vvb']=Math.min(1, Math.max(0, a['vvb'])); a['vvm']=Math.min(1, Math.max(0, a['vvm'])); a['vvt']=Math.min(1, Math.max(0, a['vvt'])); a['q1']=(a['vvb']*2); a['q2']=(a['vvm']*2); a['q3']=(a['vvt']*2); a['v']=2; a['bb']=(a['bb']-(a['vvb']*a['v'])); a['mm']=(a['mm']-(a['vvm']*a['v'])); a['tt']=(a['tt']-(a['vvt']*a['v'])); a['q4']=-a['bb']; a['q5']=-a['mm']; a['q6']=-a['tt']; a['q4']=(((a['q1']+a['q2'])+a['q3'])*5); a['q5']=(((a['q1']+a['q2'])+a['q3'])*5); a['q6']=(((a['q1']+a['q2'])+a['q3'])*5); a['q7']=(((a['q1']+a['q2'])+a['q3'])*5); a['q8']=(((a['q1']+a['q2'])+a['q3'])*5); a['q9']=(((a['q1']+a['q2'])+a['q3'])*5); a['q10']=(((a['q1']+a['q2'])+a['q3'])*5); a['q11']=(((a['q1']+a['q2'])+a['q3'])*5); a['q12']=(((a['q1']+a['q2'])+a['q3'])*5); a['q13']=(((a['q1']+a['q2'])+a['q3'])*5); a['q14']=(((a['q1']+a['q2'])+a['q3'])*5); a['q15']=(((a['q1']+a['q2'])+a['q3'])*5); a['q16']=(((a['q1']+a['q2'])+a['q3'])*5); a['q17']=(((a['q1']+a['q2'])+a['q3'])*5); a['q18']=(((a['q1']+a['q2'])+a['q3'])*5); a['q19']=(((a['q1']+a['q2'])+a['q3'])*5); a['q20']=(((a['q1']+a['q2'])+a['q3'])*5); a['q21']=(((a['q1']+a['q2'])+a['q3'])*5); a['q22']=(((a['q1']+a['q2'])+a['q3'])*5); a['q23']=(((a['q1']+a['q2'])+a['q3'])*5); a['q24']=(((a['q1']+a['q2'])+a['q3'])*5); a['q25']=(((a['q1']+a['q2'])+a['q3'])*5); a['q26']=(((a['q1']+a['q2'])+a['q3'])*5); a['q27']=(((a['q1']+a['q2'])+a['q3'])*5); a['q28']=(((a['q1']+a['q2'])+a['q3'])*5); a['q29']=(((a['q1']+a['q2'])+a['q3'])*5); a['q30']=(((a['q1']+a['q2'])+a['q3'])*5); a['q31']=(((a['q1']+a['q2'])+a['q3'])*5); a['q32']=(((a['q1']+a['q2'])+a['q3'])*5); a['wave_r']=1; a['wave_g']=1; a['wave_b']=1; a['rot']=(a['rot']+(0.010*((0.60*Math.sin((0.381*a['time'])))+(0.40*Math.sin((0.979*a['time'])))))); a['cx']=(a['cx']+(0.110*((0.60*Math.sin((0.374*a['time'])))+(0.40*Math.sin((0.294*a['time'])))))); a['cy']=(a['cy']+(0.110*((0.60*Math.sin((0.393*a['time'])))+(0.40*Math.sin((0.223*a['time'])))))); a['dx']=(a['dx']+(0.00*((0.60*Math.sin((0.234*a['time'])))+(0.40*Math.sin((0.277*a['time'])))))); a['dy']=(a['dy']+(0.00*((0.60*Math.sin((0.284*a['time'])))+(0.40*Math.sin((0.247*a['time'])))))); a['decay']=(a['decay']-(0.01*equal(mod(a['frame'],6), 0))); a['dx']=(a['dx']+(a['dx_residual']*0.5)); a['dy']=(a['dy']+(a['dy_residual']*0.5)); a['bass_thresh']=((above(a['bass_att'], a['bass_thresh'])*2)+((1-above(a['bass_att'], a['bass_thresh']))*(((a['bass_thresh']-1.3)*0.96)+1.3))); a['dx_residual']=(((equal(a['bass_thresh'], 2.13)*0.016)*Math.sin((a['time']*7)))+((1-equal(a['bass_thresh'], 2.13))*a['dx_residual'])); a['dy_residual']=(((equal(a['bass_thresh'], 2.13)*0.012)*Math.sin((a['time']*9)))+((1-equal(a['bass_thresh'], 2.13))*a['dy_residual'])); a['wave_x']=(a['wave_x']-(a['dx_residual']*7)); a['wave_y']=(a['wave_y']-(a['dy_residual']*7));}())","pixel_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"//per frame less reactive volume for all unused q vars, put before other q vars are set for cop out mashing\nvb = vb*0.95 + (1-vb)*pow(bass_att*treb_att*mid_att,2)*0.02;\nvvb = vvb*0.95 + (1-vvb)*vb*0.01;\nvm = vm*0.95 + (1-vm)*pow(mid_att,2)*0.02;\nvvm = vvm*0.95 + (1-vvm)*vm*0.01;\nvt = vt*0.95 + (1-vt)*pow(treb_att,2)*0.02;\nvvt = vvt*0.95 + (1-vvt)*vt*0.01;\nvvb = min(1,max(0,vvb));\nvvm = min(1,max(0,vvm));\nvvt = min(1,max(0,vvt));\nq1 = vvb*2;//0.5 + vb - vvb;\nq2 = vvm*2;//0.5 + vm - vvm;\nq3 = vvt*2;//0.5 + vt - vvt;\nv=2;\nbb = bb - vvb*v;\nmm = mm - vvm*v;\ntt = tt - vvt*v;\nq4 = -bb;\nq5 = -mm;\nq6 = -tt;\nq4=(q1+q2+q3)*5;\nq5=(q1+q2+q3)*5;\nq6=(q1+q2+q3)*5;\nq7=(q1+q2+q3)*5;\nq8=(q1+q2+q3)*5;\nq9=(q1+q2+q3)*5;\nq10=(q1+q2+q3)*5;\nq11=(q1+q2+q3)*5;\nq12=(q1+q2+q3)*5;\nq13=(q1+q2+q3)*5;\nq14=(q1+q2+q3)*5;\nq15=(q1+q2+q3)*5;\nq16=(q1+q2+q3)*5;\nq17=(q1+q2+q3)*5;\nq18=(q1+q2+q3)*5;\nq19=(q1+q2+q3)*5;\nq20=(q1+q2+q3)*5;\nq21=(q1+q2+q3)*5;\nq22=(q1+q2+q3)*5;\nq23=(q1+q2+q3)*5;\nq24=(q1+q2+q3)*5;\nq25=(q1+q2+q3)*5;\nq26=(q1+q2+q3)*5;\nq27=(q1+q2+q3)*5;\nq28=(q1+q2+q3)*5;\nq29=(q1+q2+q3)*5;\nq30=(q1+q2+q3)*5;\nq31=(q1+q2+q3)*5;\nq32=(q1+q2+q3)*5;\n\nwave_r = 1;\nwave_g = 1;\nwave_b = 1;\nrot = rot + 0.010*( 0.60*sin(0.381*time) + 0.40*sin(0.979*time) );\ncx = cx + 0.110*( 0.60*sin(0.374*time) + 0.40*sin(0.294*time) );\ncy = cy + 0.110*( 0.60*sin(0.393*time) + 0.40*sin(0.223*time) );\ndx = dx + 0.00*( 0.60*sin(0.234*time) + 0.40*sin(0.277*time) );\ndy = dy + 0.00*( 0.60*sin(0.284*time) + 0.40*sin(0.247*time) );\ndecay = decay - 0.01*equal(frame%6,0);\ndx = dx + dx_residual*0.5;\ndy = dy + dy_residual*0.5;\nbass_thresh = above(bass_att,bass_thresh)*2 + (1-above(bass_att,bass_thresh))*((bass_thresh-1.3)*0.96+1.3);\ndx_residual = equal(bass_thresh,2.13)*0.016*sin(time*7) + (1-equal(bass_thresh,2.13))*dx_residual;\ndy_residual = equal(bass_thresh,2.13)*0.012*sin(time*9) + (1-equal(bass_thresh,2.13))*dy_residual;\nwave_x = wave_x - dx_residual*7;\nwave_y = wave_y - dy_residual*7;\n//wave_mystery = time*0.057;","pixel_eqs_eel":"","warp":"shader_body\n{\n    ret = texture(sampler_main, uv).xyz * 0.7; // Sample and decay\n\n    vec2 z = uv;\n    vec2 c;\n    \n    if(q9 == 5) c = vec2(0.285, 0);\n    else if(q9 == 6) c = vec2(-0.66176 + 0.03*q20, -0.3842);\n    else if(q9 == 0) c = vec2(-0.7269 + 0.01*q21, 0.1889 + 0.01*q22);\n    else c = z;\n\n    int n = 0;\n    const int maxiter = 20; // Reduced from 20\n    const float r = 20;\n    const float r2 = r*r;\n    \n    while(n < maxiter && dot(z,z) < r2) {\n        z = vec2(z.x*z.x - z.y*z.y, 2*z.x*z.y) + c;\n        n++;\n    }\n\n    float smooth_iter = n - log2(log(length(z))/log(r));\n    \n    ret = vec3(\n        0.5 + 0.5*tan(0.21*smooth_iter*3.5 + 0.5*time + 0.2*q5),\n        0.5 + 0.5*cos(0.33*smooth_iter*3.5 + 0.7*time + 0.2*q6),\n        0.5 + 0.5*tan(0.45*smooth_iter*3.5 + 0.9*time + 0.2*q7)\n    );\n}","comp":"shader_body\n{\nvec2 uv2 = uv;\nuv2.x=1-uv2.x;\n\n    vec2 d  = texsize.zw*4;\n    vec2 d2 = texsize.zw*4;\n\n    vec3 dx  = ( ((texture(sampler_blur1, uv +vec2(1,0)*d ).xyz * scale1) + bias1)-((texture(sampler_blur1, uv2-vec2(1,0)*d2).xyz * scale1) + bias1) );\n   vec3 dx2 = ( ((texture(sampler_blur1, uv2+vec2(1,0)*d2).xyz * scale1) + bias1)-((texture(sampler_blur1, uv -vec2(0,1)*d ).xyz * scale1) + bias1) );\n\n    vec3 dy  = ( ((texture(sampler_blur1, uv2+vec2(0,1)*d2).xyz * scale1) + bias1)-((texture(sampler_blur1, uv -vec2(1,0)*d ).xyz * scale1) + bias1) );\n    vec3 dy2 = ( ((texture(sampler_blur1, uv +vec2(0,1)*d ).xyz * scale1) + bias1)-((texture(sampler_blur1, uv2-vec2(0,1)*d2).xyz * scale1) + bias1) );\n\n\nvec2 uv_bg  = uv2 - vec2(dx2.y,dy2.y)*texsize.zw*16;\nvec2 uv_bg2 = uv  - vec2(dx.y ,dy.y )*texsize.zw*16;\n\nret = (((texture(sampler_blur2, uv_bg ).xyz * scale2) + bias2)-((texture(sampler_blur1, uv_bg2).xyz * scale1) + bias1)*1+texture(sampler_main, uv_bg ).xyz*0.9 + (-dx.y  + dy.y )*0.4).y*0.8*vec3(1.0,1.1,1.2);\nvec3 ret2 = (((texture(sampler_blur2, uv_bg2).xyz * scale2) + bias2)-((texture(sampler_blur1, uv_bg ).xyz * scale1) + bias1)*1+texture(sampler_main, uv_bg2).xyz*0.9 + (-dx2.y + dy2.y)*0.4).y*0.8*vec3(1.2,1.0,1.1);\n\nvec2 uv_m  = uv2 - vec2(dx2.x,dy.x )*texsize.zw*8;\nvec2 uv_m2 = uv  - vec2(dx.x ,dy2.x)*texsize.zw*8;\n\nret  = mix(ret , 2*vec3(0.0,0.5,1.0), ((texture(sampler_blur3, uv_m2 - vec2(dx2.y,dy.y )*0.4).xyz * scale3) + bias3).x*0.4);\nret2 = mix(ret2, 2*vec3(0.5,1.0,0.0), ((texture(sampler_blur3, uv_m  - vec2(dx.y ,dy2.y)*0.4).xyz * scale3) + bias3).x*0.4);\n\nret  = mix(ret , 2*vec3(0.5,1.0,1.0), ((texture(sampler_blur2, uv_m  - vec2(dx.y ,dy2.y)*0.2).xyz * scale2) + bias2).x*0.4);\nret2 = mix(ret2, 2*vec3(1.0,0.5,1.0), ((texture(sampler_blur2, uv_m2 - vec2(dx2.y,dy.y )*0.2).xyz * scale2) + bias2).x*0.4);\n\nret = mix(ret, 2*vec3(1,1,0.8), ((texture(sampler_blur1, uv_m - vec2(dx.y,dy.y)*0.1).xyz * scale1) + bias1).x*0.2);\n//ret = mix(ret, vec3(0.5,0,1), texture(sampler_main, uv_m).xyz.x*0.4);\n\n//ret = .7-ret2;\n//ret2=.7-ret;\n//ret-=ret2;\n//MilkDrop3 Color Mode:\nret /= vec3(1.5,2.2,1.2);\n//MilkDrop3 Brightness Mode:\nret *= 1.6;\n}","warp_hlsl":"shader_body\n{\n    ret = tex2D(sampler_main, uv).xyz * 0.7; // Sample and decay\n\n    float2 z = uv;\n    float2 c;\n    \n    if(q9 == 5) c = float2(0.285, 0);\n    else if(q9 == 6) c = float2(-0.66176 + 0.03*q20, -0.3842);\n    else if(q9 == 0) c = float2(-0.7269 + 0.01*q21, 0.1889 + 0.01*q22);\n    else c = z;\n\n    int n = 0;\n    const int maxiter = 20; // Reduced from 20\n    const float r = 20;\n    const float r2 = r*r;\n    \n    while(n < maxiter && dot(z,z) < r2) {\n        z = float2(z.x*z.x - z.y*z.y, 2*z.x*z.y) + c;\n        n++;\n    }\n\n    float smooth_iter = n - log2(log(length(z))/log(r));\n    \n    ret = float3(\n        0.5 + 0.5*tan(0.21*smooth_iter*3.5 + 0.5*time + 0.2*q5),\n        0.5 + 0.5*cos(0.33*smooth_iter*3.5 + 0.7*time + 0.2*q6),\n        0.5 + 0.5*tan(0.45*smooth_iter*3.5 + 0.9*time + 0.2*q7)\n    );\n}","comp_hlsl":"shader_body\n{\nfloat2 uv2 = uv;\nuv2.x=1-uv2.x;\n\n    float2 d  = texsize.zw*4;\n    float2 d2 = texsize.zw*4;\n\n    float3 dx  = ( GetBlur1(uv +float2(1,0)*d )-GetBlur1(uv2-float2(1,0)*d2) );\n   float3 dx2 = ( GetBlur1(uv2+float2(1,0)*d2)-GetBlur1(uv -float2(0,1)*d ) );\n\n    float3 dy  = ( GetBlur1(uv2+float2(0,1)*d2)-GetBlur1(uv -float2(1,0)*d ) );\n    float3 dy2 = ( GetBlur1(uv +float2(0,1)*d )-GetBlur1(uv2-float2(0,1)*d2) );\n\n\nfloat2 uv_bg  = uv2 - float2(dx2.y,dy2.y)*texsize.zw*16;\nfloat2 uv_bg2 = uv  - float2(dx.y ,dy.y )*texsize.zw*16;\n\nret = (GetBlur2(uv_bg )-GetBlur1(uv_bg2)*1+GetPixel(uv_bg )*0.9 + (-dx.y  + dy.y )*0.4).y*0.8*float3(1.0,1.1,1.2);\nfloat3 ret2 = (GetBlur2(uv_bg2)-GetBlur1(uv_bg )*1+GetPixel(uv_bg2)*0.9 + (-dx2.y + dy2.y)*0.4).y*0.8*float3(1.2,1.0,1.1);\n\nfloat2 uv_m  = uv2 - float2(dx2.x,dy.x )*texsize.zw*8;\nfloat2 uv_m2 = uv  - float2(dx.x ,dy2.x)*texsize.zw*8;\n\nret  = lerp(ret , 2*float3(0.0,0.5,1.0), GetBlur3(uv_m2 - float2(dx2.y,dy.y )*0.4).x*0.4);\nret2 = lerp(ret2, 2*float3(0.5,1.0,0.0), GetBlur3(uv_m  - float2(dx.y ,dy2.y)*0.4).x*0.4);\n\nret  = lerp(ret , 2*float3(0.5,1.0,1.0), GetBlur2(uv_m  - float2(dx.y ,dy2.y)*0.2).x*0.4);\nret2 = lerp(ret2, 2*float3(1.0,0.5,1.0), GetBlur2(uv_m2 - float2(dx2.y,dy.y )*0.2).x*0.4);\n\nret = lerp(ret, 2*float3(1,1,0.8), GetBlur1(uv_m - float2(dx.y,dy.y)*0.1).x*0.2);\n//ret = lerp(ret, float3(0.5,0,1), GetPixel(uv_m).x*0.4);\n\n//ret = .7-ret2;\n//ret2=.7-ret;\n//ret-=ret2;\n//MilkDrop3 Color Mode:\nret /= float3(1.5,2.2,1.2);\n//MilkDrop3 Brightness Mode:\nret *= 1.6;\n}"}