{"version":2,"baseVals":{"rating":1,"gammaadj":1.98,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wave_mode":6,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"darken":1,"wave_a":0.001,"wave_scale":2.103,"wave_smoothing":0.54,"wave_mystery":0.38,"modwavealphastart":0.81,"modwavealphaend":1.4,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0,"ob_b":1,"ob_a":0.3,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":1.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":18,"textured":1,"rad":0.15416,"tex_ang":3.76991,"tex_zoom":5.27784,"g":1,"b":1,"a":0.7,"r2":1,"b2":1,"border_b":0,"border_a":0},"init_eqs_str":"(function(){a['q1'] = 0; }());","frame_eqs_str":"(function(){a['tex_ang']=(3+(2*a['q1']));}());","init_eqs_eel":"","frame_eqs_eel":"tex_ang = 3+2*q1;"},{"baseVals":{"enabled":1,"sides":32,"rad":0.06892,"tex_zoom":1.8315,"g":1,"b":1,"a":0.9,"g2":0,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0},"init_eqs_str":"(function(){a['q24'] = 0; a['q22'] = 0; }());","frame_eqs_str":"(function(){a['a']=div(a['q24'],2); a['a2']=0; a['r']=div(rand(10),10); a['g']=div(rand(10),10); a['b']=div(rand(10),10); a['rad']=(0.06*a['q22']);}());","init_eqs_eel":"","frame_eqs_eel":"a = q24/2; a2 = 0;\n\nr = rand(10)/10;\ng = rand(10)/10;\nb = rand(10)/10;\n\nrad = .06*q22;"},{"baseVals":{"sides":63,"x":0.123,"y":0,"rad":0.27319,"tex_zoom":0.49981,"g":1,"b":1,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_str":"","frame_eqs_str":"(function(){x = .5 + .1* sin (time*73);\ny = .5 + .1* sin (time*23);\n\nr = 0; g = 0; b = 0;\nr2 = 1; g2 = 1; b2 = 1;\n\nrad = mid_att/100;\na = .7;\na2 = a;}());","init_eqs_eel":"","frame_eqs_eel":"(function(){x = .5 + .1* sin (time*73);\ny = .5 + .1* sin (time*23);\n\nr = 0; g = 0; b = 0;\nr2 = 1; g2 = 1; b2 = 1;\n\nrad = mid_att/100;\na = .7;\na2 = a;}());"},{"baseVals":{"enabled":1,"y":0.51,"rad":0.19869,"tex_ang":1.00531,"tex_zoom":0.49981,"g":0.4,"a":0.7,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0},"init_eqs_str":" ","frame_eqs_str":"(function(){a['x']=(0.05+div(rand(900),1000)); a['y']=(0.05+div(rand(900),1000));}());","init_eqs_eel":"","frame_eqs_eel":"x = 0.05 + rand(900)/1000;\ny = 0.05 + rand(900)/1000;\n "}],"waves":[{"baseVals":{"enabled":1,"samples":442,"thick":1,"additive":1,"scaling":0.89152,"smoothing":0},"init_eqs_str":"(function(){a['q22'] = 0; a['q24'] = 0; a['q27'] = 0; }());","frame_eqs_str":"","point_eqs_str":"(function(){a['x']=(0.4+(a['sample']*0.2)); a['y']=(0.5+((a['value2']*0.01)*a['q22'])); a['a']=((0.5*a['q24'])*mod((a['q27']+1),2)); a['r']=0.2; a['b']=1; a['g']=0.6;}());","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"x = .4+sample*.2 ;\ny = .5+ value2*.01*q22;\n\na = .5*q24*((q27+1)%2);\nr = 0.2;b=1; g =.6;"},{"baseVals":{"enabled":1,"thick":1,"scaling":0.89152,"smoothing":0,"a":0.1},"init_eqs_str":"(function(){a['q22'] = 0; a['q24'] = 0; a['q27'] = 0; }());","frame_eqs_str":"","point_eqs_str":"(function(){a['y']=(0.4+(a['sample']*0.2)); a['x']=(0.5+((a['value2']*0.01)*a['q22'])); a['a']=((0.6*a['q24'])*mod(a['q27'],2)); a['r']=0.2; a['b']=1; a['g']=0.6;}());","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"y = .4+sample*.2 ;\nx = .5+ value2*.01*q22;\n\na = .6*q24*((q27)%2);\nr = 0.2;b=1; g =.6;"},{"baseVals":{"thick":1,"scaling":0.89152,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"(function(){ra = .8;\nrb = .5;\npib = 6.28318530718;\n\n\ntic = min(time-tin,.1);\ntin = if(equal(sample,0),time,tin);\n\nmod = 1.5 + .5*sin(time*.15);\nmed = 1.5 + .5*sin(time*.134);\nmed = 5;\namod = 3;\n\nvr = rand(10001)*.0001;\nrb = rb + rand(10001)*.0001*.1;\n\na = vr;\n\nsa = vr*pib*.5;\nsp = sa*mod + q1*1.3;\nsam = sa*med - q1*.219;\n\nox = ra*sin(sam*pib);\noy = ra*cos(sam*pib);\nox = ox + rb*-cos(sp)*sin(sam*pib);\noz = rb*-sin(sp);\noy = oy + rb*-cos(sp)*cos(sam*pib);\n\n\nxang = time*.132;\nxang = q2;\nyang = time*.153;\nyang = q3;\nzang = time*.110;\nzang = q4;\nfov = 0.6 + 0.2*sin(time);\nfov = .5;\n\nmx = ox*cos(zang) - oy*sin(zang);\nmy = ox*sin(zang) + oy*cos(zang);\nox = mx;\noy = my;\nmx = ox*cos(yang) + oz*sin(yang);\nmz = - ox*sin(yang) + oz*cos(yang);\nox = mx;\noz = mz;\nmy = oy*cos(xang) - oz*sin(xang);\nmz = oy*sin(xang) + oz*cos(xang);\noy = my;\noz = mz;\n\noz = oz - 2;\nx = ox*fov/oz + 0.5;\nx = (x-.5)*0.75 + 0.5;\ny = oy*fov/oz + 0.5;\n}());","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"(function(){ra = .8;\nrb = .5;\npib = 6.28318530718;\n\n\ntic = min(time-tin,.1);\ntin = if(equal(sample,0),time,tin);\n\nmod = 1.5 + .5*sin(time*.15);\nmed = 1.5 + .5*sin(time*.134);\nmed = 5;\namod = 3;\n\nvr = rand(10001)*.0001;\nrb = rb + rand(10001)*.0001*.1;\n\na = vr;\n\nsa = vr*pib*.5;\nsp = sa*mod + q1*1.3;\nsam = sa*med - q1*.219;\n\nox = ra*sin(sam*pib);\noy = ra*cos(sam*pib);\nox = ox + rb*-cos(sp)*sin(sam*pib);\noz = rb*-sin(sp);\noy = oy + rb*-cos(sp)*cos(sam*pib);\n\n\nxang = time*.132;\nxang = q2;\nyang = time*.153;\nyang = q3;\nzang = time*.110;\nzang = q4;\nfov = 0.6 + 0.2*sin(time);\nfov = .5;\n\nmx = ox*cos(zang) - oy*sin(zang);\nmy = ox*sin(zang) + oy*cos(zang);\nox = mx;\noy = my;\nmx = ox*cos(yang) + oz*sin(yang);\nmz = - ox*sin(yang) + oz*cos(yang);\nox = mx;\noz = mz;\nmy = oy*cos(xang) - oz*sin(xang);\nmz = oy*sin(xang) + oz*cos(xang);\noy = my;\noz = mz;\n\noz = oz - 2;\nx = ox*fov/oz + 0.5;\nx = (x-.5)*0.75 + 0.5;\ny = oy*fov/oz + 0.5;\n}());"}],"init_eqs_str":"(function(){a['prox'] = 0; a['index2'] = 0; a['vtrig'] = 0; a['index'] = 0; a['q12'] = 0; a['t1'] = 0; a['q22'] = 0; a['q21'] = 0; a['q13'] = 0; a['q15'] = 0; a['q6'] = 0; a['rota1'] = 0; a['q1'] = 0; a['dec_med'] = 0; a['q5'] = 0; a['index3'] = 0; a['q9'] = 0; a['p1z'] = 0; a['is_beat'] = 0; a['q24'] = 0; a['vx'] = 0; a['dec_slow'] = 0; a['q11'] = 0; a['z0'] = 0; a['q10'] = 0; a['vy'] = 0; a['vz'] = 0; a['q4'] = 0; a['is_beat2'] = 0; a['q26'] = 0; a['vzs'] = 0; a['p2'] = 0; a['avg'] = 0; a['rota'] = 0; a['movez'] = 0; a['vys'] = 0; a['beat'] = 0; a['vol'] = 0; a['peak'] = 0; a['q2'] = 0; a['q27'] = 0; a['q3'] = 0; a['t0'] = 0; a['vxs'] = 0; a['q32'] = 0; a['q7'] = 0; a['q28'] = 0; a['q8'] = 0; a['prox']=1;}());","frame_eqs_str":"(function(){a['dec_med']=pow(0.4, div(30,a['fps'])); a['dec_slow']=pow(0.95, div(30,a['fps'])); a['beat']=Math.max(Math.max(a['bass'], a['mid']), a['treb']); a['avg']=((a['avg']*a['dec_slow'])+(a['beat']*(1-a['dec_slow']))); a['is_beat']=(above(a['beat'], ((-0.2+a['avg'])+a['peak']))*above(a['time'], (a['t0']+0.1))); a['t0']=((a['is_beat']*a['time'])+((1-a['is_beat'])*a['t0'])); a['peak']=((a['is_beat']*a['beat'])+(((1-a['is_beat'])*a['peak'])*a['dec_med'])); a['index']=mod((a['index']+a['is_beat']),32); a['index2']=mod((a['index2']+(a['is_beat']*bnot(a['index']))),4); a['index3']=mod(((a['index2']+a['index3'])+(a['is_beat']*bnot(a['index']))),4); a['is_beat2']=above(a['time'], (a['t1']+0.1)); a['t1']=((a['is_beat']*a['time'])+((1-a['is_beat'])*a['t1'])); a['q22']=a['peak']; a['q24']=a['is_beat']; a['q26']=((a['bass_att']+a['mid_att'])+a['treb_att']); a['vol']=((a['vol']*a['dec_med'])+((1-a['dec_med'])*a['q26'])); a['q27']=(a['index']+1.5); a['q28']=(a['index2']+1); a['p2']=((0.3*Math.sin(a['time']))+(0.3*Math.cos(div(a['time'],3)))); a['q1']=Math.cos(div((a['p2']*3.1416),4)); a['q2']=Math.sin(div((a['p2']*3.1416),4)); a['q3']=-a['q2']; a['q4']=a['q1']; a['vtrig']=(a['is_beat']*bnot(mod(a['index'],2))); a['vx']=((a['vx']*bnot(a['vtrig']))+(a['vtrig']*(div(rand(100),100)-0.5))); a['vy']=((a['vy']*bnot(a['vtrig']))+(a['vtrig']*(div(rand(100),100)-0.5))); a['vz']=((a['vz']*bnot(a['vtrig']))+(a['vtrig']*(div(rand(100),100)-0.5))); a['vx']=(a['vx']*below(mod(a['index'],32), 24)); a['vy']=(a['vy']*above(mod(a['index'],32), 16)); a['q5']=(a['vx']*5); a['q6']=(a['vy']*5); a['q21']=(div((1+Math.sin(a['time'])),4)+0.05); a['prox']=(a['prox']-((above(a['vy'], 0.3)*a['prox'])*2)); a['q32']=(0.5+(0.2*a['prox'])); a['monitor']=a['prox']; a['rota']=(a['rota']+(div((0.02*below(mod(a['index'],16), 8)),a['fps'])*30)); a['rota1']=((a['rota1']*a['dec_med'])+((1-a['dec_med'])*a['rota'])); a['q7']=a['rota1']; a['movez']=(a['movez']+div(div(0.8,((1+Math.abs(a['vx']))+Math.abs(a['vy']))),a['fps'])); a['q8']=(a['movez']*(1+div(a['q21'],400))); a['q15']=(-1+(8*above(a['index'], 26))); a['vxs']=((a['vxs']*a['dec_med'])+(((1-a['dec_med'])*a['vx'])*20)); a['vys']=((a['vys']*a['dec_med'])+(((1-a['dec_med'])*a['vy'])*20)); a['vzs']=((a['vzs']*a['dec_med'])+(((1-a['dec_med'])*a['vz'])*20)); a['z0']=(20+a['vzs']); a['p1z']=a['z0']; a['q9']=div(a['vxs'],a['p1z']); a['q10']=div(a['vys'],a['p1z']); a['q11']=a['p1z']; a['q12']=below(a['index'], 24); a['q13']=above(a['index'], 16);}());","pixel_eqs_str":"","init_eqs_eel":"prox = 1;","frame_eqs_eel":"dec_med = pow (.4, 30/fps);\ndec_slow = pow (0.95, 30/fps);\n//dec_xlow = pow (0.999, 30/fps);\nbeat = max (max (bass, mid), treb); \navg = avg*dec_slow + beat*(1-dec_slow);\nis_beat = above(beat, -.2+avg+peak) * above (time, t0+.1);\nt0 = is_beat*time + (1-is_beat)*t0;\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\nindex = (index + is_beat) %32;\nindex2 = (index2 + is_beat*bnot(index))%4;\nindex3 = (index2 +index3 + is_beat*bnot(index))%4;\n\nis_beat2 = above (time, t1+.1);\nt1 = is_beat*time + (1-is_beat)*t1;\nq22 = peak;\nq24 = is_beat;\nq26 = bass_att + mid_att + treb_att;\nvol = vol*dec_med + (1-dec_med)*q26;\nq27 = index + 1.5;\nq28 = index2 +1;\n\np2 = .3*sin(time) + .3*cos(time/3);\n//*****tunnel tilting\nq1 = cos(p2 * 3.1416/4);\nq2 = sin(p2 * 3.1416/4);\nq3 = -q2;\nq4 = q1;\n\n//****tunnel viewpoint x,y\nvtrig = is_beat * bnot(index%2);\nvx = vx * bnot(vtrig) + vtrig * (rand(100)/100-.5);\nvy = vy * bnot(vtrig) + vtrig * (rand(100)/100-.5);\nvz = vz * bnot(vtrig) + vtrig * (rand(100)/100-.5);\n\nvx = vx* below(index%32,24); //###\nvy = vy* above(index%32,16);\nq5 = vx*5;\nq6 = vy*5;\n\n//***tunnel width\nq21 = (1+sin(time))/4+.05;\n\n//**floor proximity\nprox = prox - above(vy,.3)*prox*2;\nq32 = .5 + .2*prox;\nmonitor = prox;\n\n//****tunnel rotation\nrota = rota +.02*below(index%16,8)/fps*30;\nrota1 = rota1*dec_med + (1-dec_med)*rota;\nq7 = rota1;\n\n//****tunnel speed\nmovez = movez + .8/(1+abs(vx)+abs(vy))/fps;\nq8 = movez * (1+q21/400);\n//dyn. Aenderung von q21 bewirkt auch Richt.wechsel\n\nq15 = -1+8*above(index,26);\n//***********************\nvxs = vxs * dec_med + (1-dec_med)*vx*20;\nvys = vys * dec_med + (1-dec_med)*vy*20;\nvzs = vzs * dec_med + (1-dec_med)*vz*20;\n\nz0 = 20+vzs;\n\np1z = z0;\nq9 = vxs/(p1z); \nq10 = vys/(p1z); \nq11 = p1z;\n\nq12 = below (index,24);\nq13 = above (index,16);","pixel_eqs_eel":"","warp":"vec3 color, mus;\nfloat dx,dy;\nshader_body {\n\nvec2 uv1 = (uv-.5);// * aspect.xy;\n\nvec2 uv6 = uv1;\nfloat z = q28*4*length((abs(uv1.x)-abs(uv1.y)));\nvec2 d = normalize(uv1);\nvec2 rs = clamp(tan(z)*d,-2,2);\nuv1 -= rs/40;\n\nuv6 = .4*cos(uv1*4+time);\nmus = .005/(length(uv6));\n\nvec3 crisp= texture(sampler_main,(uv1)*(.95-q28/16+.4*z)+.5).xyz;\n\nvec3 ret1 = crisp + mus;\n\nret =(ret1*.99-.03);\n\n}","comp":"uniform sampler2D sampler_pw_noise_lq;\n\nfloat k1, k2, mask1, mask2, mask3, rad1, rad2, rad3;\nvec2 rs, rss, rss0, rs0, uv2, uv3,uv4, rsk, uvo;\nvec2 dz1, dz2, dz3, Kugel1, Kugel2, Kugel3,tmp;\nvec3 noise, ret1, ret2, cathed, sky, fire;\n\nshader_body {\nuvo = uv*aspect.xy;\nuv = (mat2(_qa) * uv*aspect.xy);\nuv = uv + -.0- .2*vec2(q5,q6);\nvec2 uv1 = (uv-.5 );//*aspect.xy;\n\n//Kugel1\nrsk = (uv1 + vec2 (q9,q10)) ;\ndz1 = normalize(rsk);\nrad1 = q11*length (rsk) ;\nuv4 =  tan(rad1)*dz1;\nmask1 = clamp(8-8*rad1, 0.0, 1.0);\nKugel1 = uv4*mask1*8/q11;\nuv1 += Kugel1*.1;\n\n//Kugel2\nrsk = (sin(q27*atan(uv1.x,uv1.y)/2)) ;\ndz2 = normalize(rsk);\nrad2 = 1*length (rsk) ;\nuv4 =  tan(rad2)*dz2;\nmask2 = clamp(8-8*rad2, 0.0, 1.0);\nKugel2 = uv4*mask2;\n\n//Kugel3\nfloat argu = length(uv1+q5*uv1.y);\nrsk = (sin(.1*(q27-8)/ argu));\n//rsk = (sin(.5*q27*atan(uv1.x,uv1.y))) ;\ndz3 = normalize(rsk);\nrad3 = 1*length (rsk) ;\nuv4 =  tan(-rad3)*dz3;\nmask3 = clamp(8-8*rad3, 0.0, 1.0);\nKugel3 = uv4*mask3;\n\nvec2 dz = (Kugel1 + q12*Kugel2*length(uv1) + q13*Kugel3*argu);\n//******************** STARS\nrss0.x = atan(uv1.x, uv1.y)/3.1416;\nrss0.y = .01/(length (uv1));\n\nrss = vec2 (rss0.x,rss0.y+time/2)+dz;\nrss = (mat2(.7,.7,-.7,.7) * rss);\nfloat noise = (texture(sampler_pw_noise_lq,rss/32).xyz-.8 >= 0);\ntmp = abs(fract(rss*8)-.5);\n\n//*************************\nuv1 -= dz*.5;\nfloat z = .2/(length(uv1)+q21);\nuv2.y = z + q8;\nuv2.x = rss0.x +q7;\nuv3 =fract(uv2);\ncathed =  texture (sampler_main,uv3+.4*dz).xyz*12;\n\nfloat mod = (q22+1)/6;\n\n//Deckenbeleuchtung:\nfire = clamp(.05*q22/length (uv1)*\n (lum(texture (sampler_main,uv3+.0).xyz)), 0.0, 1.0) ;\n\n//Tasaechl. Feuer; Problem: uv1 passt nicht zu uv3\nfire += clamp(.02*q22/length (uv1)*\n (lum(texture (sampler_main,uv1+.5).xyz)), 0.0, 1.0)/length(uv1);\n\nk1 = lum(fire);\nfire = k1*vec3(1,k1*.8,k1*k1/3)  ;\n\nuvo+=dz;\nsky = clamp(.02/length(uvo-.3), 0.0, 1.0) * 1;\n\nvec3 dots = clamp(.04/length(tmp), 0.0, 1.0) *noise;\ndots *= clamp(.2/abs(rss0.y), 0.0, 1.0);\ndots = clamp(lum(dots)*lum(dots)*1, 0.0, 1.0);\nk1 = lum(dots);\ndots= k1*vec3(1,k1*.8,k1*k1/3) *2 ;\nfloat cmask = clamp(1-16*lum(((texture(sampler_blur1, fract(uv3)).xyz * scale1) + bias1)), 0.0, 1.0);\nret += sky * cmask;\nret += fire+dots;\n\nret += sky*cathed/2;\nfloat dis = length(uv1);\nfloat crot = sin((dis+time)*12);\nvec3 blk = mod * vec3 (crot,1-crot,2-dis)*dis;\nblk *= (q12*(1/rad2+q15*mask2)+q13*(1/rad3+q15*mask3))/2 ;\nblk += q22/rad1*roam_cos-mask1/4 ;\nret += blk;\n\n}","warp_hlsl":"float3 color, mus;\nfloat dx,dy;\nshader_body {\n\nfloat2 uv1 = (uv-.5);// * aspect.xy;\n\nfloat2 uv6 = uv1;\nfloat z = q28*4*length((abs(uv1.x)-abs(uv1.y)));\nfloat2 d = normalize(uv1);\nfloat2 rs = clamp(tan(z)*d,-2,2);\nuv1 -= rs/40;\n\nuv6 = .4*cos(uv1*4+time);\nmus = .005/(length(uv6));\n\nfloat3 crisp= tex2D(sampler_main,(uv1)*(.95-q28/16+.4*z)+.5);\n\nfloat3 ret1 = crisp + mus;\n\nret = (ret1*.99-.03);\n\n}","comp_hlsl":"sampler sampler_pw_noise_lq;\n\nfloat k1, k2, mask1, mask2, mask3, rad1, rad2, rad3;\nfloat2 rs, rss, rss0, rs0, uv2, uv3,uv4, rsk, uvo;\nfloat2 dz1, dz2, dz3, Kugel1, Kugel2, Kugel3,tmp;\nfloat3 noise, ret1, ret2, cathed, sky, fire;\n\nshader_body {\nuvo = uv*aspect.xy;\nuv = mul(uv*aspect.xy,float2x2(_qa));\nuv = uv + -.0- .2*float2(q5,q6);\nfloat2 uv1 = (uv-.5 );//*aspect.xy;\n\n//Kugel1\nrsk = (uv1 + float2 (q9,q10)) ;\ndz1 = normalize(rsk);\nrad1 = q11*length (rsk) ;\nuv4 =  tan(rad1)*dz1;\nmask1 = saturate(8-8*rad1);\nKugel1 = uv4*mask1*8/q11;\nuv1 += Kugel1*.1;\n\n//Kugel2\nrsk = (sin(q27*atan2(uv1.x,uv1.y)/2)) ;\ndz2 = normalize(rsk);\nrad2 = 1*length (rsk) ;\nuv4 =  tan(rad2)*dz2;\nmask2 = saturate(8-8*rad2);\nKugel2 = uv4*mask2;\n\n//Kugel3\nfloat argu = length(uv1+q5*uv1.y);\nrsk = (sin(.1*(q27-8)/ argu));\n//rsk = (sin(.5*q27*atan2(uv1.x,uv1.y))) ;\ndz3 = normalize(rsk);\nrad3 = 1*length (rsk) ;\nuv4 =  tan(-rad3)*dz3;\nmask3 = saturate(8-8*rad3);\nKugel3 = uv4*mask3;\n\nfloat2 dz = (Kugel1 + q12*Kugel2*length(uv1) + q13*Kugel3*argu);\n//******************** STARS\nrss0.x = atan2(uv1.x, uv1.y)/3.1416;\nrss0.y = .01/(length (uv1));\n\nrss = float2 (rss0.x,rss0.y+time/2)+dz;\nrss = mul(rss,float2x2(.7,.7,-.7,.7));\nfloat noise = (tex2D(sampler_pw_noise_lq,rss/32)-.8 >= 0);\ntmp = abs(frac(rss*8)-.5);\n\n//*************************\nuv1 -= dz*.5;\nfloat z = .2/(length(uv1)+q21);\nuv2.y = z + q8;\nuv2.x = rss0.x +q7;\nuv3 =frac(uv2);\ncathed =  tex2D (sampler_main,uv3+.4*dz)*12;\n\nfloat mod = (q22+1)/6;\n\n//Deckenbeleuchtung:\nfire = saturate(.05*q22/length (uv1)*\n (lum(tex2D (sampler_main,uv3+.0)))) ;\n\n//Tasaechl. Feuer; Problem: uv1 passt nicht zu uv3\nfire += saturate(.02*q22/length (uv1)*\n (lum(tex2D (sampler_main,uv1+.5))))/length(uv1);\n\nk1 = lum(fire);\nfire = k1*float3(1,k1*.8,k1*k1/3)  ;\n\nuvo+=dz;\nsky = saturate (.02/length(uvo-.3)) * 1;\n\nfloat3 dots = saturate(.04/length(tmp)) *noise;\ndots *= saturate(.2/abs(rss0.y));\ndots = saturate(lum(dots)*lum(dots)*1);\nk1 = lum(dots);\ndots= k1*float3(1,k1*.8,k1*k1/3) *2 ;\nfloat cmask = saturate(1-16*lum(GetBlur1(frac(uv3))));\nret += sky * cmask;\nret += fire+dots;\n\nret += sky*cathed/2;\nfloat dis = length(uv1);\nfloat crot = sin((dis+time)*12);\nfloat3 blk = mod * float3 (crot,1-crot,2-dis)*dis;\nblk *= (q12*(1/rad2+q15*mask2)+q13*(1/rad3+q15*mask3))/2 ;\nblk += q22/rad1*roam_cos-mask1/4 ;\nret += blk;\n\n}"}