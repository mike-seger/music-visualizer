{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":0,"echo_zoom":1,"echo_orient":3,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"wrap":0,"wave_a":0.001,"wave_scale":0.133,"wave_smoothing":0,"wave_mystery":-1,"modwavealphastart":1,"modwavealphaend":1.3,"dx":0.00001,"dy":0.00001,"warp":0.01,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"ob_size":0.005,"ob_a":0.5,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"mv_l":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":40,"thickoutline":1,"rad":0.06623,"tex_zoom":1.79845,"r":0,"a":0.1,"g2":0,"border_b":0,"border_a":0},"init_eqs_str":"(function(){a['vol'] = 0; a['bob'] = 0; a['border_1'] = 0; a['ro'] = 0; a['sp'] = 0; a['red'] = 0; a['spi'] = 0; a['tm'] = 0; a['bob']=1.5; a['ro']=0; a['red']=rand(20);}())","frame_eqs_str":"(function(){a['vol']=(1+(0.2*div(((a['bass_att']+a['treb_att'])+a['mid_att']),3))); a['bob']=(((a['bob']*above(a['bob'], 0.01))-0.01)+(1*(1-above(a['bob'], 0.01)))); a['bob']=(0.4+(0.4*Math.sin((a['time']*0.8)))); a['bob']=(a['bob']*a['vol']); a['border_1']=0.4; a['sides']=30; a['ro']=(a['ro']+0.02); a['ang']=a['ro']; a['sp']=(a['red']*0.025); a['spi']=(0.5-a['sp']); a['tm']=(a['time']*0.1); a['border_r']=((0.5+(a['sp']*Math.sin((a['tm']*0.6))))+(a['spi']*Math.cos((a['tm']*1.46)))); a['border_g']=((0.5+(a['sp']*Math.sin((a['tm']*1.294))))+(a['spi']*Math.cos((a['tm']*0.87)))); a['border_b']=((0.5+(a['sp']*Math.sin((a['tm']*1.418))))+(a['spi']*Math.cos((a['tm']*0.76))));}())","init_eqs_eel":"bob = 1.5;\nro = 0;\nred = rand(20);","frame_eqs_eel":"vol = 1 + 0.2*((bass_att+treb_att+mid_att)/3);\nbob = bob*above(bob,0.01) - 0.01 + 1*(1 - above(bob,0.01));\nbob = 0.4 + 0.4*sin(time*0.8);\nbob = bob*vol;\n//rad = bob;\nborder_1 = 0.4;\nsides = 30;\nro = ro + 0.02;\nang = ro;\n//rad = 0.6;\n\nsp = red*0.025;\nspi = 0.5 - sp;\ntm = time*0.1;\nborder_r = 0.5 + sp*sin(tm*0.6) + spi*cos(tm*1.46);\nborder_g = 0.5 + sp*sin(tm*1.294) + spi*cos(tm*0.87);\nborder_b = 0.5 + sp*sin(tm*1.418) + spi*cos(tm*0.76);\n"},{"baseVals":{"enabled":1,"sides":40,"additive":1,"num_inst":4,"g":1,"b":1,"g2":0,"border_a":0},"init_eqs_str":" ","frame_eqs_str":"(function(){a['x']=(0.5+(0.225*Math.sin((div(a['time'],a['instance'])*0.7)))); a['y']=(0.5+(0.3*Math.cos((div(a['time'],a['instance'])*0.7)))); a['x']=(a['x']-((0.4*a['x'])*Math.sin(a['time']))); a['y']=(a['y']-((0.4*a['y'])*Math.cos(a['time']))); a['rad']=(a['rad']*a['mid_att']); a['r']=(0.5+(0.5*Math.sin((a['frame']*0.5)))); a['b']=(0.5+(0.5*Math.sin(((a['frame']*0.5)+2.094)))); a['g']=(0.5+(0.5*Math.sin(((a['frame']*0.5)+4.188))));}())","init_eqs_eel":"","frame_eqs_eel":"x = 0.5 + 0.225*sin(time /instance*0.7);\ny = 0.5 + 0.3*cos(time /instance*0.7);\nx = x- 0.4*x*sin(time);\ny = y- 0.4*y*cos(time);\n\n\n\nrad = rad*mid_att;\nr = 0.5 + 0.5*sin(frame*0.5);\nb = 0.5 + 0.5*sin(frame*0.5 + 2.094);\ng = 0.5 + 0.5*sin(frame*0.5 + 4.188);\n"},{"baseVals":{"enabled":1,"sides":40,"additive":1,"g":1,"b":1,"g2":0,"border_a":0},"init_eqs_str":" ","frame_eqs_str":"(function(){a['x']=(0.5+(0.5*((Math.sin((a['time']*1.1))*0.3)+(0.7*Math.sin((a['time']*0.5)))))); a['x']=(0.5+(0.225*Math.sin((a['time']+2.09)))); a['y']=(0.5+(0.3*Math.cos((a['time']+2.09)))); a['rad']=(a['rad']*a['bass_att']); a['r']=(0.5+(0.5*Math.sin((a['frame']*0.5)))); a['b']=(0.5+(0.5*Math.sin(((a['frame']*0.5)+2.094)))); a['g']=(0.5+(0.5*Math.sin(((a['frame']*0.5)+4.188))));}())","init_eqs_eel":"","frame_eqs_eel":"x = 0.5 + 0.5*(sin(time*1.1)*0.3 + 0.7*sin(time*0.5));\nx = 0.5 + 0.225*sin(time + 2.09);\ny = 0.5 + 0.3*cos(time + 2.09);\n\nrad = rad*bass_att;\nr = 0.5 + 0.5*sin(frame*0.5);\nb = 0.5 + 0.5*sin(frame*0.5 + 2.094);\ng = 0.5 + 0.5*sin(frame*0.5 + 4.188);\n"},{"baseVals":{"enabled":1,"sides":40,"additive":1,"num_inst":5,"rad":0.07419,"g":1,"b":1,"g2":0,"border_a":0},"init_eqs_str":" ","frame_eqs_str":"(function(){a['x']=(0.5+(0.225*Math.sin(div(a['time'],a['instance'])))); a['y']=(0.5+(0.3*Math.cos(div(a['time'],a['instance'])))); a['x']=(a['x']+((0.4*a['x'])*Math.sin(a['time']))); a['y']=(a['y']+((0.4*a['y'])*Math.cos(a['time']))); a['rad']=(a['rad']*a['treb_att']); a['r']=(0.5+(0.5*Math.sin((a['frame']*0.5)))); a['b']=(0.5+(0.5*Math.sin(((a['frame']*0.5)+2.094)))); a['g']=(0.5+(0.5*Math.sin(((a['frame']*0.5)+4.188))));}())","init_eqs_eel":"","frame_eqs_eel":"//x = 0.5 + 0.5*(sin(time*1.1)*0.3 + 0.7*sin(time*0.5));\nx = 0.5 + 0.225*sin(time /instance);\ny = 0.5 + 0.3*cos(time /instance);\nx = x+ 0.4*x*sin(time);\ny = y+ 0.4*y*cos(time);\n\n\n//x = x+(0.1*q3)*sin((instance*2.4));\n//y = y+(0.1*q4)*cos((instance*2.4));\n\n\nrad = rad*treb_att;\nr = 0.5 + 0.5*sin(frame*0.5);\nb = 0.5 + 0.5*sin(frame*0.5 + 2.094);\ng = 0.5 + 0.5*sin(frame*0.5 + 4.188);\n"}],"waves":[{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_str":"(function(){a['meanbass_att'] = 0; a['q1'] = 0; a['bass_thresh'] = 0; a['flip'] = 0; a['lastbeat'] = 0; a['beatrate'] = 0; a['mode'] = 0; a['peakbass_att'] = 0; a['ry'] = 0; a['beatcounter'] = 0; a['rot_residual'] = 0; a['dx_residual'] = 0; a['rx'] = 0; a['att'] = 0; a['volume'] = 0; a['beat'] = 0; a['vol'] = 0; a['mtime'] = 0; a['q8'] = 0; a['dy_residual'] = 0;}())","frame_eqs_str":"(function(){a['dx']=(a['dx']+a['dx_residual']); a['dy']=(a['dy']+a['dy_residual']); a['bass_thresh']=((above(a['bass_att'], a['bass_thresh'])*2)+((1-above(a['bass_att'], a['bass_thresh']))*(((a['bass_thresh']-1.3)*0.96)+1.3))); a['dx_residual']=(((equal(a['bass_thresh'], 2)*0.006)*Math.sin((a['time']*7)))+((1-equal(a['bass_thresh'], 2))*a['dx_residual'])); a['dy_residual']=(((equal(a['bass_thresh'], 2)*0.002)*Math.sin((a['time']*9)))+((1-equal(a['bass_thresh'], 2))*a['dy_residual'])); a['decay']=1; a['wave_r']=Math.sin((a['time']*2.536)); a['wave_g']=Math.sin((a['time']*2.945)); a['wave_b']=Math.sin((a['time']*1.942)); a['volume']=(0.3*((a['bass']+a['mid'])+a['att'])); a['beatrate']=(equal(a['beatrate'], 0)+((1-equal(a['beatrate'], 0))*(below(a['volume'], 0.01)+((1-below(a['volume'], 0.01))*a['beatrate'])))); a['lastbeat']=(a['lastbeat']+(equal(a['lastbeat'], 0)*a['time'])); a['meanbass_att']=(0.1*((a['meanbass_att']*9)+a['bass_att'])); a['peakbass_att']=Math.max(a['bass_att'], a['peakbass_att']); a['beatrate']=Math.max(((Math.abs(a['beat'])>0.00001)?(((Math.abs(below((a['time']-a['lastbeat']), (2*a['beatrate'])))>0.00001)?((0.1*(((a['beatrate']*9)+a['time'])-a['lastbeat']))):(a['beatrate']))):(a['beatrate'])), 0.1); a['peakbass_att']=((a['beat']*a['bass_att'])+(((1-a['beat'])*a['peakbass_att'])*((above((a['time']-a['lastbeat']), (2*a['beatrate']))*0.95)+((1-above((a['time']-a['lastbeat']), (2*a['beatrate'])))*0.995)))); a['lastbeat']=((a['beat']*a['time'])+((1-a['beat'])*a['lastbeat'])); a['peakbass_att']=Math.max(a['peakbass_att'], (1.1*a['meanbass_att'])); a['beat']=((above(a['volume'], 0.8)*below((a['peakbass_att']-a['bass_att']), (0.05*a['peakbass_att'])))*above((a['time']-a['lastbeat']), (0.1+(0.5*(a['beatrate']-0.1))))); a['beatcounter']=(a['beatcounter']+a['beat']); a['mode']=((Math.abs((a['beat']*equal(mod(a['beatcounter'],2), 0)))>0.00001)?((1-a['mode'])):(a['mode'])); a['flip']=((2*a['mode'])-1); a['monitor']=a['flip']; a['q8']=a['flip']; a['decay']=0.98; a['zoom']=1.002; a['vol']=(((a['bass_att']+a['mid_att'])+a['treb_att'])*0.25); a['vol']=(a['vol']*a['vol']); a['mtime']=(a['mtime']+((a['vol']*0.1)*a['flip'])); a['q1']=(a['mtime']*0.4);}())","pixel_eqs_str":"(function(){a['rx']=(a['x']-a['cx']); a['ry']=(a['y']-a['cy']); a['rot']=(a['rot_residual']+a['rot']); a['bass_thresh']=((above(a['bass_att'], a['bass_thresh'])*2)+((1-above(a['bass_att'], a['bass_thresh']))*(((a['bass_thresh']-1.3)*0.96)+1.3))); a['rot_residual']=(((equal(a['bass_thresh'], 2)*0.01)*Math.sin((a['time']*7)))+((1-equal(a['bass_thresh'], 2))*a['rot_residual']));}())","init_eqs_eel":"","frame_eqs_eel":"dx = dx + dx_residual;\ndy = dy + dy_residual;\nbass_thresh = above(bass_att,bass_thresh)*2 + (1-above(bass_att,bass_thresh))*((bass_thresh-1.3)*0.96+1.3);\ndx_residual = equal(bass_thresh,2)*0.006*sin(time*7) + (1-equal(bass_thresh,2))*dx_residual;\ndy_residual = equal(bass_thresh,2)*0.002*sin(time*9) + (1-equal(bass_thresh,2))*dy_residual;\ndecay=1;\nwave_r=sin(time*2.536);\nwave_g=sin(time*2.945);\nwave_b=sin(time*1.942);\n\n\n//krash's beat detection code\nvolume = 0.3*(bass+mid+att);\nbeatrate = equal(beatrate,0) + (1-equal(beatrate,0))*(below(volume,0.01) + (1-below(volume,0.01))*beatrate);\nlastbeat = lastbeat + equal(lastbeat,0)*time;\nmeanbass_att = 0.1*(meanbass_att*9 + bass_att);\npeakbass_att = max(bass_att,peakbass_att);\nbeatrate = max(if(beat,if(below(time-lastbeat,2*beatrate),0.1*(beatrate*9 + time - lastbeat),beatrate),beatrate),0.1);\npeakbass_att = beat*bass_att + (1-beat)*peakbass_att*(above(time - lastbeat, 2*beatrate)*0.95 + (1-above(time - lastbeat, 2*beatrate))*0.995);\nlastbeat = beat*time + (1-beat)*lastbeat;\npeakbass_att = max(peakbass_att,1.1*meanbass_att);\nbeat = above(volume,0.8)*below(peakbass_att - bass_att, 0.05*peakbass_att)*above(time - lastbeat, 0.1 + 0.5*(beatrate - 0.1));\nbeatcounter = beatcounter + beat;\nmode = if(beat*equal(beatcounter%2,0),1-mode,mode);\nflip = 2*mode-1;\nmonitor=flip;\nq8=flip;\n\n\ndecay=0.98;\nzoom=1.002;\n\nvol=(bass_att+mid_att+treb_att)*0.25;\nvol=vol*vol;\nmtime=mtime+vol*0.1*flip;\n\nq1=mtime*0.4;","pixel_eqs_eel":"rx=x-cx;\nry=y-cy;\nrot=rot_residual+rot;\nbass_thresh = above(bass_att,bass_thresh)*2 + (1-above(bass_att,bass_thresh))*((bass_thresh-1.3)*0.96+1.3);\nrot_residual=equal(bass_thresh,2)*0.01*sin(time*7) + (1-equal(bass_thresh,2))*rot_residual;","warp":"uniform sampler2D sampler_worms;\nvec3 color, mus;\nvec2 uv1, uv6;\nfloat dx,dy;\n\nshader_body {\n\nuv1 = (uv-.5);\n\nvec2 ang2= texture (sampler_noise_hq,uv1/3+.006*time).xy;\nuv6 = (mat2(ang2.y,-ang2.x,ang2.x,ang2.y) * uv1);\n\nmus = abs(.5*cos(uv6.y*14)-(cos(uv6.x*71)));\nmus *= vec3 (1,.96,.9)/25;\n\nuv6 = .2*sin(12*uv+rand_frame);\nvec3 dots = .001/length(uv6)* vec3 (0.2,1,1);\n\n//dots = lum(texture (sampler_noise_hq,uv +rand_frame).xyz);\n//dots = (dots-.7) * (dots >= .7) * vec3 (0.2,1,1);\n\nmus -= dots;\n\n\nvec3 blur = ((texture(sampler_blur1, fract(uv)).xyz * scale1) + bias1);\n\nvec2 hor = vec2 (texsize.z,0);\nvec2 ver = vec2 (0,texsize.w);\nhor = vec2 (.004,0);\nver = vec2 (0,.004);\n\n\n\nfloat dx = lum(texture(sampler_main, uv+hor).xyz-texture(sampler_main, uv-hor).xyz);\nfloat dy = lum(texture(sampler_main, uv+ver).xyz-texture(sampler_main, uv-ver).xyz);\n\nvec2 zz = vec2 (dx,dy);\n\n\nvec3 crisp= texture(sampler_main,uv+zz*.02).xyz;\ncrisp +=.015 - length(zz)*blur/1.5;\n\nvec3 ret1 = crisp - lum(blur)*.012 + mus;\n//ret1 = abs(mus)/2;\nret = ret1 * .99 -  .04 ;\n}","comp":"vec3 ret1, ret2, reta;\nvec2 sam;\nshader_body\n{\n    sam = texture(sampler_main,uv*.5).xyz;\n    ret1 = texture(sampler_main, vec2(uv.x, uv.y)).xyz;\n    sam *= ((texture(sampler_blur1, uv).xyz * scale1) + bias1)-((texture(sampler_blur3, uv).xyz * scale3) + bias3);       \n\n    reta = texture(sampler_main, sam+uv ).rgb;\n    ret1 = reta.r * (.5*bass_att*uv_orig.y+reta) + (reta.r)*ret1;\n    ret1 *= (ret1+1)/2; //gamma\n\nuv = (uv-.5)*.3+.5;\n    sam = texture(sampler_main,uv*.5).xyz;\n    ret2 = texture(sampler_main, vec2(uv.x, uv.y)).xyz;\n    sam *= ((texture(sampler_blur1, uv).xyz * scale1) + bias1)-((texture(sampler_blur3, uv).xyz * scale3) + bias3);       \n\n    reta = texture(sampler_main, sam+uv ).rgb;\n    ret2 = reta.r * (.5*bass_att*uv_orig.y+reta) + (reta.r)*ret2;\n    ret2 *= (ret1+1); //gamma\n\n\n\nret = max(ret1, ret2);\nret *= .5+.5*lum(ret);\n//ret = (1+ret1)*ret2;\n\n}\n\n","warp_hlsl":"sampler sampler_worms;\nfloat3 color, mus;\nfloat2 uv1, uv6;\nfloat dx,dy;\n\nshader_body {\n\nuv1 = (uv-.5);\n\nfloat2 ang2= tex2D (sampler_noise_hq,uv1/3+.006*time).xy;\nuv6 = mul(uv1,float2x2(ang2.y,-ang2.x,ang2.x,ang2.y));\n\nmus = abs(.5*cos(uv6.y*14)-(cos(uv6.x*71)));\nmus *= float3 (1,.96,.9)/25;\n\nuv6 = .2*sin(12*uv+rand_frame);\nfloat3 dots = .001/length(uv6)* float3 (0.2,1,1);\n\n//dots = lum(tex2D (sampler_noise_hq,uv +rand_frame));\n//dots = (dots-.7) * (dots >= .7) * float3 (0.2,1,1);\n\nmus -= dots;\n\n\nfloat3 blur = GetBlur1(frac(uv));\n\nfloat2 hor = float2 (texsize.z,0);\nfloat2 ver = float2 (0,texsize.w);\nhor = float2 (.004,0);\nver = float2 (0,.004);\n\n\n\nfloat dx = lum(GetPixel(uv+hor)-GetPixel(uv-hor));\nfloat dy = lum(GetPixel(uv+ver)-GetPixel(uv-ver));\n\nfloat2 zz = float2 (dx,dy);\n\n\nfloat3 crisp= tex2D(sampler_main,uv+zz*.02);\ncrisp +=.015 - length(zz)*blur/1.5;\n\nfloat3 ret1 = crisp - lum(blur)*.012 + mus;\n//ret1 = abs(mus)/2;\nret = ret1 * .99 -  .04 ;\n}","comp_hlsl":"float3 ret1, ret2, reta;\nfloat2 sam;\nshader_body\n{\n    sam = tex2D(sampler_main,uv*.5);\n    ret1 = tex2D(sampler_main, float2(uv.x, uv.y));\n    sam *= GetBlur1(uv)-GetBlur3(uv);       \n\n    reta = tex2D(sampler_main, sam+uv ).rgb;\n    ret1 = reta.r * (.5*bass_att*uv_orig.y+reta) + (reta.r)*ret1;\n    ret1 *= (ret1+1)/2; //gamma\n\nuv = (uv-.5)*.3+.5;\n    sam = tex2D(sampler_main,uv*.5);\n    ret2 = tex2D(sampler_main, float2(uv.x, uv.y));\n    sam *= GetBlur1(uv)-GetBlur3(uv);       \n\n    reta = tex2D(sampler_main, sam+uv ).rgb;\n    ret2 = reta.r * (.5*bass_att*uv_orig.y+reta) + (reta.r)*ret2;\n    ret2 *= (ret1+1); //gamma\n\n\n\nret = max(ret1, ret2);\nret *= .5+.5*lum(ret);\n//ret = (1+ret1)*ret2;\n\n}\n\n"}