{"version":2,"baseVals":{"rating":3,"wave_mode":15,"additivewave":1,"wave_thick":1,"wrap":0,"wave_a":100,"wave_scale":6.773,"wave_smoothing":0,"wave_mystery":-0.2,"modwavealphastart":1,"modwavealphaend":1.482,"warp":0,"wave_r":0.395,"wave_g":0.5,"wave_b":0.55,"wave_x":0.68,"wave_y":0.38,"ob_size":0,"ob_a":1,"ib_size":0,"ib_r":0.1,"ib_g":0.1,"ib_b":0.1,"ib_a":0.2,"mv_x":14.28,"mv_a":0,"b1x":0.98,"b2x":1.06},"shapes":[{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_str":"(function(){a['n'] = 0; a['y1'] = 0; a['index2'] = 0; a['index'] = 0; a['t1'] = 0; a['x1'] = 0; a['q22'] = 0; a['q6'] = 0; a['q1'] = 0; a['q5'] = 0; a['k5'] = 0; a['trel'] = 0; a['dec_s'] = 0; a['my'] = 0; a['is_beat'] = 0; a['q23'] = 0; a['k1'] = 0; a['q24'] = 0; a['ran2'] = 0; a['sa'] = 0; a['ran3'] = 0; a['ran5'] = 0; a['dec_m'] = 0; a['q4'] = 0; a['shapes'] = 0; a['mz'] = 0; a['p2'] = 0; a['avg'] = 0; a['trig'] = 0; a['mx'] = 0; a['vol'] = 0; a['p1'] = 0; a['peak'] = 0; a['len'] = 0; a['trig1'] = 0; a['q2'] = 0; a['q27'] = 0; a['p3'] = 0; a['z1'] = 0; a['vol2'] = 0; a['q3'] = 0; a['t0'] = 0; a['vol_'] = 0; a['mzoom_'] = 0; a['ran1'] = 0; a['mzoom'] = 0; a['q28'] = 0; a['pk'] = 0; a['q30'] = 0; a['p1']=0; a['p2']=0; a['x1']=0; a['y1']=0; a['t1']=0; a['shapes']=820; a['frm']=((rand(10)>=5)?1:0);}())","frame_eqs_str":"(function(){a['dec_m']=pow(0.8, div(30,a['fps'])); a['dec_s']=pow(0.9, div(30,a['fps'])); a['vol']=div(((a['bass']+a['mid'])+a['treb']),3); a['vol_']=((a['dec_m']*a['vol_'])+((1-a['dec_m'])*a['vol'])); a['avg']=((a['avg']*a['dec_s'])+(a['vol']*(1-a['dec_s']))); a['is_beat']=(above(a['vol'], ((1*a['avg'])+(2*a['peak'])))*above(a['time'], (a['t0']+0.2))); a['t0']=((a['is_beat']*a['time'])+((1-a['is_beat'])*a['t0'])); a['peak']=((a['is_beat']*a['vol'])+(((1-a['is_beat'])*a['peak'])*a['dec_m'])); a['index']=mod((a['index']+a['is_beat']),8); a['index2']=mod((a['index2']+(a['is_beat']*bnot(a['index']))),8); a['trig']=(a['is_beat']*((Math.abs((a['index'])-(0))<0.00001)?1:0)); a['t1']=(a['t1']+a['trig']); a['ran1']=((a['dec_m']*a['ran1'])+((1-a['dec_m'])*Math.cos((div(3.14,6)*a['t1'])))); a['ran2']=((a['dec_m']*a['ran2'])+((1-a['dec_m'])*Math.sin((div(3.14,6)*a['t1'])))); a['ran3']=((a['dec_m']*a['ran3'])+((1-a['dec_m'])*Math.sin((div(3.14,5)*a['t1'])))); a['q1']=a['ran1']; a['q2']=a['ran2']; a['q3']=a['ran3']; a['n']=0; a['p1']*=0.9; a['p2']=0; a['p3']=0; a['mx']=0; a['my']=0; a['mz']=0; a['vol2']=Math.min(a['vol'], 2); a['vol2']=sqrt(a['vol']); a['k5']=div(1,(rand(10)+0.2)); for(var mdparser_idx590=0;mdparser_idx590<a['shapes'];mdparser_idx590++){a['sa']=div(a['n'],a['shapes']); a['p1']=(a['p1']+((0.15*Math.sin((((a['sa']*(a['vol']-1))*200)+(a['time']*0.1))))*a['vol'])); a['p2']=(a['p2']-((a['p1']*a['vol'])*a['k5'])); a['x1']+=(((Math.sin(a['p2'])*a['sa'])*0.006)*a['vol']); a['y1']+=(((Math.cos(a['p2'])*a['sa'])*0.006)*a['vol']); a['z1']+=((Math.cos((a['p1']*0.03))*0.005)*a['vol']); a['mx']+=a['x1']; a['my']+=a['y1']; a['mz']+=a['z1']; a['x1']=(Math.atan(div(a['x1'],16))*16); a['y1']=(Math.atan(div(a['y1'],16))*16); a['z1']=(Math.atan(div(a['z1'],16))*16); a['gmegabuf'][Math.floor((a['n']*4))]=a['x1']; a['gmegabuf'][Math.floor(((a['n']*4)+1))]=a['y1']; a['gmegabuf'][Math.floor(((a['n']*4)+2))]=a['z1']; a['n']+=1;} a['trel']=(a['trel']+(div(a['vol_'],a['fps'])*0.3)); a['q4']=(Math.min(Math.max(0, (4*Math.sin(a['trel']))), 1)*-0.2); a['mzoom']=((Math.abs(a['trig'])>0.00001)?(((0.1*a['vol2'])*((rand(10)>=3)?1:0))):(a['mzoom'])); a['mzoom_']=((a['mzoom_']*a['dec_m'])+((1-a['dec_m'])*a['mzoom'])); a['q4']=a['mzoom_']; a['q5']=((a['vol']>=a['vol_'])?1:0); a['monitor']=a['q5']; a['q6']=a['aspecty']; a['q27']=a['index']; a['q28']=a['index2']; a['q24']=a['is_beat']; a['q30']=Math.min(1, div(0.05,a['mzoom'])); a['trig1']=(a['is_beat']*mod(a['index'],2)); a['pk']=((Math.abs(a['trig1'])>0.00001)?(1):((a['pk']*a['dec_m']))); a['ran5']=((Math.abs(a['trig1'])>0.00001)?(rand(1)):(a['ran5'])); a['q22']=((a['pk']*a['pk'])*mod(a['frame'],2)); a['q22']=((Math.abs((a['pk'])-(1))<0.00001)?1:0); a['q23']=a['ran5'];}())","pixel_eqs_str":"(function(){a['x1']=(a['x']-(0.5*Math.abs(a['q1']))); a['y1']=(a['y']-(0.5*Math.abs(a['q2']))); a['k1']=div(a['q3'],2); a['len']=(sqrt(((pow(a['x1'], 3)*a['k1'])-(pow(a['y1'], 3)*(1-a['k1']))))-0.05); a['zoom']=(1+(a['len']*a['q4'])); a['dx']=((0.0*a['q1'])*(a['y']-0.5)); a['dy']=((0.0*a['q2'])*(a['x']-0.5)); a['warp']=0.0; a['rot']=(((a['x1']-a['y1'])*0.01)*a['q1']);}())","init_eqs_eel":"p1 = 0; p2 = 0; x1 = 0 ; y1 = 0; t1 = 0;\nshapes = 820;\nfrm = (rand(10) >= 5);","frame_eqs_eel":"dec_m = pow (0.8, 30/fps);\ndec_s = pow (0.9, 30/fps);\nvol = (bass+mid+treb)/3; \nvol_ = dec_m * vol_ + (1-dec_m)*vol;\navg = avg*dec_s + vol*(1-dec_s);\nis_beat = above(vol, 1*avg+2*peak) * above (time, t0+.2);\nt0 = is_beat*time + (1-is_beat)*t0;\npeak = is_beat * vol + (1-is_beat)*peak*dec_m;\nindex = (index + is_beat) %8;\nindex2 = (index2 + is_beat*bnot(index)) %8;\n\ntrig = is_beat*(index==0);\nt1 = t1+trig; \n\nran1 = dec_m * ran1 + (1-dec_m)*cos(3.14/6*t1);\nran2 = dec_m * ran2 + (1-dec_m)*sin(3.14/6*t1);\nran3 = dec_m * ran3 + (1-dec_m)*sin(3.14/5*t1);\nq1 = ran1; q2 = ran2; q3 = ran3;\n\nn = 0; \np1 *= .9; p2 = 0; p3 = 0;\nmx = 0; my = 0; mz = 0;\nvol2 = min(vol,2);\nvol2 = sqrt(vol);\nk5 = 1 / (rand(10)+.2); \nloop (shapes,\n  sa = n/shapes;\n  p1 =  p1+.15*sin(sa*(vol-1)*200+time*.1)*vol;   \n  p2 = p2-p1*vol*k5;\n  x1 += sin(p2)*sa*.006*vol;\n  y1 += cos(p2)*sa*.006*vol;\n  z1 += cos(p1*.03)*.005*vol;\n\nmx += x1; my += y1; mz += z1;\nx1 = atan(x1/16)*16;\ny1 = atan(y1/16)*16;\nz1 = atan(z1/16)*16;\n//z1 = 1;\n  gmegabuf(n*4) =   x1;\n  gmegabuf(n*4+1) = y1;\n  gmegabuf(n*4+2) = z1;\n  n +=1;\n);\n\ntrel = trel + vol_/fps*.3;\nq4 = min(max(0,4*sin(trel)),1)*-.2;\nmzoom = if(trig,.1*vol2*(rand(10)>=3),mzoom);\nmzoom_ = mzoom_*dec_m + (1-dec_m)*mzoom;\nq4 = mzoom_;\nq5 = vol >= vol_;\n\nmonitor = q5;\nq6=aspecty; \nq27 = index;\nq28 = index2;\nq24 = is_beat;\nq30 = min(1,.05/mzoom);;\n\ntrig1 = is_beat*(index%2);\npk = if (trig1,1,pk*dec_m);\nran5 = if(trig1, rand(1), ran5);\n\nq22 = pk * pk * (frame%2);\nq22 = pk==1;\nq23 = ran5;","pixel_eqs_eel":"x1 = x-0.5*abs(q1); y1 = y-.5*abs(q2);\nk1 = q3/2; \nlen = sqrt(pow(x1,3)*k1-pow(y1,3)*(1-k1))-.05;\nzoom = 1 + (len)*q4; \ndx = 0.0 * q1* (y-.5);\ndy = 0.0 * q2* (x-.5);\n\n\nwarp = 0.0;\n\nrot = (x1-y1)*.01*q1;","warp":"shader_body\n{\n    // PAINTERLY EFFECT:\n    vec2 t = 0.0005 + 0.045*clamp(vec2(bass,treb)-1, 0.0, 1.0);\n    vec2 uv2 = uv;\n    vec2 delta2 = texsize.zw*vec2(1,1);\n    vec3 blurry_color = texture( sampler_main, \n        mix(uv,uv_orig,-1) + delta2 ).xyz;\n    vec2 v = (blurry_color.xy-0.37) * t;\n      //uv2 += v;\n      // instead, add a rotated version:\n      uv2.x += v.x*q1 + v.y*q2;\n      uv2.y += v.x*q2 - v.y*q1;\n\n    // sample previous frame\n    ret = texture( sampler_main, uv2 ).xyz;\n\n    // darken over time\n    ret -= 0.006;    \n}","comp":"shader_body\n{\n//MilkDrop3 Flip Mode:\nuv = 1-uv;\n\n\n\n\n\n//MilkDrop3 Rotate Mode:\nuv = uv.xy;\n\n\n    vec2 d = texsize.zw*4;\n    float dx = ( ((texture(sampler_blur1, uv+vec2(1,0)*d).xyz * scale1) + bias1)-((texture(sampler_blur1, uv-vec2(1,0)*d).xyz * scale1) + bias1) ).y;\n    float dy = ( ((texture(sampler_blur1, uv+vec2(0,1)*d).xyz * scale1) + bias1)-((texture(sampler_blur1, uv-vec2(0,1)*d).xyz * scale1) + bias1) ).y;\n    vec2 uv_y = uv-vec2(dx,dy)*.7;\n\nret = mix(vec3(2.6,2,2)*texture(sampler_fc_main, uv_y).x,\n                              vec3(2.6,2,3), ((texture(sampler_blur1, uv).xyz * scale1) + bias1).y*0.05);\n\nret = mix(ret,vec3(-.2,-0.2,-0.3),texture(sampler_main, uv).xyz.z);\n\n//MilkDrop3 Invert Mode:\nret = 1 - ret;\n//MilkDrop3 Color Mode:\nret /= vec3(2.9,2.6,2.5);\n//MilkDrop3 Blow Mode:\nvec3 avg_col = ((texture(sampler_blur2, uv).xyz * scale2) + bias2);ret = abs(avg_col - ret)*2;\n//MilkDrop3 SoftColor Mode:\nret += vec3(-0.2,0.1,0.3);\n}","warp_hlsl":"shader_body\n{\n    // PAINTERLY EFFECT:\n    float2 t = 0.0005 + 0.045*saturate(float2(bass,treb)-1);\n    float2 uv2 = uv;\n    float2 delta2 = texsize.zw*float2(1,1);\n    float3 blurry_color = tex2D( sampler_main, \n        lerp(uv,uv_orig,-1) + delta2 ).xyz;\n    float2 v = (blurry_color.xy-0.37) * t;\n      //uv2 += v;\n      // instead, add a rotated version:\n      uv2.x += v.x*q1 + v.y*q2;\n      uv2.y += v.x*q2 - v.y*q1;\n\n    // sample previous frame\n    ret = tex2D( sampler_main, uv2 ).xyz;\n\n    // darken over time\n    ret -= 0.006;    \n}","comp_hlsl":"shader_body\n{\n//MilkDrop3 Flip Mode:\nuv = 1-uv;\n\n\n\n\n\n//MilkDrop3 Rotate Mode:\nuv = uv.xy;\n\n\n    float2 d = texsize.zw*4;\n    float1 dx = ( GetBlur1(uv+float2(1,0)*d)-GetBlur1(uv-float2(1,0)*d) ).y;\n    float1 dy = ( GetBlur1(uv+float2(0,1)*d)-GetBlur1(uv-float2(0,1)*d) ).y;\n    float2 uv_y = uv-float2(dx,dy)*.7;\n\nret = lerp(float3(2.6,2,2)*tex2D(sampler_fc_main, uv_y).x,\n                              float3(2.6,2,3), GetBlur1(uv).y*0.05);\n\nret = lerp(ret,float3(-.2,-0.2,-0.3),GetPixel(uv).z);\n\n//MilkDrop3 Invert Mode:\nret = 1 - ret;\n//MilkDrop3 Color Mode:\nret /= float3(2.9,2.6,2.5);\n//MilkDrop3 Blow Mode:\nfloat3 avg_col = GetBlur2(uv);ret = abs(avg_col - ret)*2;\n//MilkDrop3 SoftColor Mode:\nret += float3(-0.2,0.1,0.3);\n}"}