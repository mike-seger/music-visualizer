{"version":2,"baseVals":{"rating":4,"gammaadj":1.7,"decay":0.97,"echo_zoom":1,"wave_mode":6,"wave_thick":1,"modwavealphabyvolume":1,"wrap":0,"wave_a":100,"wave_scale":4.96,"wave_smoothing":0,"modwavealphastart":2,"warpanimspeed":0.97,"warpscale":1.078,"zoom":0.99951,"warp":0.0082,"sx":1.01,"wave_r":0.728,"wave_g":0.52,"wave_b":0.471,"wave_y":0.405,"ob_size":0.005,"ob_r":0.01,"ob_a":0.97,"ib_size":0.247,"ib_r":0.29,"mv_x":64,"mv_y":51.84,"mv_l":5,"mv_r":0.375,"mv_g":0.35,"mv_b":0.396,"mv_a":0,"b3x":1.11},"shapes":[{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_str":" ","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_str":"","frame_eqs_str":"(function(){a['wave_r']=(0.7+(0.3*Math.sin(a['time'])));}());","pixel_eqs_str":"(function(){a['dy']=(0.008*(a['y']+(0.1*a['bass']))); a['zoom']=1.001;}());","init_eqs_eel":"","frame_eqs_eel":"wave_r = 0.7+0.3*sin(time);","pixel_eqs_eel":"dy = 0.008*(y+0.1*bass);\nzoom = 1.001;","warp":"shader_body\n{\nuv = mix(uv_orig,uv,0.46);\n\nvec2 d = texsize.zw * 300;\nvec3 dx = ( ((texture(sampler_blur1, uv + vec2(1,2)+d).xyz * scale1) + bias1) - ((texture(sampler_blur1, uv-vec2(1,0)*d).xyz * scale1) + bias1) );\nvec3 dy = ( ((texture(sampler_blur1, uv + vec2(0,1)*d).xyz * scale1) + bias1) - ((texture(sampler_blur1, uv-vec2(0,1)*d).xyz * scale1) + bias1) );\n\nuv += vec2(lum(dx),lum(dy))*texsize.zw*50;\nret =tex2d(sampler_fc_main, uv) - 0.01;\n\n}","comp":"vec3 ret1;\nvec2 zz, uv0, uv1,uv2,uv3,uv4;\nfloat smask;\n\nfloat aTan2(float y, float x) {float angle;\t float abs_y = abs(y);\nif (x >= 0) {float r = (x - abs_y) / (x + abs_y); angle = 1-r;} \nelse {float r = (x + abs_y) / (abs_y - x); angle = 3-r; }\t\nangle = angle * .25;\nreturn y < 0 ? -angle : angle;}\n\nfloat _pow(float b,float e){return pow(b,e);}\nvec2  _pow(vec2  b,float e){return pow(b,vec2(e));}\nvec3  _pow(vec3  b,float e){return pow(b,vec3(e));}\nvec4  _pow(vec4  b,float e){return pow(b,vec4(e));}\nshader_body { ;\nuv0 = uv;\nuv1 = (uv-.5)*aspect.xy;\n\nuv1 = (uv - .5) * aspect.xy;    \nfloat stars = 0; float dist, inten;\nint n = 1;\nint anz = 4;\nwhile (n <= anz) {\n  dist = (1-fract(0.97/anz*n+0.109*time)) * (1-0.24*rad);\n  inten =  (1-dist);\n  uv3 = (uv1+vec2(q1,q2));\n   uv4 = 64*dist*uv3;\n  smask = (texture (sampler_pw_noise_lq,uv4/256).xyz).g-0.81;\n  stars += max(stars,clamp(inten*(.1/length(abs(fract(uv4)-.5))*smask), 0.0, 1.0));\nn++;\n}\nuv2 = uv1 - vec2(q5,q6);\nfloat beat = (mid - .5) * (mid > 0.5)*2;\nfloat flash = 0.012/(length(uv2))*min(3,_pow(beat,1));\nflash *= flash/(abs(fract(3*aTan2(uv2.x,uv2.y)+time*2)-.5));\nret1 = max(texture(sampler_main, uv0).xyz*2,((texture(sampler_blur2, uv0).xyz * scale2) + bias2)*2);\n//ret =clamp(.025/length(sin(uv3)), 0.0, 1.0)*vec3(0.4,2.8,2.9); //MilkDrop2077 color mod\nret += clamp(_pow(stars,2), 0.0, 1.0);\nret *= clamp(1-2*lum(ret1), 0.0, 1.0);\nret +=  ret1;\n//ret += 2*clamp(flash, 0.0, 1.0)*vec3(2.9,2.3,2.7); //MilkDrop2077 color mod\n}","warp_hlsl":"shader_body\n{\nuv = lerp(uv_orig,uv,0.46);\n\nfloat2 d = texsize.zw * 300;\nfloat3 dx = ( GetBlur1(uv + float2(1,2)+d) - GetBlur1(uv-float2(1,0)*d) );\nfloat3 dy = ( GetBlur1(uv + float2(0,1)*d) - GetBlur1(uv-float2(0,1)*d) );\n\nuv += float2(lum(dx),lum(dy))*texsize.zw*50;\nret = tex2d(sampler_fc_main, uv) - 0.01;\n\n}","comp_hlsl":"sampler sampler_pw_noise_lq;\nfloat3 ret1;\nfloat2 zz, uv0, uv1,uv2,uv3,uv4;\nfloat smask;\n\nfloat aTan2(float y, float x) {float angle;\t float abs_y = abs(y);\nif (x >= 0) {float r = (x - abs_y) / (x + abs_y); angle = 1-r;} \nelse {float r = (x + abs_y) / (abs_y - x); angle = 3-r; }\t\nangle = angle * .25;\nreturn y < 0 ? -angle : angle;}\n\nshader_body { ;\nuv0 = uv;\nuv1 = (uv-.5)*aspect.xy;\n\nuv1 = (uv - .5) * aspect.xy;    \nfloat stars = 0; float dist, inten;\nint n = 1;\nint anz = 4;\nwhile (n <= anz) {\n  dist = (1-frac(0.97/anz*n+0.109*time)) * (1-0.24*rad);\n  inten =  (1-dist);\n  uv3 = (uv1+float2(q1,q2));\n   uv4 = 64*dist*uv3;\n  smask = (tex2D (sampler_pw_noise_lq,uv4/256)).g-0.81;\n  stars += max(stars,saturate(inten*(.1/length(abs(frac(uv4)-.5))*smask)));\nn++;\n}\nuv2 = uv1 - float2(q5,q6);\nfloat beat = (mid - .5) * (mid > 0.5)*2;\nfloat flash = 0.012/(length(uv2))*min(3,pow(beat,1));\nflash *= flash/(abs(frac(3*aTan2(uv2.x,uv2.y)+time*2)-.5));\nret1 = max(GetPixel(uv0)*2,GetBlur2(uv0)*2);\n//ret = saturate(.025/length(sin(uv3)))*float3(0.4,2.8,2.9); //MilkDrop2077 color mod\nret += saturate(pow(stars,2));\nret *= saturate(1-2*lum(ret1));\nret +=  ret1;\n//ret += 2*saturate(flash)*float3(2.9,2.3,2.7); //MilkDrop2077 color mod\n}"}